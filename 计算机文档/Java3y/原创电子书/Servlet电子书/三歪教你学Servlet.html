<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>ä¸‰æ­ªæ•™ä½ å­¦Servlet</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.701961); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
svg[id^="mermaidChart"] { line-height: 1em; }
mark { background-color: rgb(255, 255, 0); color: rgb(0, 0, 0); background-position: initial initial; background-repeat: initial initial; }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
mark .md-meta { color: rgb(0, 0, 0); opacity: 0.3 !important; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}
#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    padding-bottom: .3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
   padding-bottom: .3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}
h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}


</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-mac'><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2"><a class="md-toc-inner" href="#å‰è¨€">å‰è¨€</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n28"><a class="md-toc-inner" href="#tomcat">Tomcat</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n29"><a class="md-toc-inner" href="#1ä»€ä¹ˆæ˜¯tomcat">1.ä»€ä¹ˆæ˜¯Tomcat</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n31"><a class="md-toc-inner" href="#2ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç”¨åˆ°tomcat">2.ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç”¨åˆ°Tomcat </a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n36"><a class="md-toc-inner" href="#3é…ç½®tomcat">3.é…ç½®Tomcat </a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n58"><a class="md-toc-inner" href="#4ç›¸å…³æœ¯è¯­ä»‹ç»">4.ç›¸å…³æœ¯è¯­ä»‹ç» </a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n61"><a class="md-toc-inner" href="#5tomcatç»“æ„ç›®å½•">5.tomcatç»“æ„ç›®å½•</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n63"><a class="md-toc-inner" href="#51ç›®å½•çš„ç®€å•ä»‹ç»">5.1ç›®å½•çš„ç®€å•ä»‹ç»</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n87"><a class="md-toc-inner" href="#52webappsç›®å½•çš„è¯¦ç»†è¯´æ˜">5.2webappsç›®å½•çš„è¯¦ç»†è¯´æ˜</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n112"><a class="md-toc-inner" href="#6é…ç½®è™šæ‹Ÿç›®å½•">6.é…ç½®è™šæ‹Ÿç›®å½•</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n113"><a class="md-toc-inner" href="#61ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è™šæ‹Ÿç›®å½•">6.1ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è™šæ‹Ÿç›®å½•ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n122"><a class="md-toc-inner" href="#62é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•ä¸€">6.2é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•ä¸€</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n133"><a class="md-toc-inner" href="#63é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•äºŒ">6.3é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•äºŒ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n140"><a class="md-toc-inner" href="#7é…ç½®ä¸´æ—¶åŸŸå">7.é…ç½®ä¸´æ—¶åŸŸå</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n153"><a class="md-toc-inner" href="#71é…ç½®ä¸´æ—¶åŸŸåæ­¥éª¤">7.1é…ç½®ä¸´æ—¶åŸŸåæ­¥éª¤</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n164"><a class="md-toc-inner" href="#8è®¾ç½®è™šæ‹Ÿä¸»æœº">8.è®¾ç½®è™šæ‹Ÿä¸»æœº</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n165"><a class="md-toc-inner" href="#81ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœº">8.1ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n167"><a class="md-toc-inner" href="#82ä¸ºä»€ä¹ˆéœ€è¦ç”¨åˆ°è™šæ‹Ÿä¸»æœº">8.2ä¸ºä»€ä¹ˆéœ€è¦ç”¨åˆ°è™šæ‹Ÿä¸»æœºï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n170"><a class="md-toc-inner" href="#83é…ç½®è™šæ‹Ÿä¸»æœºçš„æ­¥éª¤">8.3é…ç½®è™šæ‹Ÿä¸»æœºçš„æ­¥éª¤</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n180"><a class="md-toc-inner" href="#9tomcatä½“ç³»ç»“æ„">9.Tomcatä½“ç³»ç»“æ„</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n183"><a class="md-toc-inner" href="#10æµè§ˆå™¨è®¿é—®webèµ„æºçš„æµç¨‹å›¾">10.æµè§ˆå™¨è®¿é—®WEBèµ„æºçš„æµç¨‹å›¾</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n187"><a class="md-toc-inner" href="#11ç»ƒä¹ ">11.ç»ƒä¹ </a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n204"><a class="md-toc-inner" href="#servletåŸºç¡€çŸ¥è¯†">ServletåŸºç¡€çŸ¥è¯†</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n205"><a class="md-toc-inner" href="#1ä»€ä¹ˆæ˜¯servlet">1.ä»€ä¹ˆæ˜¯Servletï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n207"><a class="md-toc-inner" href="#2ä¸ºä»€ä¹ˆè¦ç”¨åˆ°servlet">2.ä¸ºä»€ä¹ˆè¦ç”¨åˆ°Servletï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n209"><a class="md-toc-inner" href="#3httpåè®®">3.HTTPåè®®</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n210"><a class="md-toc-inner" href="#31ä»€ä¹ˆæ˜¯htppåè®®">3.1ä»€ä¹ˆæ˜¯HTPPåè®®</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n216"><a class="md-toc-inner" href="#32http10å’Œhttp11çš„åŒºåˆ«">3.2HTTP1.0å’ŒHTTP1.1çš„åŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n220"><a class="md-toc-inner" href="#33httpè¯·æ±‚">3.3HTTPè¯·æ±‚</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n231"><a class="md-toc-inner" href="#331è¯·æ±‚è¡Œ">3.3.1è¯·æ±‚è¡Œ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n239"><a class="md-toc-inner" href="#332è¯·æ±‚å¤´">3.3.2è¯·æ±‚å¤´</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n263"><a class="md-toc-inner" href="#34httpå“åº”">3.4HTTPå“åº”</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n276"><a class="md-toc-inner" href="#341çŠ¶æ€è¡Œ">3.4.1çŠ¶æ€è¡Œ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n282"><a class="md-toc-inner" href="#342å“åº”å¤´">3.4.2å“åº”å¤´</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n318"><a class="md-toc-inner" href="#4javawebç›®å½•ç»“æ„">4.JAVAWEBç›®å½•ç»“æ„</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n335"><a class="md-toc-inner" href="#5å®ç°servletæ¥å£ç¼–å†™servletç¨‹åº">5.å®ç°Servletæ¥å£ç¼–å†™Servletç¨‹åº</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n338"><a class="md-toc-inner" href="#51ç¼–å†™servletç¨‹åºçš„æ­¥éª¤">5.1ç¼–å†™Servletç¨‹åºçš„æ­¥éª¤</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n351"><a class="md-toc-inner" href="#6servletç”Ÿå‘½å‘¨æœŸ">6.Servletç”Ÿå‘½å‘¨æœŸ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n361"><a class="md-toc-inner" href="#61servletç”Ÿå‘½å‘¨æœŸå¯åˆ†ä¸º5ä¸ªæ­¥éª¤">6.1Servletç”Ÿå‘½å‘¨æœŸå¯åˆ†ä¸º5ä¸ªæ­¥éª¤</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n378"><a class="md-toc-inner" href="#7ç»§æ‰¿httpservletç¼–å†™servletç¨‹åº">7.ç»§æ‰¿HttpServletç¼–å†™Servletç¨‹åº</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n386"><a class="md-toc-inner" href="#servletconfigservletcontextå’Œservletç»†èŠ‚">ServletConfigã€ServletContextå’ŒServletç»†èŠ‚</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n387"><a class="md-toc-inner" href="#1servletçš„è°ƒç”¨å›¾">1.Servletçš„è°ƒç”¨å›¾</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n391"><a class="md-toc-inner" href="#2servletçš„ç»†èŠ‚">2.Servletçš„ç»†èŠ‚</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n392"><a class="md-toc-inner" href="#21-ä¸€ä¸ªå·²ç»æ³¨å†Œçš„servletå¯ä»¥è¢«å¤šæ¬¡æ˜ å°„">2.1 ä¸€ä¸ªå·²ç»æ³¨å†Œçš„Servletå¯ä»¥è¢«å¤šæ¬¡æ˜ å°„</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n398"><a class="md-toc-inner" href="#22-servletæ˜ å°„çš„urlå¯ä»¥ä½¿ç”¨é€šé…ç¬¦">2.2 Servletæ˜ å°„çš„URLå¯ä»¥ä½¿ç”¨é€šé…ç¬¦</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n424"><a class="md-toc-inner" href="#23-servletæ˜¯å•ä¾‹çš„">2.3 Servletæ˜¯å•ä¾‹çš„</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n425"><a class="md-toc-inner" href="#231-ä¸ºä»€ä¹ˆservletæ˜¯å•ä¾‹çš„">2.3.1 ä¸ºä»€ä¹ˆServletæ˜¯å•ä¾‹çš„</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n427"><a class="md-toc-inner" href="#232-æ¯æ¬¡è®¿é—®è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡éƒ½æ˜¯æ–°çš„">2.3.2 æ¯æ¬¡è®¿é—®è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡éƒ½æ˜¯æ–°çš„</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n429"><a class="md-toc-inner" href="#233-çº¿ç¨‹å®‰å…¨é—®é¢˜">2.3.3 çº¿ç¨‹å®‰å…¨é—®é¢˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n437"><a class="md-toc-inner" href="#24-load-on-startup">2.4 load-on-startup</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n448"><a class="md-toc-inner" href="#25-åœ¨webè®¿é—®ä»»ä½•èµ„æºéƒ½æ˜¯åœ¨è®¿é—®servlet">2.5 åœ¨webè®¿é—®ä»»ä½•èµ„æºéƒ½æ˜¯åœ¨è®¿é—®Servlet</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n462"><a class="md-toc-inner" href="#3-servletconfigå¯¹è±¡">3. ServletConfigå¯¹è±¡</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n463"><a class="md-toc-inner" href="#31servletconfigå¯¹è±¡æœ‰ä»€ä¹ˆç”¨">3.1ServletConfigå¯¹è±¡æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n469"><a class="md-toc-inner" href="#32è·å–webxmlæ–‡ä»¶é…ç½®çš„å‚æ•°ä¿¡æ¯">3.2è·å–web.xmlæ–‡ä»¶é…ç½®çš„å‚æ•°ä¿¡æ¯</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n479"><a class="md-toc-inner" href="#4-servletcontextå¯¹è±¡">4. ServletContextå¯¹è±¡</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n480"><a class="md-toc-inner" href="#41-ä»€ä¹ˆæ˜¯servletcontextå¯¹è±¡">4.1 ä»€ä¹ˆæ˜¯ServletContextå¯¹è±¡ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n482"><a class="md-toc-inner" href="#42-servletcontextæœ‰ä»€ä¹ˆç”¨">4.2 ServletContextæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n493"><a class="md-toc-inner" href="#43-servletä¹‹é—´å®ç°é€šè®¯">4.3 Servletä¹‹é—´å®ç°é€šè®¯</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n504"><a class="md-toc-inner" href="#44-è·å–webç«™ç‚¹é…ç½®çš„ä¿¡æ¯">4.4 è·å–webç«™ç‚¹é…ç½®çš„ä¿¡æ¯</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n518"><a class="md-toc-inner" href="#45-è¯»å–èµ„æºæ–‡ä»¶">4.5 è¯»å–èµ„æºæ–‡ä»¶</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n519"><a class="md-toc-inner" href="#è¯»å–èµ„æºç¬¬ä¸€ç§æ–¹å¼">è¯»å–èµ„æºç¬¬ä¸€ç§æ–¹å¼ï¼š</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n536"><a class="md-toc-inner" href="#è¯»å–èµ„æºç¬¬äºŒç§æ–¹å¼">è¯»å–èµ„æºç¬¬äºŒç§æ–¹å¼ï¼š</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n543"><a class="md-toc-inner" href="#è¯»å–èµ„æºç¬¬ä¸‰ç§æ–¹å¼">è¯»å–èµ„æºç¬¬ä¸‰ç§æ–¹å¼ï¼š</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2011"><a class="md-toc-inner" href="#responseå¯¹è±¡">Responseå¯¹è±¡</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2012"><a class="md-toc-inner" href="#1-responserequestå¯¹è±¡">1. responseã€requestå¯¹è±¡</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2016"><a class="md-toc-inner" href="#2-ä»€ä¹ˆæ˜¯httpservletresponseå¯¹è±¡">2. ä»€ä¹ˆæ˜¯HttpServletResponseå¯¹è±¡ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n2018"><a class="md-toc-inner" href="#3-httpservletresponseçš„åº”ç”¨">3. HttpServletResponseçš„åº”ç”¨</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2019"><a class="md-toc-inner" href="#31è°ƒç”¨getoutputstreamæ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®">3.1è°ƒç”¨getOutputStream()æ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2056"><a class="md-toc-inner" href="#32è°ƒç”¨getwriteræ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®">3.2è°ƒç”¨getWriter()æ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2077"><a class="md-toc-inner" href="#33å®ç°æ–‡ä»¶ä¸‹è½½">3.3å®ç°æ–‡ä»¶ä¸‹è½½</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2099"><a class="md-toc-inner" href="#34å®ç°è‡ªåŠ¨åˆ·æ–°">3.4å®ç°è‡ªåŠ¨åˆ·æ–°</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2117"><a class="md-toc-inner" href="#35è®¾ç½®ç¼“å­˜">3.5è®¾ç½®ç¼“å­˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2125"><a class="md-toc-inner" href="#36å®ç°æ•°æ®å‹ç¼©">3.6å®ç°æ•°æ®å‹ç¼©</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2145"><a class="md-toc-inner" href="#37ç”Ÿå‡ºéšæœºå›¾ç‰‡">3.7ç”Ÿå‡ºéšæœºå›¾ç‰‡</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2160"><a class="md-toc-inner" href="#36é‡å®šå‘è·³è½¬">3.6é‡å®šå‘è·³è½¬</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n2176"><a class="md-toc-inner" href="#37getwriterå’Œgetoutputstreamç»†èŠ‚">3.7getWriterå’ŒgetOutputStreamç»†èŠ‚</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2010"><a class="md-toc-inner" href="#requestå¯¹è±¡">Requestå¯¹è±¡</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n559"><a class="md-toc-inner" href="#1-ä»€ä¹ˆæ˜¯httpservletrequest">1. ä»€ä¹ˆæ˜¯HttpServletRequest</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n563"><a class="md-toc-inner" href="#2-httpservletrequestå¸¸ç”¨æ–¹æ³•">2. HttpServletRequestå¸¸ç”¨æ–¹æ³•</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n564"><a class="md-toc-inner" href="#21-è·å¾—å®¢æˆ·æœºæµè§ˆå™¨ä¿¡æ¯">2.1 è·å¾—å®¢æˆ·æœºã€æµè§ˆå™¨ã€‘ä¿¡æ¯</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n584"><a class="md-toc-inner" href="#22-è·å¾—å®¢æˆ·æœºè¯·æ±‚å¤´">2.2 è·å¾—å®¢æˆ·æœºè¯·æ±‚å¤´</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n592"><a class="md-toc-inner" href="#23-è·å¾—å®¢æˆ·æœºè¯·æ±‚å‚æ•°å®¢æˆ·ç«¯æäº¤çš„æ•°æ®">2.3 è·å¾—å®¢æˆ·æœºè¯·æ±‚å‚æ•°(å®¢æˆ·ç«¯æäº¤çš„æ•°æ®)</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n602"><a class="md-toc-inner" href="#3-httpservletrequeståº”ç”¨">3. HttpServletRequeståº”ç”¨</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n604"><a class="md-toc-inner" href="#31-é˜²ç›—é“¾">3.1 é˜²ç›—é“¾</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n629"><a class="md-toc-inner" href="#32è¡¨å•æäº¤æ•°æ®é€šè¿‡postæ–¹å¼æäº¤æ•°æ®">3.2è¡¨å•æäº¤æ•°æ®ã€é€šè¿‡postæ–¹å¼æäº¤æ•°æ®ã€‘</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n640"><a class="md-toc-inner" href="#34è¶…é“¾æ¥æ–¹å¼æäº¤æ•°æ®">3.4è¶…é“¾æ¥æ–¹å¼æäº¤æ•°æ®</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n655"><a class="md-toc-inner" href="#35è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜">3.5è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n706"><a class="md-toc-inner" href="#36-å®ç°è½¬å‘">3.6 å®ç°è½¬å‘</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n725"><a class="md-toc-inner" href="#37-è½¬å‘çš„æ—¶åºå›¾">3.7 è½¬å‘çš„æ—¶åºå›¾</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n728"><a class="md-toc-inner" href="#371è¯·æ±‚è½¬å‘çš„ç»†èŠ‚">3.7.1è¯·æ±‚è½¬å‘çš„ç»†èŠ‚</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n740"><a class="md-toc-inner" href="#38è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«">3.8è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n741"><a class="md-toc-inner" href="#381å®é™…å‘ç”Ÿä½ç½®ä¸åŒåœ°å€æ ä¸åŒ">3.8.1å®é™…å‘ç”Ÿä½ç½®ä¸åŒï¼Œåœ°å€æ ä¸åŒ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n754"><a class="md-toc-inner" href="#382ç”¨æ³•ä¸åŒ">3.8.2ç”¨æ³•ä¸åŒ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n768"><a class="md-toc-inner" href="#383èƒ½å¤Ÿå»å¾€çš„urlçš„èŒƒå›´ä¸ä¸€æ ·">3.8.3èƒ½å¤Ÿå»å¾€çš„URLçš„èŒƒå›´ä¸ä¸€æ ·</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n774"><a class="md-toc-inner" href="#384ä¼ é€’æ•°æ®çš„ç±»å‹ä¸åŒ">3.8.4ä¼ é€’æ•°æ®çš„ç±»å‹ä¸åŒ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n780"><a class="md-toc-inner" href="#385è·³è½¬çš„æ—¶é—´ä¸åŒ">3.8.5è·³è½¬çš„æ—¶é—´ä¸åŒ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n786"><a class="md-toc-inner" href="#39-è½¬å‘å’Œé‡å®šå‘ä½¿ç”¨å“ªä¸€ä¸ª">3.9 è½¬å‘å’Œé‡å®šå‘ä½¿ç”¨å“ªä¸€ä¸ªï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n795"><a class="md-toc-inner" href="#310-requestdispatcherå†è¯´æ˜">3.10 RequestDispatcherå†è¯´æ˜</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n808"><a class="md-toc-inner" href="#cookie">Cookie</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n810"><a class="md-toc-inner" href="#1-ä»€ä¹ˆæ˜¯ä¼šè¯æŠ€æœ¯">1. ä»€ä¹ˆæ˜¯ä¼šè¯æŠ€æœ¯</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n813"><a class="md-toc-inner" href="#2-ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨ä¼šè¯æŠ€æœ¯">2. ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨ä¼šè¯æŠ€æœ¯ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n824"><a class="md-toc-inner" href="#3-cookie">3. Cookie</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n827"><a class="md-toc-inner" href="#31-ä»€ä¹ˆæ˜¯cookie">3.1 ä»€ä¹ˆæ˜¯Cookie</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n840"><a class="md-toc-inner" href="#32cookie-api">3.2Cookie API</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n863"><a class="md-toc-inner" href="#33ç®€å•ä½¿ç”¨cookie">3.3ç®€å•ä½¿ç”¨Cookie</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n878"><a class="md-toc-inner" href="#4cookieç»†èŠ‚">4.Cookieç»†èŠ‚</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n879"><a class="md-toc-inner" href="#41cookieä¸å¯è·¨åŸŸåæ€§">4.1Cookieä¸å¯è·¨åŸŸåæ€§</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n883"><a class="md-toc-inner" href="#42-cookieä¿å­˜ä¸­æ–‡">4.2 Cookieä¿å­˜ä¸­æ–‡</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n897"><a class="md-toc-inner" href="#43cookieçš„æœ‰æ•ˆæœŸ">4.3Cookieçš„æœ‰æ•ˆæœŸ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n906"><a class="md-toc-inner" href="#44-cookieçš„ä¿®æ”¹å’Œåˆ é™¤">4.4 Cookieçš„ä¿®æ”¹å’Œåˆ é™¤</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n931"><a class="md-toc-inner" href="#45-cookieçš„åŸŸå">4.5 Cookieçš„åŸŸå</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n956"><a class="md-toc-inner" href="#46-cookieçš„è·¯å¾„">4.6 Cookieçš„è·¯å¾„</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n966"><a class="md-toc-inner" href="#47-cookieçš„å®‰å…¨å±æ€§">4.7 Cookieçš„å®‰å…¨å±æ€§</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n975"><a class="md-toc-inner" href="#5-cookieçš„åº”ç”¨">5. Cookieçš„åº”ç”¨</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n976"><a class="md-toc-inner" href="#51æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´">5.1æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1009"><a class="md-toc-inner" href="#52æ˜¾ç¤ºä¸Šæ¬¡æµè§ˆè¿‡å•†å“">5.2æ˜¾ç¤ºä¸Šæ¬¡æµè§ˆè¿‡å•†å“</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n1068"><a class="md-toc-inner" href="#session">Session</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1069"><a class="md-toc-inner" href="#1-ä»€ä¹ˆæ˜¯session">1. ä»€ä¹ˆæ˜¯Session</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1074"><a class="md-toc-inner" href="#2-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨sessionæŠ€æœ¯">2. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨SessionæŠ€æœ¯ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1077"><a class="md-toc-inner" href="#3-session--api">3. Session  API</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1103"><a class="md-toc-inner" href="#4sessionä½œä¸ºåŸŸå¯¹è±¡">4.Sessionä½œä¸ºåŸŸå¯¹è±¡</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1114"><a class="md-toc-inner" href="#5-sessionçš„ç”Ÿå‘½å‘¨æœŸå’Œæœ‰æ•ˆæœŸ">5. Sessionçš„ç”Ÿå‘½å‘¨æœŸå’Œæœ‰æ•ˆæœŸ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1136"><a class="md-toc-inner" href="#6-ä½¿ç”¨sessionå®Œæˆç®€å•çš„è´­ç‰©åŠŸèƒ½">6. ä½¿ç”¨Sessionå®Œæˆç®€å•çš„è´­ç‰©åŠŸèƒ½</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1150"><a class="md-toc-inner" href="#7sessionçš„å®ç°åŸç†">7.Sessionçš„å®ç°åŸç†</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1178"><a class="md-toc-inner" href="#8æµè§ˆå™¨ç¦ç”¨äº†cookiesessionè¿˜èƒ½ç”¨å—">8.æµè§ˆå™¨ç¦ç”¨äº†Cookieï¼ŒSessionè¿˜èƒ½ç”¨å—ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1210"><a class="md-toc-inner" href="#9sessionç¦ç”¨cookie">9.Sessionç¦ç”¨Cookie</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1222"><a class="md-toc-inner" href="#10sessionæ¡ˆä¾‹">10.Sessionæ¡ˆä¾‹</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1223"><a class="md-toc-inner" href="#101ä½¿ç”¨sessionå®Œæˆç”¨æˆ·ç®€å•ç™»é™†">10.1ä½¿ç”¨Sessionå®Œæˆç”¨æˆ·ç®€å•ç™»é™†</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1241"><a class="md-toc-inner" href="#102åˆ©ç”¨sessioné˜²æ­¢è¡¨å•é‡å¤æäº¤">10.2åˆ©ç”¨Sessioné˜²æ­¢è¡¨å•é‡å¤æäº¤</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1314"><a class="md-toc-inner" href="#103ä¸€æ¬¡æ€§æ ¡éªŒç ">10.3ä¸€æ¬¡æ€§æ ¡éªŒç </a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1343"><a class="md-toc-inner" href="#11-sessionå’Œcookieçš„åŒºåˆ«">11. Sessionå’ŒCookieçš„åŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1390"><a class="md-toc-inner" href="#12-cookieå’Œsessionå…±åŒä½¿ç”¨">12. Cookieå’ŒSessionå…±åŒä½¿ç”¨</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n1407"><a class="md-toc-inner" href="#servleté¢è¯•é¢˜">Servleté¢è¯•é¢˜</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1413"><a class="md-toc-inner" href="#1-tomcatå¸¸è§é¢è¯•é¢˜">1. Tomcatå¸¸è§é¢è¯•é¢˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1415"><a class="md-toc-inner" href="#11tomcatçš„ç¼ºçœç«¯å£æ˜¯å¤šå°‘æ€ä¹ˆä¿®æ”¹">1.1Tomcatçš„ç¼ºçœç«¯å£æ˜¯å¤šå°‘ï¼Œæ€ä¹ˆä¿®æ”¹</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1434"><a class="md-toc-inner" href="#12tomcat-æœ‰å“ªå‡ ç§connector-è¿è¡Œæ¨¡å¼ä¼˜åŒ–">1.2Tomcat æœ‰å“ªå‡ ç§Connector è¿è¡Œæ¨¡å¼(ä¼˜åŒ–)ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n1458"><a class="md-toc-inner" href="#2servleté¢è¯•é¢˜">2.Servleté¢è¯•é¢˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1459"><a class="md-toc-inner" href="#21servletç”Ÿå‘½å‘¨æœŸ">2.1Servletç”Ÿå‘½å‘¨æœŸ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1489"><a class="md-toc-inner" href="#22getæ–¹å¼å’Œpostæ–¹å¼æœ‰ä½•åŒºåˆ«">2.2getæ–¹å¼å’Œpostæ–¹å¼æœ‰ä½•åŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1520"><a class="md-toc-inner" href="#23forwardå’Œredirectçš„åŒºåˆ«">2.3forwardå’Œredirectçš„åŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1586"><a class="md-toc-inner" href="#24-tomcatå®¹å™¨æ˜¯å¦‚ä½•åˆ›å»ºservletç±»å®ä¾‹ç”¨åˆ°äº†ä»€ä¹ˆåŸç†">2.4 tomcatå®¹å™¨æ˜¯å¦‚ä½•åˆ›å»ºservletç±»å®ä¾‹ï¼Ÿç”¨åˆ°äº†ä»€ä¹ˆåŸç†ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1596"><a class="md-toc-inner" href="#25ä»€ä¹ˆæ˜¯cookiesessionå’Œcookieæœ‰ä»€ä¹ˆåŒºåˆ«-">2.5ä»€ä¹ˆæ˜¯cookieï¼ŸSessionå’Œcookieæœ‰ä»€ä¹ˆåŒºåˆ« ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n1651"><a class="md-toc-inner" href="#26-servletå®‰å…¨æ€§é—®é¢˜">2.6 Servletå®‰å…¨æ€§é—®é¢˜</a></span></p></div><h1><a name="å‰è¨€" class="md-header-anchor"></a><span>å‰è¨€</span></h1><p><span>è¿™ä¸ªæ–‡æ¡£çš„å†…å®¹</span><strong><span>çº¯æ‰‹æ‰“</span></strong><span>ï¼Œå¦‚æœæƒ³è¦çœ‹æ›´å¤šçš„å¹²è´§æ–‡ç« ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š</span><strong><span>Java3y</span></strong><span>ã€‚æœ‰æ›´å¤šçš„åŸåˆ›æŠ€æœ¯æ–‡ç« å’Œå¹²è´§ï¼</span></p><p>&nbsp;</p><p><span>ç›®å‰ç–¯ç‹‚å¤„äº</span><strong><span>ç–¯ç‹‚</span></strong><span>æ›´æ–°PDFä¸­ï¼Œåªè¦æ˜¯Javaåç«¯çš„çŸ¥è¯†ï¼Œéƒ½ä¼šæœ‰ï¼</span><strong><span>æ¬¢è¿æ¥æˆ‘å…¬ä¼—å·å‚¬æ›´ï¼</span></strong><span>å¾®ä¿¡æœç´¢ï¼š</span><strong><span>Java3y</span></strong></p><p>&nbsp;</p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><ul><li><span>ğŸ”¥</span><strong><span>Javaç²¾ç¾è„‘å›¾</span></strong></li><li><span>ğŸ”¥</span><strong><span>Javaå­¦ä¹ è·¯çº¿</span></strong></li><li><span>ğŸ”¥</span><strong><span>å¼€å‘å¸¸ç”¨å·¥å…·</span></strong></li><li><span>ğŸ”¥</span><strong><span>ç²¾ç¾ç”µå­ä¹¦ã€æ–‡æ¡£</span></strong></li></ul><p><span>åœ¨å…¬ä¼—å·ä¸‹å›å¤ã€Œ</span><strong><span>888</span></strong><span>ã€å³å¯è·å–ï¼ï¼</span></p><p>&nbsp;</p><p><strong><span>å­¦ä¹ ä¸èƒ½ç›²ç›®ï¼Œè·Ÿç€æˆ‘ï¼Œä¼šè®©ä½ äº‹åŠåŠŸå€</span></strong></p><p>&nbsp;</p><p><strong><span>æ–‡æ¡£å…è®¸éšæ„ä¼ æ’­ï¼Œä½†ä¸èƒ½ä¿®æ”¹ä»»ä½•å†…å®¹ã€‚</span></strong></p><p>&nbsp;</p><p><span>ç”µå­ä¹¦çš„æ•´ç†ä¹Ÿæ˜¯æŒºä¸å®¹æ˜“ï¼Œå¦‚æœä½ è§‰å¾—æœ‰å¸®åŠ©ï¼Œæƒ³è¦æ‰“èµä½œè€…ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡è¿™ä¸ªæ”¶æ¬¾ç æ‰“èµæˆ‘ï¼Œ</span><strong><span>é‡‘é¢ä¸é‡è¦ï¼Œå¿ƒæ„æœ€é‡è¦</span></strong><span>ã€‚ä¸»è¦æ˜¯æˆ‘å¯ä»¥é€šè¿‡è¿™ä¸ªæ‰“èµæƒ…å†µæ¥é¢„è®¡å¤§å®¶å¯¹è¿™æœ¬ç”µå­ä¹¦çš„è¯„ä»·ï¼Œå˜»å˜»</span></p><p>&nbsp;</p><p><img src='https://tva1.sinaimg.cn/large/00831rSTly1gcuu0j4wwqj30u014qako.jpg' width=200px height=200px /><img src='https://tva1.sinaimg.cn/large/00831rSTly1gcuuckh3s4j30rc0yo7jr.jpg' width=200px height=200px /></p><p>&nbsp;</p><h1><a name="tomcat" class="md-header-anchor"></a><span>Tomcat</span></h1><h2><a name="1ä»€ä¹ˆæ˜¯tomcat" class="md-header-anchor"></a><span>1.ä»€ä¹ˆæ˜¯Tomcat</span></h2><p><span>Tomcatç®€å•çš„è¯´å°±æ˜¯ä¸€ä¸ªè¿è¡ŒJAVAçš„ç½‘ç»œæœåŠ¡å™¨ï¼Œåº•å±‚æ˜¯Socketçš„ä¸€ä¸ªç¨‹åºï¼Œå®ƒä¹Ÿæ˜¯JSPå’ŒSerlvetçš„ä¸€ä¸ªå®¹å™¨ã€‚</span></p><h2><a name="2ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç”¨åˆ°tomcat" class="md-header-anchor"></a><span>2.ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ç”¨åˆ°Tomcat </span></h2><p><span>å¦‚æœä½ å­¦è¿‡htmlï¼Œcssï¼Œä½ ä¼šçŸ¥é“ä½ å†™çš„é¡µé¢åªèƒ½è‡ªå·±è®¿é—®ï¼Œ</span><strong><span>åˆ«äººä¸èƒ½è¿œç¨‹è®¿é—®ä½ å†™çš„é¡µé¢</span></strong><span>ï¼ŒTomcatå°±æ˜¯</span><strong><span>æä¾›èƒ½å¤Ÿè®©åˆ«äººè®¿é—®è‡ªå·±å†™çš„é¡µé¢çš„ä¸€ä¸ªç¨‹åº</span></strong></p><p><img src="http://i.imgur.com/wIpjX5Z.png" referrerpolicy="no-referrer"></p><hr /><h2><a name="3é…ç½®tomcat" class="md-header-anchor"></a><span>3.é…ç½®Tomcat </span></h2><p><span>è¿è¡ŒTomcatéœ€è¦JDKçš„æ”¯æŒã€Tomcatä¼šé€šè¿‡JAVA_HOMEæ‰¾åˆ°æ‰€éœ€è¦çš„JDKã€‘ã€‚</span></p><p><span>æ–°å»ºJAVA_HOMEç¯å¢ƒå˜é‡ã€è·¯å¾„æ˜¯JDKçš„ä¸»ç›®å½•ã€‘</span></p><p><img src="http://i.imgur.com/QrN132z.png" referrerpolicy="no-referrer"></p><p><span>è¿›å…¥Tomcatç›®å½•ä¸‹çš„binä¸­å¯åŠ¨startup.batï¼Œä»¥ä¸‹æ˜¯æˆåŠŸå¯åŠ¨Tomcatçš„é¡µé¢ã€‚</span></p><p><img src="http://i.imgur.com/H0IWVRQ.png" referrerpolicy="no-referrer"></p><p><span>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥</span><a href='http://localhost:8080' target='_blank' class='url'>http://localhost:8080</a><span>,å¦‚æœèƒ½å¤Ÿå‡ºç°Tomcaté¡µé¢ï¼Œè¯´æ˜é…ç½®æˆåŠŸäº†ã€‚</span></p><p><strong><span>æ³¨æ„ï¼š</span></strong><span>å¦‚æœåœ¨ä½¿ç”¨Tomcatæ—¶å‡ºç°äº†</span><code>Error deploying web application directory web222</code><span>,å¾ˆå¤§åŸå› å°±æ˜¯jdkå’Œtomcatçš„ç‰ˆæœ¬ä¸åŒ¹é…ã€‚</span></p><p><span>ç›®å‰ï¼Œ</span><strong><span>jdk8ä¸èƒ½åŒ¹é…tomcat7.0</span></strong><span>ï¼Œæ‰€ä»¥</span><strong><span>è¦é™ä½jdkç‰ˆæœ¬</span></strong><span>ã€æ¢æˆJDK7ã€‘</span></p><p><span>å½“ç„¶ä¹Ÿæœ‰å¯èƒ½ä¸æ˜¯ä¸€å¸†é£é¡ºèƒ½å¤Ÿç›´æ¥å¯åŠ¨Tomcatï¼Œ</span><strong><span>ä¸èƒ½æ­£å¸¸å¯åŠ¨Tomcatä¼šæœ‰ä»¥ä¸‹æƒ…å†µ</span></strong></p><ol start='' ><li><p><span>JAVA_HOMEé…ç½®é”™è¯¯</span></p></li><li><p><span>ç«¯å£è¢«å ç”¨äº†</span></p><ul><li><span>ç¬¬ä¸€ç§æ–¹æ³•ï¼šåœ¨cmdè¾“å…¥netstat -anbæŸ¥çœ‹è°å ç”¨äº†è¯¥ç«¯å£ã€Tomcaté»˜è®¤çš„æ˜¯8080ã€‘,åœ¨è¿›ç¨‹ä¸­å…³é—­å®ƒ</span></li><li><span>ç¬¬äºŒç§æ–¹æ³•ï¼šä¸»åŠ¨æ”¹å˜tomcatçš„ç«¯å£, </span><strong><span>åˆ°tomcatä¸»ç›®å½•ä¸‹çš„conf/server.xmlæ–‡ä»¶ä¸­ä¿®æ”¹</span></strong><span>,æŠŠ8080ç«¯å£æ”¹æˆæ˜¯8088æˆ–è€…æ˜¯å…¶ä»–çš„</span></li></ul></li></ol><p><img src="http://i.imgur.com/TGhqQ9r.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h2><a name="4ç›¸å…³æœ¯è¯­ä»‹ç»" class="md-header-anchor"></a><span>4.ç›¸å…³æœ¯è¯­ä»‹ç» </span></h2><p><img src="http://i.imgur.com/gi93vVx.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h2><a name="5tomcatç»“æ„ç›®å½•" class="md-header-anchor"></a><span>5.tomcatç»“æ„ç›®å½•</span></h2><p><img src="http://i.imgur.com/duCr7vO.png" referrerpolicy="no-referrer"></p><h3><a name="51ç›®å½•çš„ç®€å•ä»‹ç»" class="md-header-anchor"></a><span>5.1ç›®å½•çš„ç®€å•ä»‹ç»</span></h3><ol start='' ><li><p><span>binï¼šå¯åŠ¨å’Œå…³é—­tomcatçš„batæ–‡ä»¶</span></p></li><li><p><span>confï¼šé…ç½®æ–‡ä»¶</span></p><ul><li><code>server.xml</code><span>è¯¥æ–‡ä»¶ç”¨äºé…ç½®serverç›¸å…³çš„ä¿¡æ¯ï¼Œæ¯”å¦‚tomcatå¯åŠ¨çš„ç«¯å£å·ï¼Œé…ç½®ä¸»æœº(Host)</span></li><li><code>web.xml</code><span>æ–‡ä»¶é…ç½®ä¸webåº”ç”¨ï¼ˆwebåº”ç”¨ç›¸å½“äºä¸€ä¸ªwebç«™ç‚¹ï¼‰</span></li><li><code>tomcat-user.xml</code><span>é…ç½®ç”¨æˆ·åå¯†ç å’Œç›¸å…³æƒé™.</span></li></ul></li><li><p><span>libï¼šè¯¥ç›®å½•æ”¾ç½®è¿è¡Œtomcatè¿è¡Œéœ€è¦çš„jaråŒ…</span></p></li><li><p><span>logsï¼šå­˜æ”¾æ—¥å¿—ï¼Œå½“æˆ‘ä»¬éœ€è¦æŸ¥çœ‹æ—¥å¿—çš„æ—¶å€™ï¼Œå¯ä»¥æŸ¥è¯¢ä¿¡æ¯</span></p></li><li><p><span>webappsï¼šæ”¾ç½®æˆ‘ä»¬çš„webåº”ç”¨</span></p></li><li><p><span>workå·¥ä½œç›®å½•ï¼šè¯¥ç›®å½•ç”¨äºå­˜æ”¾</span><strong><span>jspè¢«è®¿é—®åç”Ÿæˆå¯¹åº”çš„serveræ–‡ä»¶å’Œ.classæ–‡ä»¶</span></strong><span> </span></p></li></ol><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmqukanpg30640643zd.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h3><a name="52webappsç›®å½•çš„è¯¦ç»†è¯´æ˜" class="md-header-anchor"></a><span>5.2webappsç›®å½•çš„è¯¦ç»†è¯´æ˜</span></h3><p><span>åœ¨webappsä¸­å»ºç«‹äº†web1ç›®å½•ï¼Œä¸‹é¢æ”¾ç½®æˆ‘ä»¬çš„htmlæ–‡ä»¶ï¼Œjspæ–‡ä»¶ï¼Œå›¾ç‰‡ç­‰ç­‰ï¼Œ</span><strong><span>åˆ™web1å°±è¢«å½“åšwebåº”ç”¨ç®¡ç†èµ·æ¥</span></strong><span>ã€tomcat6.0ä»¥åçš„ç‰ˆæœ¬æ‰æ”¯æŒã€‘</span></p><p><span>ä¾‹å­ï¼š</span><strong><span>åœ¨webappsä¸‹åˆ›å»ºä¸€ä¸ªwebç«™ç‚¹ï¼Œåœ¨webç«™ç‚¹ä¸‹åˆ›å»ºä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œè®¿é—®htmlæ–‡ä»¶</span></strong></p><p><img src="http://i.imgur.com/PDRNul3.png" referrerpolicy="no-referrer"></p><p><span>webç«™ç‚¹çš„ç›®å½•æ˜¯æœ‰è§„èŒƒçš„</span>
<img src="http://i.imgur.com/HGtlKI7.png" referrerpolicy="no-referrer"></p><p><span>ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾ç½®webç«™ç‚¹ç›®å½•å‘¢ï¼Ÿ</span></p><ul><li><span>éœ€æ±‚ï¼šæˆ‘æœ‰å¤šä¸ªhtmlæ–‡ä»¶ï¼Œæƒ³æŠŠå…¶ä¸­çš„ä¸€ä¸ªhtmlæ–‡ä»¶ä½œä¸ºæˆ‘webç«™ç‚¹çš„é¦–é¡µã€‚</span></li><li><span>å¦‚æœ</span><strong><span>æ²¡æœ‰WEB-INFç›®å½•ä¸‹çš„web.xmlæ–‡ä»¶æ”¯æŒï¼Œæ˜¯æ— æ³•è§£å†³æˆ‘çš„éœ€æ±‚çš„</span></strong></li><li><strong><span>è¿™ä¸ªè§„èŒƒæ˜¯çº¦å®šç†Ÿæˆçš„ã€‚</span></strong></li></ul><p><span>ä¸‹é¢å°†webç«™ç‚¹ä¸‹çš„helloword2.xmlæ–‡ä»¶ä½œä¸ºç«™ç‚¹çš„é¦–é¡µï¼Œæ–°å»ºä¸€ä¸ªWEB-INFç›®å½•</span></p><p><img src="http://i.imgur.com/gDZieAX.png" referrerpolicy="no-referrer"></p><p><span>åœ¨WEB-INFç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªweb.xml</span></p><p><img src="http://i.imgur.com/GbKWbuf.png" referrerpolicy="no-referrer"></p><p><span>web.xmlæˆ‘ä»¬ä¸å¯èƒ½ä¼šå†™ï¼Œæ‰€ä»¥å¯ä»¥</span><strong><span>åœ¨webappsç›®å½•ä¸‹å…¶ä»–çš„ç«™ç‚¹ä¸­æŠ„ä¸€ä»½è¿‡æ¥</span></strong><span>ã€å¤åˆ¶ROOT/WEB-INF/web.xmlçš„æ–‡ä»¶åˆ°è‡ªå·±çš„ç«™ç‚¹ä¸­ã€‘</span></p><p><span>åœ¨web.xmlä¸­æ·»åŠ ä»¥ä¸‹ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">welcome-file-list</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">welcome-file</span><span class="cm-tag cm-bracket">&gt;</span>helloword2.html<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">welcome-file</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">welcome-file-list</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><img src="http://i.imgur.com/hA0wTmd.png" referrerpolicy="no-referrer"></p><p><span>è®¿é—®webç«™ç‚¹ã€</span><strong><span>helloword2.htmlå·²ç»æ˜¯webç«™ç‚¹çš„é¦–é¡µäº†ï¼Œæ‰€ä»¥ä¸éœ€è¦æŒ‡å®šèµ„æºè®¿é—®äº†</span></strong><span>ã€‘</span></p><p><img src="http://i.imgur.com/QhYi5eu.png" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmr7fsc1j3073073aa5.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h2><a name="6é…ç½®è™šæ‹Ÿç›®å½•" class="md-header-anchor"></a><span>6.é…ç½®è™šæ‹Ÿç›®å½•</span></h2><h3><a name="61ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è™šæ‹Ÿç›®å½•" class="md-header-anchor"></a><span>6.1ä¸ºä»€ä¹ˆéœ€è¦é…ç½®è™šæ‹Ÿç›®å½•ï¼Ÿ</span></h3><ul><li><span>å¦‚æœæŠŠæ‰€æœ‰webç«™ç‚¹çš„ç›®å½•éƒ½æ”¾åœ¨webappsä¸‹ï¼Œå¯èƒ½å¯¼è‡´</span><strong><span>ç£ç›˜ç©ºé—´ä¸å¤Ÿç”¨</span></strong><span>ï¼Œä¹Ÿ</span><strong><span>ä¸åˆ©äºå¯¹webç«™ç‚¹ç›®å½•çš„ç®¡ç†</span></strong><span>ã€å¦‚æœå­˜åœ¨éå¸¸å¤šçš„webç«™ç‚¹ç›®å½•ã€‘</span></li><li><span>æŠŠ</span><strong><span>webç«™ç‚¹çš„ç›®å½•åˆ†æ•£åˆ°å…¶ä»–ç£ç›˜ç®¡ç†å°±éœ€è¦é…ç½®è™šæ‹Ÿç›®å½•ã€é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰webappsä¸‹çš„ç›®å½•æ‰èƒ½è¢«Tomcatè‡ªåŠ¨ç®¡ç†æˆä¸€ä¸ªwebç«™ç‚¹ã€‘</span></strong></li><li><span>æŠŠwebåº”ç”¨æ‰€åœ¨ç›®å½•äº¤ç»™webæœåŠ¡å™¨ç®¡ç†ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºè™šæ‹Ÿç›®å½•çš„æ˜ å°„</span></li></ul><h3><a name="62é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•ä¸€" class="md-header-anchor"></a><span>6.2é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•ä¸€</span></h3><p><span>åœ¨å…¶ä»–ç›˜ç¬¦ä¸‹åˆ›å»ºä¸€ä¸ªwebç«™ç‚¹ç›®å½•ï¼Œå¹¶åˆ›å»ºWEB-INFç›®å½•å’Œä¸€ä¸ªhtmlæ–‡ä»¶ã€‚</span></p><p><img src="http://i.imgur.com/soEm66y.png" referrerpolicy="no-referrer"></p><p><span>æ‰¾åˆ°Tomcatç›®å½•ä¸‹/conf/server.xmlæ–‡ä»¶</span></p><p><img src="http://i.imgur.com/EKCpTZZ.png" referrerpolicy="no-referrer"></p><p><span>åœ¨server.xmlä¸­çš„</span><code>&lt;Host&gt;</code><span>èŠ‚ç‚¹ä¸‹æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚</span><strong><span>pathè¡¨ç¤ºçš„æ˜¯è®¿é—®æ—¶è¾“å…¥çš„webé¡¹ç›®åï¼ŒdocBaseè¡¨ç¤ºçš„æ˜¯ç«™ç‚¹ç›®å½•çš„ç»å¯¹è·¯å¾„</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Context</span> <span class="cm-attribute">path</span>=<span class="cm-string">"/web1"</span> <span class="cm-attribute">docBase</span>=<span class="cm-string">"D:\web1"</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><img src="http://i.imgur.com/kKI4C9d.png" referrerpolicy="no-referrer"></p><p><span>è®¿é—®é…ç½®å¥½çš„webç«™ç‚¹</span></p><p><img src="http://i.imgur.com/z1cqe2G.png" referrerpolicy="no-referrer"></p><hr /><h3><a name="63é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•äºŒ" class="md-header-anchor"></a><span>6.3é…ç½®è™šæ‹Ÿç›®å½•æ–¹æ³•äºŒ</span></h3><p><span>è¿›å…¥åˆ°conf\Catalina\localhostæ–‡ä»¶ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªxmlæ–‡ä»¶ï¼Œ</span><strong><span>è¯¥æ–‡ä»¶çš„åå­—å°±æ˜¯ç«™ç‚¹çš„åå­—ã€‚</span></strong>
<span>  </span><img src="http://img.blog.csdn.net/20170114100701752?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" referrerpolicy="no-referrer" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><span>xmlæ–‡ä»¶çš„ä»£ç å¦‚ä¸‹ï¼Œ</span><strong><span>docBaseæ˜¯ä½ webç«™ç‚¹çš„ç»å¯¹è·¯å¾„</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-meta">&lt;?xml</span> <span class="cm-meta">version="1.0" encoding="UTF-8"?&gt;</span> </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Context</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">docBase</span>=<span class="cm-string">"D:\web1"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-attribute">reloadable</span>=<span class="cm-string">"true"</span><span class="cm-tag cm-bracket">&gt;</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Context</span><span class="cm-tag cm-bracket">&gt;</span> </span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>è®¿é—®webç«™ç‚¹ä¸‹çš„htmlèµ„æº</span></p><p><img src="http://img.blog.csdn.net/20170114104403810?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaG9uXzN5/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h2><a name="7é…ç½®ä¸´æ—¶åŸŸå" class="md-header-anchor"></a><span>7.é…ç½®ä¸´æ—¶åŸŸå</span></h2><p><span>è®¿é—®TomcatæœåŠ¡å™¨æœ‰å¥½å‡ ç§æ–¹å¼</span></p><ul><li><span>ä½¿ç”¨localhoståŸŸåè®¿é—®ã€localhostä»£è¡¨æœ¬æœºã€‘</span></li><li><span>ä½¿ç”¨ipåœ°å€127.0.0.1è®¿é—®ã€è¯¥ipåœ°å€ä¹Ÿæ˜¯æœ¬æœºã€‘</span></li><li><span>ä½¿ç”¨æœºå™¨åç§°è®¿é—®ã€åªé™ç”¨äºæœ¬æœºä¸Šæˆ–è€…å±€åŸŸç½‘ã€‘</span></li><li><span>ä½¿ç”¨æœ¬æœºIPåœ°å€è®¿é—®ã€</span><strong><span>åœ¨cmdä¸­è¾“å…¥ipconfigå¯ä»¥æŸ¥è¯¢åˆ°æœ¬æœºIPåœ°å€</span></strong><span>ã€‘</span></li><li><span>è¿˜å¯ä»¥ä¸ºæœºå™¨é…ç½®ä¸´æ—¶åŸŸå</span></li></ul><h3><a name="71é…ç½®ä¸´æ—¶åŸŸåæ­¥éª¤" class="md-header-anchor"></a><span>7.1é…ç½®ä¸´æ—¶åŸŸåæ­¥éª¤</span></h3><ul><li><span>æ‰“å¼€åˆ°C:\Windows\System32\drivers\etcä¸‹ï¼Œæ‰¾åˆ°hostsæ–‡ä»¶</span></li></ul><p><img src="http://i.imgur.com/ENqdMf9.png" referrerpolicy="no-referrer"></p><ul><li><span>åœ¨hostsæ–‡ä»¶ä¸‹é…ç½®ä¸´æ—¶åŸŸå</span></li></ul><p><img src="http://i.imgur.com/gdxSl2I.png" referrerpolicy="no-referrer"></p><hr /><h2><a name="8è®¾ç½®è™šæ‹Ÿä¸»æœº" class="md-header-anchor"></a><span>8.è®¾ç½®è™šæ‹Ÿä¸»æœº</span></h2><h3><a name="81ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœº" class="md-header-anchor"></a><span>8.1ä»€ä¹ˆæ˜¯è™šæ‹Ÿä¸»æœºï¼Ÿ</span></h3><p><strong><span>å¤šä¸ªä¸åŒåŸŸåçš„ç½‘ç«™å…±å­˜äºä¸€ä¸ªTomcatä¸­</span></strong></p><h3><a name="82ä¸ºä»€ä¹ˆéœ€è¦ç”¨åˆ°è™šæ‹Ÿä¸»æœº" class="md-header-anchor"></a><span>8.2ä¸ºä»€ä¹ˆéœ€è¦ç”¨åˆ°è™šæ‹Ÿä¸»æœºï¼Ÿ</span></h3><p><span>ä¾‹å­ï¼šæˆ‘ç°åœ¨å¼€å‘äº†4ä¸ªç½‘ç«™ï¼Œæœ‰4ä¸ªåŸŸåã€‚å¦‚æœæˆ‘ä¸é…ç½®è™šæ‹Ÿä¸»æœºï¼Œä¸€ä¸ªTomcatæœåŠ¡å™¨è¿è¡Œä¸€ä¸ªç½‘ç«™ï¼Œæˆ‘å°±éœ€è¦4å°ç”µè„‘æ‰èƒ½æŠŠ4ä¸ªç½‘ç«™è¿è¡Œèµ·æ¥ã€‚</span></p><h3><a name="83é…ç½®è™šæ‹Ÿä¸»æœºçš„æ­¥éª¤" class="md-header-anchor"></a><span>8.3é…ç½®è™šæ‹Ÿä¸»æœºçš„æ­¥éª¤</span></h3><ul><li><span>åœ¨tomcatçš„server.xmlæ–‡ä»¶ä¸­æ·»åŠ ä¸»æœºå</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Host</span> <span class="cm-attribute">name</span>=<span class="cm-string">"zhongfucheng"</span> <span class="cm-attribute">appBase</span>=<span class="cm-string">"D:\web1"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Context</span> <span class="cm-attribute">path</span>=<span class="cm-string">"/web1"</span> <span class="cm-attribute">docBase</span>=<span class="cm-string">"D:\web1"</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Host</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><img src="http://i.imgur.com/U71stln.png" referrerpolicy="no-referrer"></p><p><span>è®¿é—®è™šæ‹Ÿä¸»æœºä¸‹çš„webç«™ç‚¹</span></p><p><img src="http://i.imgur.com/3uVfXXs.png" referrerpolicy="no-referrer"></p><hr /><h2><a name="9tomcatä½“ç³»ç»“æ„" class="md-header-anchor"></a><span>9.Tomcatä½“ç³»ç»“æ„</span></h2><p><img src="http://i.imgur.com/R5u6kUj.png" referrerpolicy="no-referrer"></p><hr /><h2><a name="10æµè§ˆå™¨è®¿é—®webèµ„æºçš„æµç¨‹å›¾" class="md-header-anchor"></a><span>10.æµè§ˆå™¨è®¿é—®WEBèµ„æºçš„æµç¨‹å›¾</span></h2><p><img src="http://i.imgur.com/blYhhtW.png" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmrl1ylng306o06oq3t.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h2><a name="11ç»ƒä¹ " class="md-header-anchor"></a><span>11.ç»ƒä¹ </span></h2><p><span>åœ¨æµè§ˆå™¨è¾“å…¥</span><code>http//:zhongfucheng</code><span>ç›´æ¥æ˜¾ç¤ºåˆ°é¡µé¢</span></p><p><span>åˆ†æï¼š</span></p><ol start='' ><li><span>éœ€è¦é…ç½®è™šæ‹Ÿä¸»æœº</span></li><li><span>æŠŠ8080ç«¯å£æ”¹æˆ80</span></li><li><span>è®¾ç½®webç«™ç‚¹é¦–é¡µ</span></li><li><span>æ˜ å°„è™šæ‹Ÿç›®å½•ä¸º/</span></li></ol><p><img src="http://i.imgur.com/oQcef60.png" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnythvd93j307806qglo.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h1><a name="servletåŸºç¡€çŸ¥è¯†" class="md-header-anchor"></a><span>ServletåŸºç¡€çŸ¥è¯†</span></h1><h2><a name="1ä»€ä¹ˆæ˜¯servlet" class="md-header-anchor"></a><span>1.ä»€ä¹ˆæ˜¯Servletï¼Ÿ</span></h2><p><span>Servletå…¶å®å°±æ˜¯ä¸€ä¸ª</span><strong><span>éµå¾ªServletå¼€å‘çš„javaç±»</span></strong><span>ã€‚Servletæ˜¯</span><strong><span>ç”±æœåŠ¡å™¨è°ƒç”¨çš„</span></strong><span>ï¼Œ</span><strong><span>è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯</span></strong><span>ã€‚</span></p><h2><a name="2ä¸ºä»€ä¹ˆè¦ç”¨åˆ°servlet" class="md-header-anchor"></a><span>2.ä¸ºä»€ä¹ˆè¦ç”¨åˆ°Servletï¼Ÿ</span></h2><p><span>æˆ‘ä»¬ç¼–å†™javaç¨‹åºæƒ³è¦åœ¨ç½‘ä¸Šå®ç° èŠå¤©ã€å‘å¸–ã€è¿™æ ·ä¸€äº›çš„äº¤äº’åŠŸèƒ½ï¼Œ</span><strong><span>æ™®é€šçš„javaæŠ€æœ¯æ˜¯éå¸¸éš¾å®Œæˆçš„</span></strong><span>ã€‚sunå…¬å¸å°±æä¾›äº†Servletè¿™ç§æŠ€æœ¯ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚</span></p><h2><a name="3httpåè®®" class="md-header-anchor"></a><span>3.HTTPåè®®</span></h2><h3><a name="31ä»€ä¹ˆæ˜¯htppåè®®" class="md-header-anchor"></a><span>3.1ä»€ä¹ˆæ˜¯HTPPåè®®</span></h3><blockquote><p><span>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼ŒHyperText Transfer Protocol)æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨æœ€ä¸ºå¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚æ‰€æœ‰çš„WWWæ–‡ä»¶éƒ½å¿…é¡»éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚å®ƒæ˜¯TCP/IPåè®®çš„ä¸€ä¸ª</span><strong><span>åº”ç”¨å±‚åè®®</span></strong></p></blockquote><p><span>ç®€å•æ¥è¯´ï¼Œ</span><strong><span>HTTPåè®®å°±æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨äº¤äº’çš„ä¸€ç§é€šè¿…çš„æ ¼å¼</span></strong><span>ã€‚</span></p><p><span>ä¾‹å­:åœ¨æµè§ˆå™¨ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼Œæµè§ˆå™¨å°±ä¸ºæˆ‘æ‰“å¼€è¿™ä¸ªé“¾æ¥çš„ç½‘é¡µã€‚</span></p><p><span>åŸç†ï¼šå½“åœ¨æµè§ˆå™¨ä¸­ç‚¹å‡»è¿™ä¸ªé“¾æ¥çš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘é€ä¸€æ®µæ–‡æœ¬</span></strong><span>ï¼Œ</span><strong><span>å‘Šè¯‰æœåŠ¡å™¨è¯·æ±‚æ‰“å¼€çš„æ˜¯å“ªä¸€ä¸ªç½‘é¡µã€‚æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œå°±è¿”å›ä¸€æ®µæ–‡æœ¬ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¼šå°†è¯¥æ–‡æœ¬è§£æï¼Œç„¶åæ˜¾ç¤ºå‡ºæ¥ã€‚</span></strong><span>è¿™æ®µæ–‡æœ¬å°±æ˜¯éµå¾ªHTTPåè®®è§„èŒƒçš„ã€‚</span></p><h3><a name="32http10å’Œhttp11çš„åŒºåˆ«" class="md-header-anchor"></a><span>3.2HTTP1.0å’ŒHTTP1.1çš„åŒºåˆ«</span></h3><p><span>HTTP1.0åè®®ä¸­ï¼Œå®¢æˆ·ç«¯ä¸webæœåŠ¡å™¨å»ºç«‹è¿æ¥åï¼Œåªèƒ½è·å¾—ä¸€ä¸ªwebèµ„æºã€çŸ­è¿æ¥ï¼Œè·å–èµ„æºåå°±æ–­å¼€è¿æ¥ã€‘</span></p><p><span>HTTP1.1åè®®ï¼Œå…è®¸å®¢æˆ·ç«¯ä¸webæœåŠ¡å™¨å»ºç«‹è¿æ¥åï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸Šè·å–å¤šä¸ªwebèµ„æºã€ä¿æŒè¿æ¥ã€‘</span></p><h3><a name="33httpè¯·æ±‚" class="md-header-anchor"></a><span>3.3HTTPè¯·æ±‚</span></h3><p><strong><span>æµè§ˆå™¨å‘æœåŠ¡å™¨è¯·æ±‚æŸä¸ªwebèµ„æºæ—¶ï¼Œç§°ä¹‹ä¸ºæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€äº†ä¸€ä¸ªhttpè¯·æ±‚ã€‚</span></strong></p><p><span>ä¸€ä¸ªå®Œæ•´httpè¯·æ±‚åº”è¯¥åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</span></p><ol start='' ><li><span>è¯·æ±‚è¡Œã€æè¿°å®¢æˆ·ç«¯çš„</span><strong><span>è¯·æ±‚æ–¹å¼</span></strong><span>ã€</span><strong><span>è¯·æ±‚çš„èµ„æºåç§°</span></strong><span>ï¼Œä»¥åŠä½¿ç”¨çš„</span><strong><span>HTTPåè®®ç‰ˆæœ¬å·</span></strong><span>ã€‘</span></li><li><span>å¤šä¸ªæ¶ˆæ¯å¤´ã€æè¿°å®¢æˆ·ç«¯è¯·æ±‚å“ªå°ä¸»æœºï¼Œä»¥åŠ</span><strong><span>å®¢æˆ·ç«¯çš„ä¸€äº›ç¯å¢ƒä¿¡æ¯</span></strong><span>ç­‰ã€‘</span></li><li><span>ä¸€ä¸ªç©ºè¡Œ</span></li></ol><h4><a name="331è¯·æ±‚è¡Œ" class="md-header-anchor"></a><span>3.3.1è¯·æ±‚è¡Œ</span></h4><p><span>è¯·æ±‚è¡Œï¼šGET /java.html HTTP/1.1</span></p><p><strong><span>è¯·æ±‚è¡Œä¸­çš„GETç§°ä¹‹ä¸ºè¯·æ±‚æ–¹å¼</span></strong><span>ï¼Œè¯·æ±‚æ–¹å¼æœ‰ï¼šPOST,GET,HEAD,OPTIONS,DELETE,TRACE,PUTã€‚</span></p><p><strong><span>å¸¸ç”¨çš„æœ‰ï¼šPOST,GET</span></strong></p><p><span>ä¸€èˆ¬æ¥è¯´ï¼Œå½“æˆ‘ä»¬</span><strong><span>ç‚¹å‡»è¶…é“¾æ¥ï¼Œé€šè¿‡åœ°å€æ è®¿é—®éƒ½æ˜¯getè¯·æ±‚æ–¹å¼</span></strong><span>ã€‚é€šè¿‡</span><strong><span>è¡¨å•æäº¤çš„æ•°æ®ä¸€èˆ¬æ˜¯postæ–¹å¼</span></strong><span>ã€‚</span></p><p><span>å¯ä»¥ç®€å•ç†è§£</span><strong><span>GETæ–¹å¼ç”¨æ¥æŸ¥è¯¢æ•°æ®</span></strong><span>,</span><strong><span>POSTæ–¹å¼ç”¨æ¥æäº¤æ•°æ®</span></strong><span>ï¼Œ</span><strong><span>getçš„æäº¤é€Ÿåº¦æ¯”postå¿«</span></strong></p><p><span>GETæ–¹å¼ï¼šåœ¨URLåœ°å€å</span><strong><span>é™„å¸¦çš„å‚æ•°æ˜¯æœ‰é™åˆ¶çš„</span></strong><span>ï¼Œå…¶</span><strong><span>æ•°æ®å®¹é‡é€šå¸¸ä¸èƒ½è¶…è¿‡1K</span></strong><span>ã€‚</span></p><p><span>POSTæ–¹å¼ï¼šå¯ä»¥åœ¨</span><strong><span>è¯·æ±‚çš„å®ä½“å†…å®¹ä¸­å‘æœåŠ¡å™¨å‘é€æ•°æ®</span></strong><span>ï¼Œ</span><strong><span>ä¼ é€çš„æ•°æ®é‡æ— é™åˆ¶</span></strong><span>ã€‚</span></p><h4><a name="332è¯·æ±‚å¤´" class="md-header-anchor"></a><span>3.3.2è¯·æ±‚å¤´</span></h4><ul><li><span>Accept: text/html,image/*    ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ”¯æŒçš„æ•°æ®ç±»å‹ã€‘</span></li><li><span>Accept-Charset: ISO-8859-1</span><span>	</span><span>ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ”¯æŒå“ªç§</span><strong><span>å­—ç¬¦é›†</span></strong><span>ã€‘</span></li><li><span>Accept-Encoding: gzip,compress ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒæ”¯æŒçš„</span><strong><span>å‹ç¼©æ ¼å¼</span></strong><span>ã€‘</span></li><li><span>Accept-Language: en-us,zh-cn ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒã€‘</span></li><li><span>Host: </span><a href='www.it315.org:80' target='_blank' class='url'>www.it315.org:80</a><span>ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®ƒçš„æƒ³è®¿é—®å“ªå°ä¸»æœºã€‘</span></li><li><span>If-Modified-Since: Tue, 11 Jul 2000 18:23:51 GMTã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œç¼“å­˜æ•°æ®çš„æ—¶é—´ã€‘</span></li><li><span>Referer: </span><a href='http://www.it315.org/index.jsp' target='_blank' class='url'>http://www.it315.org/index.jsp</a><span>ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œå®¢æˆ·æœºæ˜¯ä»é‚£ä¸ªé¡µé¢æ¥çš„---</span><strong><span>åç›—é“¾</span></strong><span>ã€‘</span></li><li><span>8.User-Agent: Mozilla/4.0 (compatible; MSIE 5.5; Windows NT 5.0)ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œæµè§ˆå™¨çš„å†…æ ¸æ˜¯ä»€ä¹ˆã€‘</span></li><li><span>Cookieã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œ</span><strong><span>å¸¦æ¥çš„Cookieæ˜¯ä»€ä¹ˆ</span></strong><span>ã€‘</span></li><li><span>Connection: close/Keep-Alive  ã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œè¯·æ±‚å®Œåæ˜¯æ–­å¼€é“¾æ¥è¿˜æ˜¯ä¿æŒé“¾æ¥ã€‘ </span></li><li><span>Date: Tue, 11 Jul 2000 18:23:51 GMTã€æµè§ˆå™¨å‘Šè¯‰æœåŠ¡å™¨ï¼Œè¯·æ±‚çš„æ—¶é—´ã€‘ </span></li></ul><h3><a name="34httpå“åº”" class="md-header-anchor"></a><span>3.4HTTPå“åº”</span></h3><p><span>ä¸€ä¸ªHTTPå“åº”ä»£è¡¨ç€</span><strong><span>æœåŠ¡å™¨å‘æµè§ˆå™¨å›é€æ•°æ®</span></strong></p><p><span>ä¸€ä¸ªå®Œæ•´çš„HTTPå“åº”åº”è¯¥åŒ…å«å››ä¸ªéƒ¨åˆ†:</span></p><ol start='' ><li><span>ä¸€ä¸ªçŠ¶æ€è¡Œã€ç”¨äºæè¿°</span><strong><span>æœåŠ¡å™¨å¯¹è¯·æ±‚çš„å¤„ç†ç»“æœã€‚</span></strong><span>ã€‘</span></li><li><span>å¤šä¸ªæ¶ˆæ¯å¤´ã€ç”¨äºæè¿°</span><strong><span>æœåŠ¡å™¨çš„åŸºæœ¬ä¿¡æ¯</span></strong><span>ï¼Œä»¥åŠ</span><strong><span>æ•°æ®çš„æè¿°</span></strong><span>ï¼Œ</span><strong><span>æœåŠ¡å™¨é€šè¿‡è¿™äº›æ•°æ®çš„æè¿°ä¿¡æ¯ï¼Œå¯ä»¥é€šçŸ¥å®¢æˆ·ç«¯å¦‚ä½•å¤„ç†ç­‰ä¸€ä¼šå„¿å®ƒå›é€çš„æ•°æ®</span></strong><span>ã€‘</span></li><li><span>ä¸€ä¸ªç©ºè¡Œ</span></li><li><span>å®ä½“å†…å®¹ã€</span><strong><span>æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å›é€çš„æ•°æ®</span></strong><span>ã€‘</span></li></ol><h4><a name="341çŠ¶æ€è¡Œ" class="md-header-anchor"></a><span>3.4.1çŠ¶æ€è¡Œ</span></h4><p><span>æ ¼å¼ï¼š HTTPç‰ˆæœ¬å·ã€€çŠ¶æ€ç ã€€åŸå› å™è¿°</span></p><p><span>çŠ¶æ€è¡Œï¼šHTTP/1.1  200    OK</span></p><p><span>çŠ¶æ€ç ç”¨äºè¡¨ç¤º</span><strong><span>æœåŠ¡å™¨å¯¹è¯·æ±‚çš„å¤„ç†ç»“æœ</span></strong><span>ï¼Œå®ƒæ˜¯ä¸€ä¸ª</span><strong><span>ä¸‰ä½çš„åè¿›åˆ¶æ•°</span></strong><span>ã€‚å“åº”çŠ¶æ€ç åˆ†ä¸º5ç±»</span></p><p><img src="http://i.imgur.com/9vzLcIb.png" referrerpolicy="no-referrer"></p><h4><a name="342å“åº”å¤´" class="md-header-anchor"></a><span>3.4.2å“åº”å¤´</span></h4><ul><li><span>Location: </span><a href='http://www.it315.org/index.jsp' target='_blank' class='url'>http://www.it315.org/index.jsp</a><span> ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨</span><strong><span>è¦è·³è½¬åˆ°å“ªä¸ªé¡µé¢</span></strong><span>ã€‘</span></li><li><span>Server:apache tomcatã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ï¼ŒæœåŠ¡å™¨çš„å‹å·æ˜¯ä»€ä¹ˆã€‘</span></li><li><span>Content-Encoding: gzip ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨</span><strong><span>æ•°æ®å‹ç¼©çš„æ ¼å¼</span></strong><span>ã€‘</span></li><li><span>Content-Length: 80 ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨å›é€æ•°æ®çš„é•¿åº¦ã€‘</span></li><li><span>Content-Language: zh-cn ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ï¼ŒæœåŠ¡å™¨çš„è¯­è¨€ç¯å¢ƒã€‘</span></li><li><span>Content-Type: text/html; charset=GB2312 ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨ï¼Œ</span><strong><span>å›é€æ•°æ®çš„ç±»å‹</span></strong><span>ã€‘</span></li><li><span>Last-Modified: Tue, 11 Jul 2000 18:23:51 GMTã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨è¯¥èµ„æºä¸Šæ¬¡æ›´æ–°æ—¶é—´ã€‘</span></li><li><span>Refresh: 1;url=</span><a href='http://www.it315.org' target='_blank' class='url'>http://www.it315.org</a><span>ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨è¦</span><strong><span>å®šæ—¶åˆ·æ–°</span></strong><span>ã€‘</span></li><li><span>Content-Disposition: attachment; filename=aaa.zipã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨</span><strong><span>ä»¥ä¸‹è½½æ–¹å¼æ‰“å¼€æ•°æ®</span></strong><span>ã€‘</span></li><li><span>Transfer-Encoding: chunked  ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨æ•°æ®ä»¥åˆ†å—æ–¹å¼å›é€ã€‘</span></li><li><span>Set-Cookie:SS=Q0=5Lb_nQ; path=/searchã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨è¦</span><strong><span>ä¿å­˜Cookie</span></strong><span>ã€‘</span></li><li><span>Expires: -1ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨</span><strong><span>ä¸è¦è®¾ç½®ç¼“å­˜</span></strong><span>ã€‘</span></li><li><span>Cache-Control: no-cache  ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨</span><strong><span>ä¸è¦è®¾ç½®ç¼“å­˜</span></strong><span>ã€‘</span></li><li><span>Pragma: no-cache   ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨</span><strong><span>ä¸è¦è®¾ç½®ç¼“å­˜</span></strong><span>ã€‘</span></li><li><span>Connection: close/Keep-Alive   ã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨è¿æ¥æ–¹å¼ã€‘</span></li><li><span>Date: Tue, 11 Jul 2000 18:23:51 GMTã€æœåŠ¡å™¨å‘Šè¯‰æµè§ˆå™¨å›é€æ•°æ®çš„æ—¶é—´ã€‘</span></li></ul><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmsw5j75j30730733yj.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h2><a name="4javawebç›®å½•ç»“æ„" class="md-header-anchor"></a><span>4.JAVAWEBç›®å½•ç»“æ„</span></h2><p><img src="http://i.imgur.com/HGtlKI7.png" referrerpolicy="no-referrer"></p><p><span>ä»¥ä¸Šå›¾è¯´æ˜ï¼š</span></p><ul><li><span>bbsç›®å½•ä»£è¡¨ä¸€ä¸ªwebåº”ç”¨</span></li><li><span>bbsç›®å½•ä¸‹çš„html,jspæ–‡ä»¶å¯ä»¥ç›´æ¥è¢«æµè§ˆå™¨è®¿é—®</span></li><li><strong><span>WEB-INFç›®å½•ä¸‹çš„èµ„æºæ˜¯ä¸èƒ½ç›´æ¥è¢«æµè§ˆå™¨è®¿é—®çš„</span></strong></li><li><span>web.xmlæ–‡ä»¶æ˜¯webç¨‹åºçš„ä¸»è¦é…ç½®æ–‡ä»¶</span></li><li><span>æ‰€æœ‰çš„classesæ–‡ä»¶éƒ½æ”¾åœ¨classesç›®å½•ä¸‹</span></li><li><span>jaræ–‡ä»¶æ”¾åœ¨libç›®å½•ä¸‹</span></li></ul><p>&nbsp;</p><h2><a name="5å®ç°servletæ¥å£ç¼–å†™servletç¨‹åº" class="md-header-anchor"></a><span>5.å®ç°Servletæ¥å£ç¼–å†™Servletç¨‹åº</span></h2><p><span>ç¨‹åºæˆ‘éƒ½æ˜¯ç”±ideaä¸‹å†™ï¼Œé¦–å…ˆè¦åœ¨ideaä¸Šé…ç½®Tomcatï¼Œåœ¨æˆ‘åˆ«çš„åšæ–‡ä¸­æœ‰æ•™ç¨‹ï¼</span></p><h3><a name="51ç¼–å†™servletç¨‹åºçš„æ­¥éª¤" class="md-header-anchor"></a><span>5.1ç¼–å†™Servletç¨‹åºçš„æ­¥éª¤</span></h3><p><span>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼Œ</span><strong><span>å®ç°Servletæ¥å£</span></strong></p><p><img src="http://i.imgur.com/JDEuSqN.png" referrerpolicy="no-referrer"></p><p><span>æˆ‘ä»¬å‘ç°æœ‰5ä¸ªæ–¹æ³•éœ€è¦é‡å†™ï¼Œæœ‰initã€åˆå§‹åŒ–ã€‘ï¼Œdestroyã€é”€æ¯ã€‘,serviceã€æœåŠ¡ã€‘,ServletConfigã€Servleté…ç½®ã€‘,getServletInfoã€Servletä¿¡æ¯ã€‘ã€‚</span></p><p><span>åœ¨æ­¤ä¸€çœ‹ï¼Œå‘ç°service()æ–¹æ³•æ˜¯æœ€æœ‰å¯èƒ½æ˜¯å†™é€»è¾‘ä»£ç çš„åœ°æ–¹ã€‚</span></p><p><span>é¦–å…ˆå†™ä¸€ä¸ªhellwordå…¥é—¨å…ˆï¼Œè°ƒç”¨ServletResponseå¯¹è±¡çš„æ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºHelloWorld</span></p><p><img src="http://i.imgur.com/wYeoE7P.png" referrerpolicy="no-referrer"></p><p><span>é…ç½®xmlæ–‡ä»¶ï¼Œå…‰å†™äº†Servletæ˜¯ä¸è¡Œçš„ï¼ŒTomcatè¿˜è¦çŸ¥é“æµè§ˆå™¨æ€ä¹ˆè®¿é—®è¿™ä¸ªServletã€‚</span></p><p><img src="http://i.imgur.com/bmxw9ay.png" referrerpolicy="no-referrer"></p><p><span>è®¿é—®è‡ªå·±å†™çš„Servletç¨‹åº</span></p><p><img src="http://i.imgur.com/rMxDtUm.png" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmt86of5g306o06ojt6.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h2><a name="6servletç”Ÿå‘½å‘¨æœŸ" class="md-header-anchor"></a><span>6.Servletç”Ÿå‘½å‘¨æœŸ</span></h2><p><span>ä¸‹é¢æˆ‘ä»¬çœ‹çœ‹Servletçš„ç”Ÿå‘½å‘¨æœŸ</span>
<img src="http://i.imgur.com/bhBdx7o.png" referrerpolicy="no-referrer"></p><p><strong><span>ç¬¬ä¸€æ¬¡è®¿é—®</span></strong><span>Servletï¼Œæˆ‘ä»¬å‘ç°</span><strong><span>init()å’Œservice()éƒ½è¢«è°ƒç”¨äº†</span></strong></p><p><img src="http://i.imgur.com/n12sYq6.png" referrerpolicy="no-referrer"></p><p><strong><span>ç¬¬äºŒæ¬¡è®¿é—®</span></strong><span>Servletï¼Œ</span><strong><span>service()è¢«è°ƒç”¨äº†</span></strong></p><p><img src="http://i.imgur.com/OK1RwD7.png" referrerpolicy="no-referrer"></p><p><span>ç¬¬ä¸‰æ¬¡è®¿é—®Servletï¼Œ</span><strong><span>è¿˜æ˜¯service()è¢«è°ƒç”¨äº†</span></strong></p><p><img src="http://i.imgur.com/OK1RwD7.png" referrerpolicy="no-referrer"></p><p><span>å½“æˆ‘ä»¬</span><strong><span>å…³é—­TomcatæœåŠ¡å™¨</span></strong><span>çš„æ—¶å€™ï¼Œ</span><strong><span>destroy()è¢«è°ƒç”¨äº†ï¼</span></strong></p><p><img src="http://i.imgur.com/XlgUU9E.png" referrerpolicy="no-referrer"></p><h3><a name="61servletç”Ÿå‘½å‘¨æœŸå¯åˆ†ä¸º5ä¸ªæ­¥éª¤" class="md-header-anchor"></a><span>6.1Servletç”Ÿå‘½å‘¨æœŸå¯åˆ†ä¸º5ä¸ªæ­¥éª¤</span></h3><ol start='' ><li><strong><span>åŠ è½½Servlet</span></strong><span>ã€‚å½“Tomcatç¬¬ä¸€æ¬¡è®¿é—®Servletçš„æ—¶å€™ï¼Œ</span><strong><span>Tomcatä¼šè´Ÿè´£åˆ›å»ºServletçš„å®ä¾‹</span></strong></li><li><strong><span>åˆå§‹åŒ–</span></strong><span>ã€‚å½“Servletè¢«å®ä¾‹åŒ–åï¼ŒTomcatä¼š</span><strong><span>è°ƒç”¨init()æ–¹æ³•åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡</span></strong></li><li><strong><span>å¤„ç†æœåŠ¡</span></strong><span>ã€‚å½“æµè§ˆå™¨</span><strong><span>è®¿é—®Servlet</span></strong><span>çš„æ—¶å€™ï¼ŒServlet </span><strong><span>ä¼šè°ƒç”¨service()æ–¹æ³•å¤„ç†è¯·æ±‚</span></strong></li><li><strong><span>é”€æ¯</span></strong><span>ã€‚å½“Tomcatå…³é—­æ—¶æˆ–è€…æ£€æµ‹åˆ°Servletè¦ä»Tomcatåˆ é™¤çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨destroy()æ–¹æ³•ï¼Œ</span><strong><span>è®©è¯¥å®ä¾‹é‡Šæ”¾æ‰æ‰€å çš„èµ„æº</span></strong><span>ã€‚ä¸€ä¸ªServletå¦‚æœé•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„è¯ï¼Œä¹Ÿä¼šè¢«Tomcatè‡ªåŠ¨é”€æ¯</span></li><li><strong><span>å¸è½½</span></strong><span>ã€‚å½“Servletè°ƒç”¨å®Œdestroy()æ–¹æ³•åï¼Œç­‰å¾…åƒåœ¾å›æ”¶ã€‚å¦‚æœ</span><strong><span>æœ‰éœ€è¦å†æ¬¡ä½¿ç”¨è¿™ä¸ªServletï¼Œä¼šé‡æ–°è°ƒç”¨init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–æ“ä½œ</span></strong><span>ã€‚</span></li></ol><p>&nbsp;</p><p><span>ç®€å•æ€»ç»“ï¼š</span><strong><span>åªè¦è®¿é—®Servletï¼Œservice()å°±ä¼šè¢«è°ƒç”¨ã€‚init()åªæœ‰ç¬¬ä¸€æ¬¡è®¿é—®Servletçš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚</span>
<span>destroy()åªæœ‰åœ¨Tomcatå…³é—­çš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚</span></strong></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmtk5zjog306o06odg1.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p>&nbsp;</p><h2><a name="7ç»§æ‰¿httpservletç¼–å†™servletç¨‹åº" class="md-header-anchor"></a><span>7.ç»§æ‰¿HttpServletç¼–å†™Servletç¨‹åº</span></h2><p><span>åœ¨ä¸Šé¢æˆ‘ä»¬å®ç°Servletæ¥å£ï¼Œè¦å®ç°5ä¸ªæ–¹æ³•ã€‚è¿™æ ·å¤ªéº»çƒ¦äº†ï¼è€Œ</span><strong><span>HttpServletç±»å·²ç»å®ç°äº†Servletæ¥å£çš„æ‰€æœ‰æ–¹æ³•</span></strong><span>ï¼Œç¼–å†™Servletæ—¶ï¼Œåªéœ€è¦</span><strong><span>ç»§æ‰¿HttpServletï¼Œé‡å†™ä½ éœ€è¦çš„æ–¹æ³•å³å¯</span></strong><span>ï¼Œå¹¶ä¸”å®ƒåœ¨åŸæœ‰Servletæ¥å£ä¸Š</span><strong><span>æ·»åŠ äº†ä¸€äº›ä¸HTTPåè®®å¤„ç†æ–¹æ³•</span></strong><span>ï¼Œå®ƒ</span><strong><span>æ¯”Servletæ¥å£çš„åŠŸèƒ½æ›´ä¸ºå¼ºå¤§</span></strong><span>ã€‚</span></p><ul><li><span>ä¸€èˆ¬æˆ‘ä»¬å¼€å‘çš„æ—¶å€™ï¼Œéƒ½æ˜¯</span><strong><span>é‡å†™doGet()å’ŒdoPost()æ–¹æ³•çš„</span></strong><span>ã€‚å¯¹äºideaè€Œè¨€ï¼Œåˆ›å»ºServletçš„æ—¶å€™å·²ç»å¸®ä½ é‡å†™å¥½äº†</span></li></ul><p><span> </span><img src="http://i.imgur.com/Szu07ky.png" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h1><a name="servletconfigservletcontextå’Œservletç»†èŠ‚" class="md-header-anchor"></a><span>ServletConfigã€ServletContextå’ŒServletç»†èŠ‚</span></h1><h2><a name="1servletçš„è°ƒç”¨å›¾" class="md-header-anchor"></a><span>1.Servletçš„è°ƒç”¨å›¾</span></h2><p><span>å‰é¢æˆ‘ä»¬å·²ç»å­¦è¿‡äº†Servletçš„ç”Ÿå‘½å‘¨æœŸäº†ï¼Œæˆ‘ä»¬æ ¹æ®Servletçš„ç”Ÿå‘½å‘¨æœŸç”»å‡ºServletçš„è°ƒç”¨å›¾åŠ æ·±ç†è§£</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e947fdf140bd?w=1892&amp;h=1139&amp;f=png&amp;s=46258" referrerpolicy="no-referrer"></p><h2><a name="2servletçš„ç»†èŠ‚" class="md-header-anchor"></a><span>2.Servletçš„ç»†èŠ‚</span></h2><h3><a name="21-ä¸€ä¸ªå·²ç»æ³¨å†Œçš„servletå¯ä»¥è¢«å¤šæ¬¡æ˜ å°„" class="md-header-anchor"></a><span>2.1 ä¸€ä¸ªå·²ç»æ³¨å†Œçš„Servletå¯ä»¥è¢«å¤šæ¬¡æ˜ å°„</span></h3><p><strong><span>åŒä¸€ä¸ªServletå¯ä»¥è¢«æ˜ å°„åˆ°å¤šä¸ªURLä¸Šã€‚</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span>zhongfucheng.web.Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>/Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>/ouzicheng<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 286px;"></div><div class="CodeMirror-gutters" style="display: none; height: 286px;"></div></div></div></pre><p><span>æ— è®ºæˆ‘è®¿é—®çš„æ˜¯</span><a href='http://localhost:8080/Demo1' target='_blank' class='url'>http://localhost:8080/Demo1</a><span>è¿˜æ˜¯</span><a href='http://localhost:8080/ouzicheng' target='_blank' class='url'>http://localhost:8080/ouzicheng</a><span>ã€‚æˆ‘è®¿é—®çš„éƒ½æ˜¯Demo1ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e947fe03642a?w=427&amp;h=174&amp;f=png&amp;s=8902" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e947ff01e623?w=427&amp;h=174&amp;f=png&amp;s=8678" referrerpolicy="no-referrer"></p><h3><a name="22-servletæ˜ å°„çš„urlå¯ä»¥ä½¿ç”¨é€šé…ç¬¦" class="md-header-anchor"></a><span>2.2 Servletæ˜ å°„çš„URLå¯ä»¥ä½¿ç”¨é€šé…ç¬¦</span></h3><p><span>é€šé…ç¬¦æœ‰ä¸¤ç§æ ¼å¼ï¼š</span></p><ol start='' ><li><code>*.</code><span>æ‰©å±•å</span></li><li><span>æ­£æ–œæ ï¼ˆ/ï¼‰å¼€å¤´å¹¶ä»¥â€œ/*â€ç»“å°¾ã€‚</span></li></ol><p><strong><span>åŒ¹é…æ‰€æœ‰</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e947fff867c3?w=1054&amp;h=301&amp;f=png&amp;s=24207" referrerpolicy="no-referrer"></p><p><strong><span>åŒ¹é…æ‰©å±•åä¸º.jspçš„</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948003a39ec?w=1015&amp;h=327&amp;f=png&amp;s=24920" referrerpolicy="no-referrer"></p><p><span>å¦‚æœ</span><em><span>.æ‰©å±•åå’Œæ­£æ–œæ ï¼ˆ/ï¼‰å¼€å¤´å¹¶ä»¥â€œ/</span></em><span>â€ç»“å°¾ä¸¤ç§é€šé…ç¬¦åŒæ—¶å‡ºç°ï¼ŒåŒ¹é…çš„æ˜¯å“ªä¸€ä¸ªå‘¢ï¼Ÿ</span></p><ol start='' ><li><strong><span>çœ‹è°çš„åŒ¹é…åº¦é«˜ï¼Œè°å°±è¢«é€‰æ‹©</span></strong></li><li><code>*.</code><span>æ‰©å±•åçš„ä¼˜å…ˆçº§æœ€ä½</span></li></ol><p><span>Servletæ˜ å°„çš„URLå¯ä»¥ä½¿ç”¨é€šé…ç¬¦å’ŒServletå¯ä»¥è¢«æ˜ å°„åˆ°å¤šä¸ªURLä¸Šçš„ä½œç”¨ï¼š</span></p><ol start='' ><li><strong><span>éšè—ç½‘ç«™æ˜¯ç”¨ä»€ä¹ˆç¼–ç¨‹è¯­è¨€å†™çš„</span></strong><span>ã€.php,.net,.aspå®é™…ä¸Šè®¿é—®çš„éƒ½æ˜¯åŒä¸€ä¸ªèµ„æºã€‘</span></li><li><span>ç”¨ç‰¹å®šçš„</span><strong><span>åç¼€å£°æ˜ç‰ˆæƒ</span></strong><span>ã€å…¬å¸ç¼©å†™ã€‘</span></li></ol><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span>zhongfucheng.web.Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>*.jsp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>*.net<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>*.asp<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>*.php<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 440px;"></div><div class="CodeMirror-gutters" style="display: none; height: 440px;"></div></div></div></pre><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmu1lb2vg306o06ojtg.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h3><a name="23-servletæ˜¯å•ä¾‹çš„" class="md-header-anchor"></a><span>2.3 Servletæ˜¯å•ä¾‹çš„</span></h3><h4><a name="231-ä¸ºä»€ä¹ˆservletæ˜¯å•ä¾‹çš„" class="md-header-anchor"></a><span>2.3.1 ä¸ºä»€ä¹ˆServletæ˜¯å•ä¾‹çš„</span></h4><p><strong><span>æµè§ˆå™¨å¤šæ¬¡å¯¹Servletçš„è¯·æ±‚</span></strong><span>ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œ</span><strong><span>æœåŠ¡å™¨åªåˆ›å»ºä¸€ä¸ªServletå¯¹è±¡</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒServletå¯¹è±¡</span><strong><span>ä¸€æ—¦åˆ›å»ºäº†</span></strong><span>ï¼Œå°±ä¼š</span><strong><span>é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºåç»­çš„è¯·æ±‚åšæœåŠ¡ï¼Œç›´åˆ°æœåŠ¡å™¨å…³é—­</span></strong><span>ã€‚</span></p><h4><a name="232-æ¯æ¬¡è®¿é—®è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡éƒ½æ˜¯æ–°çš„" class="md-header-anchor"></a><span>2.3.2 æ¯æ¬¡è®¿é—®è¯·æ±‚å¯¹è±¡å’Œå“åº”å¯¹è±¡éƒ½æ˜¯æ–°çš„</span></h4><p><span>å¯¹äº</span><strong><span>æ¯æ¬¡è®¿é—®è¯·æ±‚</span></strong><span>ï¼ŒServletå¼•æ“éƒ½ä¼š</span><strong><span>åˆ›å»ºä¸€ä¸ªæ–°çš„HttpServletRequestè¯·æ±‚å¯¹è±¡å’Œä¸€ä¸ªæ–°çš„HttpServletResponseå“åº”å¯¹è±¡</span></strong><span>ï¼Œç„¶åå°†è¿™ä¸¤</span><strong><span>ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒè°ƒç”¨çš„Servletçš„service()æ–¹æ³•</span></strong><span>ï¼Œ</span><strong><span>serviceæ–¹æ³•å†æ ¹æ®è¯·æ±‚æ–¹å¼åˆ†åˆ«è°ƒç”¨doXXXæ–¹æ³•</span></strong><span>ã€‚</span></p><h4><a name="233-çº¿ç¨‹å®‰å…¨é—®é¢˜" class="md-header-anchor"></a><span>2.3.3 çº¿ç¨‹å®‰å…¨é—®é¢˜</span></h4><p><span>å½“å¤šä¸ªç”¨æˆ·è®¿é—®Servletçš„æ—¶å€™ï¼Œ</span><strong><span>æœåŠ¡å™¨ä¼šä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªçº¿ç¨‹</span></strong><span>ã€‚</span><strong><span>å½“å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®Servletå…±äº«èµ„æºçš„æ—¶å€™å°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜</span></strong><span>ã€‚</span></p><p><span>åŸåˆ™ï¼š</span></p><ol start='' ><li><span>å¦‚æœä¸€ä¸ª</span><strong><span>å˜é‡éœ€è¦å¤šä¸ªç”¨æˆ·å…±äº«</span></strong><span>ï¼Œåˆ™åº”å½“åœ¨è®¿é—®è¯¥å˜é‡çš„æ—¶å€™ï¼Œ</span><strong><span>åŠ åŒæ­¥æœºåˆ¶synchronized (å¯¹è±¡){}</span></strong></li><li><span>å¦‚æœä¸€ä¸ªå˜é‡</span><strong><span>ä¸éœ€è¦å…±äº«</span></strong><span>ï¼Œåˆ™</span><strong><span>ç›´æ¥åœ¨ doGet() æˆ–è€… doPost()å®šä¹‰</span></strong><span>.è¿™æ ·ä¸ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜</span></li></ol><h3><a name="24-load-on-startup" class="md-header-anchor"></a><span>2.4 load-on-startup</span></h3><p><span>å¦‚æœåœ¨</span><code>&lt;servlet&gt;</code><span>å…ƒç´ ä¸­é…ç½®äº†ä¸€ä¸ª</span><code>&lt;load-on-startup&gt;</code><span>å…ƒç´ ï¼Œé‚£ä¹ˆ</span><strong><span>WEBåº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶</span></strong><span>ï¼Œå°±ä¼š</span><strong><span>è£…è½½å¹¶åˆ›å»ºServletçš„å®ä¾‹å¯¹è±¡</span></strong><span>ã€ä»¥åŠ</span><strong><span>è°ƒç”¨Servletå®ä¾‹å¯¹è±¡çš„init()æ–¹æ³•</span></strong><span>ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e94800c00ad0?w=877&amp;h=263&amp;f=png&amp;s=11470" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948411372c5?w=1920&amp;h=1040&amp;f=png&amp;s=104483" referrerpolicy="no-referrer"></p><p><span>ä½œç”¨ï¼š</span></p><ol start='' ><li><span>ä¸ºwebåº”ç”¨å†™ä¸€ä¸ªInitServletï¼Œè¿™ä¸ª</span><strong><span>servleté…ç½®ä¸ºå¯åŠ¨æ—¶è£…è½½</span></strong><span>ï¼Œä¸ºæ•´ä¸ªwebåº”ç”¨</span><strong><span>åˆ›å»ºå¿…è¦çš„æ•°æ®åº“è¡¨å’Œæ•°æ®</span></strong></li><li><span>å®Œæˆä¸€äº›å®šæ—¶çš„ä»»åŠ¡ã€å®šæ—¶å†™æ—¥å¿—ï¼Œå®šæ—¶å¤‡ä»½æ•°æ®ã€‘</span></li></ol><hr /><h3><a name="25-åœ¨webè®¿é—®ä»»ä½•èµ„æºéƒ½æ˜¯åœ¨è®¿é—®servlet" class="md-header-anchor"></a><span>2.5 åœ¨webè®¿é—®ä»»ä½•èµ„æºéƒ½æ˜¯åœ¨è®¿é—®Servlet</span></h3><p><span>å½“ä½ å¯åŠ¨Tomcatï¼Œä½ åœ¨ç½‘å€ä¸Šè¾“å…¥</span><a href='http://localhost:8080' target='_blank' class='url'>http://localhost:8080</a><span>ã€‚ä¸ºä»€ä¹ˆä¼šå‡ºç°Tomcatå°çŒ«çš„é¡µé¢ï¼Ÿ</span></p><p><span>è¿™æ˜¯ç”±</span><strong><span>ç¼ºçœServletä¸ºä½ æœåŠ¡çš„</span></strong><span>ï¼</span></p><p><span>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹web.xmlæ–‡ä»¶ä¸­çš„é…ç½®,</span><strong><span>web.xmlæ–‡ä»¶é…ç½®äº†ä¸€ä¸ªç¼ºçœServlet</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>default<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span>org.apache.catalina.servlets.DefaultServlet<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">init-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span>debug<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span>0<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">init-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">init-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span>listings<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span>false<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">init-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">load-on-startup</span><span class="cm-tag cm-bracket">&gt;</span>1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">load-on-startup</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>default<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>/<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 418px;"></div><div class="CodeMirror-gutters" style="display: none; height: 418px;"></div></div></div></pre><p><span>ä»€ä¹ˆå«åšç¼ºçœServletï¼Ÿå‡¡æ˜¯åœ¨web.xmlæ–‡ä»¶ä¸­</span><strong><span>æ‰¾ä¸åˆ°åŒ¹é…çš„</span><servlet-mapping><span>å…ƒç´ çš„URL</span></strong><span>ï¼Œå®ƒä»¬çš„è®¿é—®</span><strong><span>è¯·æ±‚éƒ½å°†äº¤ç»™ç¼ºçœServletå¤„ç†</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ</span><strong><span>ç¼ºçœServletç”¨äºå¤„ç†æ‰€æœ‰å…¶ä»–Servletéƒ½ä¸å¤„ç†çš„è®¿é—®è¯·æ±‚</span></strong></p><p><span>æ—¢ç„¶æˆ‘è¯´äº†åœ¨webè®¿é—®ä»»ä½•èµ„æºéƒ½æ˜¯åœ¨è®¿é—®Servletï¼Œé‚£ä¹ˆ</span><strong><span>æˆ‘è®¿é—®é™æ€èµ„æºã€æœ¬åœ°å›¾ç‰‡ï¼Œæœ¬åœ°HTMLæ–‡ä»¶ã€‘ä¹Ÿæ˜¯åœ¨è®¿é—®è¿™ä¸ªç¼ºçœServletã€DefaultServletã€‘</span></strong></p><p><span>è¯å®ä¸€ä¸‹ï¼šå½“æˆ‘æ²¡æœ‰æ‰‹å·¥é…ç½®ç¼ºçœServletçš„æ—¶å€™ï¼Œ</span><strong><span>è®¿é—®æœ¬åœ°å›¾ç‰‡æ˜¯å¯ä»¥è®¿é—®å¾—åˆ°çš„</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e94841591076?w=827&amp;h=488&amp;f=png&amp;s=685816" referrerpolicy="no-referrer"></p><p><span>ç°åœ¨æˆ‘è‡ªå·±é…ç½®ä¸€ä¸ªç¼ºçœServlet,</span><strong><span>Demo1å°±æ˜¯æˆ‘æ‰‹å·¥é…ç½®çš„ç¼ºçœServletï¼Œè¦†ç›–æ‰web.xmlé…ç½®çš„ç¼ºçœServlet</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span>zhongfucheng.web.Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>/<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 242px;"></div><div class="CodeMirror-gutters" style="display: none; height: 242px;"></div></div></div></pre><p><span>ä¸‹é¢æˆ‘ç»§ç»­è®¿é—®ä¸€ä¸‹åˆšæ‰çš„å›¾ç‰‡ï¼Œæ­¤æ—¶è¾“å‡ºçš„æ˜¯</span><strong><span>Demo1è¿™ä¸ªServletå†™ä¸Šçš„å†…å®¹äº†</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e94841d559d3?w=827&amp;h=488&amp;f=png&amp;s=13993" referrerpolicy="no-referrer"></p><p><span>æ€»ç»“ï¼š</span><strong><span>æ— è®ºåœ¨webä¸­è®¿é—®ä»€ä¹ˆèµ„æºã€åŒ…æ‹¬JSPã€‘ï¼Œéƒ½æ˜¯åœ¨è®¿é—®Servletã€‚</span></strong><span>æ²¡æœ‰æ‰‹å·¥é…ç½®ç¼ºçœServletçš„æ—¶å€™ï¼Œ</span><strong><span>ä½ è®¿é—®é™æ€å›¾ç‰‡ï¼Œé™æ€ç½‘é¡µï¼Œç¼ºçœServletä¼šåœ¨ä½ webç«™ç‚¹ä¸­å¯»æ‰¾è¯¥å›¾ç‰‡æˆ–ç½‘é¡µ</span></strong><span>ï¼Œå¦‚æœæœ‰å°±è¿”å›ç»™æµè§ˆå™¨ï¼Œæ²¡æœ‰å°±æŠ¥404é”™è¯¯</span></p><h2><a name="3-servletconfigå¯¹è±¡" class="md-header-anchor"></a><span>3. ServletConfigå¯¹è±¡</span></h2><h3><a name="31servletconfigå¯¹è±¡æœ‰ä»€ä¹ˆç”¨" class="md-header-anchor"></a><span>3.1ServletConfigå¯¹è±¡æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></h3><blockquote><p><span>é€šè¿‡æ­¤å¯¹è±¡å¯ä»¥è¯»å–web.xmlä¸­é…ç½®çš„åˆå§‹åŒ–å‚æ•°ã€‚</span></p></blockquote><p><span>ç°åœ¨é—®é¢˜æ¥äº†ï¼Œ</span><strong><span>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦æŠŠå‚æ•°ä¿¡æ¯æ”¾åˆ°web.xmlæ–‡ä»¶ä¸­å‘¢</span></strong><span>ï¼Ÿæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç¨‹åºä¸­éƒ½å¯ä»¥å®šä¹‰å‚æ•°ä¿¡æ¯ï¼Œ</span><strong><span>æåˆ°web.xmlæ–‡ä»¶ä¸­åˆæœ‰ä»€ä¹ˆå¥½å¤„å‘¢</span></strong><span>ï¼Ÿ</span></p><p><span>å¥½å¤„å°±æ˜¯ï¼š</span><strong><span>èƒ½å¤Ÿè®©ä½ çš„ç¨‹åºæ›´åŠ çµæ´»</span></strong><span>ã€æ›´æ¢éœ€æ±‚ï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶web.xmlå³å¯ï¼Œç¨‹åºä»£ç ä¸ç”¨æ”¹ã€‘</span></p><h3><a name="32è·å–webxmlæ–‡ä»¶é…ç½®çš„å‚æ•°ä¿¡æ¯" class="md-header-anchor"></a><span>3.2è·å–web.xmlæ–‡ä»¶é…ç½®çš„å‚æ•°ä¿¡æ¯</span></h3><ul><li><span>ä¸ºDemo1è¿™ä¸ªServleté…ç½®ä¸€ä¸ªå‚æ•°ï¼Œå‚æ•°åæ˜¯nameï¼Œå€¼æ˜¯zhongfucheng</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span>zhongfucheng.web.Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-class</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">init-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span>name<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span>zhongfucheng<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">init-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span>Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span>/Demo1<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">url-pattern</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">servlet-mapping</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 264px;"></div><div class="CodeMirror-gutters" style="display: none; height: 264px;"></div></div></div></pre><p><span>åœ¨Servletä¸­è·å–ServletConfigå¯¹è±¡ï¼Œé€šè¿‡ServletConfigå¯¹è±¡è·å–åœ¨web.xmlæ–‡ä»¶é…ç½®çš„å‚æ•°</span>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e9484b3adc1e?w=1693&amp;h=555&amp;f=png&amp;s=39352" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyv09urzj30730733ye.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h2><a name="4-servletcontextå¯¹è±¡" class="md-header-anchor"></a><span>4. ServletContextå¯¹è±¡</span></h2><h3><a name="41-ä»€ä¹ˆæ˜¯servletcontextå¯¹è±¡" class="md-header-anchor"></a><span>4.1 ä»€ä¹ˆæ˜¯ServletContextå¯¹è±¡ï¼Ÿ</span></h3><p><span>å½“Tomcatå¯åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªServletContextå¯¹è±¡ã€‚å®ƒ</span><strong><span>ä»£è¡¨ç€å½“å‰webç«™ç‚¹</span></strong></p><h3><a name="42-servletcontextæœ‰ä»€ä¹ˆç”¨" class="md-header-anchor"></a><span>4.2 ServletContextæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</span></h3><ol start='' ><li><span>ServletContextæ—¢ç„¶ä»£è¡¨ç€å½“å‰webç«™ç‚¹ï¼Œé‚£ä¹ˆ</span><strong><span>æ‰€æœ‰Servletéƒ½å…±äº«ç€ä¸€ä¸ªServletContextå¯¹è±¡</span></strong><span>ï¼Œæ‰€ä»¥</span><strong><span>Servletä¹‹é—´å¯ä»¥é€šè¿‡ServletContextå®ç°é€šè®¯</span></strong><span>ã€‚</span></li><li><span>ServletConfigè·å–çš„æ˜¯é…ç½®çš„æ˜¯å•ä¸ªServletçš„å‚æ•°ä¿¡æ¯ï¼Œ</span><strong><span>ServletContextå¯ä»¥è·å–çš„æ˜¯é…ç½®æ•´ä¸ªwebç«™ç‚¹çš„å‚æ•°ä¿¡æ¯</span></strong></li><li><strong><span>åˆ©ç”¨ServletContextè¯»å–webç«™ç‚¹çš„èµ„æºæ–‡ä»¶</span></strong></li><li><span>å®ç°Servletçš„è½¬å‘ã€ç”¨ServletContextè½¬å‘ä¸å¤šï¼Œä¸»è¦ç”¨requestè½¬å‘ã€‘</span></li></ol><h3><a name="43-servletä¹‹é—´å®ç°é€šè®¯" class="md-header-anchor"></a><span>4.3 Servletä¹‹é—´å®ç°é€šè®¯</span></h3><p><span>ServletContextå¯¹è±¡å¯ä»¥è¢«ç§°ä¹‹ä¸º</span><strong><span>åŸŸå¯¹è±¡</span></strong></p><p><span>åˆ°è¿™é‡Œå¯èƒ½æœ‰ä¸€ä¸ªç–‘é—®ï¼ŒåŸŸå¯¹è±¡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®åŸŸå¯¹è±¡å¯ä»¥ç®€å•ç†è§£æˆ</span><strong><span>ä¸€ä¸ªå®¹å™¨ã€ç±»ä¼¼äºMapé›†åˆã€‘</span></strong></p><p><span>å®ç°Servletä¹‹é—´é€šè®¯å°±è¦</span><strong><span>ç”¨åˆ°ServletContextçš„setAttribute(String name,Object obj)æ–¹æ³•</span></strong><span>ï¼Œ</span>
<span>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å…³é”®å­—ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä½ è¦å­˜å‚¨çš„å¯¹è±¡</span></p><p><span>è¿™æ˜¯Demo2çš„ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ServletContextå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletContext</span> <span class="cm-variable">servletContext</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> <span class="cm-string">"zhongfucheng"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//MyNameä½œä¸ºå…³é”®å­—ï¼Œvalueä½œä¸ºå€¼å­˜è¿› &nbsp; åŸŸå¯¹è±¡ã€ç±»å‹äºMapé›†åˆã€‘</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">servletContext</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"MyName"</span>, <span class="cm-variable">value</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 154px;"></div><div class="CodeMirror-gutters" style="display: none; height: 154px;"></div></div></div></pre><p><span>è¿™æ˜¯Demo3çš„ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–ServletContextå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletContext</span> <span class="cm-variable">servletContext</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡å…³é”®å­—è·å–å­˜å‚¨åœ¨åŸŸå¯¹è±¡çš„å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">String</span>) <span class="cm-variable">servletContext</span>.<span class="cm-variable">getAttribute</span>(<span class="cm-string">"MyName"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">value</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 154px;"></div><div class="CodeMirror-gutters" style="display: none; height: 154px;"></div></div></div></pre><p><span>è®¿é—®Demo3å¯ä»¥è·å–Demo2å­˜å‚¨çš„ä¿¡æ¯ï¼Œä»è€Œå®ç°å¤šä¸ªServletä¹‹é—´é€šè®¯</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e9484b605e94?w=1319&amp;h=275&amp;f=png&amp;s=27120" referrerpolicy="no-referrer"></p><h3><a name="44-è·å–webç«™ç‚¹é…ç½®çš„ä¿¡æ¯" class="md-header-anchor"></a><span>4.4 è·å–webç«™ç‚¹é…ç½®çš„ä¿¡æ¯</span></h3><p><span>å¦‚æœæˆ‘æƒ³è¦è®©æ‰€æœ‰çš„Servletéƒ½èƒ½å¤Ÿè·å–åˆ°è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯ï¼Œä¸å¯èƒ½åœ¨web.xmlæ–‡ä»¶ä¸­æ¯ä¸ªServletä¸­éƒ½é…ç½®ä¸€ä¸‹ï¼Œè¿™æ ·ä»£ç é‡å¤ªå¤§äº†ï¼å¹¶ä¸”ä¼šæ˜¾å¾—éå¸¸å•°å—¦å†—ä½™ã€‚</span></p><ul><li><span>web.xmlæ–‡ä»¶æ”¯æŒ</span><strong><span>å¯¹æ•´ä¸ªç«™ç‚¹è¿›è¡Œé…ç½®å‚æ•°ä¿¡æ¯</span></strong><span>ã€</span><strong><span>æ‰€æœ‰Servletéƒ½å¯ä»¥å–åˆ°è¯¥å‚æ•°ä¿¡æ¯</span></strong><span>ã€‘</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">context-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span>name<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-name</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span>zhongfucheng<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">param-value</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">context-param</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>Demo4ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ServletContextå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletContext</span> <span class="cm-variable">servletContext</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡åç§°è·å–å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> <span class="cm-variable">servletContext</span>.<span class="cm-variable">getInitParameter</span>(<span class="cm-string">"name"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">value</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948749a9dbc?w=1146&amp;h=230&amp;f=png&amp;s=18861" referrerpolicy="no-referrer"></p><p><span>è¯•ä¸€ä¸‹Demo3æ˜¯å¦èƒ½æ‹¿åˆ°ï¼Œç›¸åŒçš„ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ServletContextå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletContext</span> <span class="cm-variable">servletContext</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡åç§°è·å–å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> <span class="cm-variable">servletContext</span>.<span class="cm-variable">getInitParameter</span>(<span class="cm-string">"name"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">value</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e94875967f95?w=1112&amp;h=277&amp;f=png&amp;s=22286" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnmugj4irg306o06owfz.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h3><a name="45-è¯»å–èµ„æºæ–‡ä»¶" class="md-header-anchor"></a><span>4.5 è¯»å–èµ„æºæ–‡ä»¶</span></h3><h4><a name="è¯»å–èµ„æºç¬¬ä¸€ç§æ–¹å¼" class="md-header-anchor"></a><span>è¯»å–èµ„æºç¬¬ä¸€ç§æ–¹å¼ï¼š</span></h4><p><strong><span>ç¬¬ä¸€ç§æ–¹å¼ï¼š</span></strong><span>ç°åœ¨æˆ‘è¦é€šè¿‡Servlet111è¯»å–1.pngå›¾ç‰‡</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e9487b7aae06?w=474&amp;h=248&amp;f=png&amp;s=5871" referrerpolicy="no-referrer"></p><p><span>æŒ‰æˆ‘ä»¬ä»¥å‰çš„æ–¹å¼ï¼Œä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">FileInputStream</span> <span class="cm-variable">fileInputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">FileInputStream</span>(<span class="cm-string">"1.png"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">fileInputStream</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å½“æˆ‘ä»¬è®¿é—®çš„æ—¶å€™ï¼Œå´å‡ºé”™äº†ï¼è¯´</span><strong><span>æ‰¾ä¸åˆ°1.pngæ–‡ä»¶</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e9488072c2b8?w=980&amp;h=579&amp;f=png&amp;s=33498" referrerpolicy="no-referrer"></p><p><span>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬</span><strong><span>ä»¥å‰è¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œå¦‚æœç¨‹åºå’Œæ–‡ä»¶åœ¨åŒä¸€åŒ…åï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æ–‡ä»¶åç§°è·å–å¾—åˆ°çš„</span></strong><span>ï¼ï¼ŒåŸå› å¾ˆç®€å•ï¼Œ</span><strong><span>ä»¥å‰æˆ‘ä»¬å†™çš„ç¨‹åºéƒ½æ˜¯é€šè¿‡JVMæ¥è¿è¡Œçš„ï¼Œè€Œç°åœ¨ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡Tomcatæ¥è¿è¡Œçš„</span></strong></p><p><span>æ ¹æ®webçš„ç›®å½•è§„èŒƒï¼ŒServletç¼–è¯‘åçš„classæ–‡ä»¶æ˜¯å­˜æ”¾åœ¨WEB-INF\classesæ–‡ä»¶å¤¹ä¸­çš„</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948b0d81e08?w=471&amp;h=434&amp;f=png&amp;s=9837" referrerpolicy="no-referrer"></p><p><span>çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çŸ¥é“äº†</span><strong><span>è¦è¿›å…¥classesç›®å½•ä¸­è¯»å–æ–‡ä»¶</span></strong><span>ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†ä»£ç æ”¹æˆä»¥ä¸‹æ–¹å¼</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">FileInputStream</span> <span class="cm-variable">fileInputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">FileInputStream</span>(<span class="cm-string">"D:\\zhongfucheng\\web\\WEB-INF\\classes\\zhongfucheng\\web\\1.png"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">fileInputStream</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>å†å»è¯»å–æ—¶ï¼Œå°±å‘ç°å¯ä»¥è·å–åˆ°æ–‡ä»¶äº†ã€‚ä½†æ˜¯ç°åœ¨é—®é¢˜åˆæ¥äº†ï¼Œ</span><strong><span>æˆ‘è¯»å–æ–‡ä»¶çš„æ—¶å€™éƒ½è¦å†™ä¸Šç»å¯¹è·¯å¾„ï¼Œè¿™æ ·å¤ªä¸çµæ´»äº†</span></strong><span>ã€‚è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘å°†è¯¥</span><strong><span>è¯»å–æ–‡ä»¶çš„æ¨¡å—ç§»åˆ°å…¶ä»–çš„webç«™ç‚¹ä¸Š</span></strong><span>ï¼Œ</span><strong><span>æˆ‘çš„ä»£ç å°±åˆè¦ä¿®æ”¹äº†ã€å› ä¸ºwebç«™ç‚¹çš„åå­—ä¸ä¸€æ ·ã€‘</span></strong><span>ã€‚</span></p><p><span>æˆ‘ä»¬é€šè¿‡</span><strong><span>ServletContextè¯»å–å°±å¯ä»¥é¿å…ä¿®æ”¹ä»£ç çš„æƒ…å†µ</span></strong><span>ï¼Œå› ä¸ºServletContextå¯¹è±¡æ˜¯æ ¹æ®å½“å‰webç«™ç‚¹è€Œç”Ÿæˆçš„</span></p><p><span>ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ServletContextå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletContext</span> <span class="cm-variable">servletContext</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è°ƒç”¨ServletContextæ–¹æ³•è·å–åˆ°è¯»å–æ–‡ä»¶çš„æµ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">InputStream</span> <span class="cm-variable">inputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">servletContext</span>.<span class="cm-variable">getResourceAsStream</span>(<span class="cm-string">"/WEB-INF/classes/zhongfucheng/web/1.png"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 154px;"></div><div class="CodeMirror-gutters" style="display: none; height: 154px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948955f6ede?w=1388&amp;h=245&amp;f=png&amp;s=21417" referrerpolicy="no-referrer"></p><h4><a name="è¯»å–èµ„æºç¬¬äºŒç§æ–¹å¼" class="md-header-anchor"></a><span>è¯»å–èµ„æºç¬¬äºŒç§æ–¹å¼ï¼š</span></h4><p><span>å¦‚æœæˆ‘çš„</span><strong><span>æ–‡ä»¶æ”¾åœ¨webç›®å½•ä¸‹</span></strong><span>ï¼Œé‚£ä¹ˆå°±ç®€å•å¾—å¤šäº†ï¼,</span><strong><span>ç›´æ¥é€šè¿‡æ–‡ä»¶åç§°å°±èƒ½è·å–</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948afdbc2d7?w=466&amp;h=559&amp;f=png&amp;s=6164" referrerpolicy="no-referrer"></p><p><span>ä»£ç å¦‚ä¸‹æ‰€ç¤º</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ServletContextå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletContext</span> <span class="cm-variable">servletContext</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è°ƒç”¨ServletContextæ–¹æ³•è·å–åˆ°è¯»å–æ–‡ä»¶çš„æµ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">InputStream</span> <span class="cm-variable">inputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">servletContext</span>.<span class="cm-variable">getResourceAsStream</span>(<span class="cm-string">"2.png"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948b8f1f013?w=901&amp;h=242&amp;f=png&amp;s=18040" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h4><a name="è¯»å–èµ„æºç¬¬ä¸‰ç§æ–¹å¼" class="md-header-anchor"></a><span>è¯»å–èµ„æºç¬¬ä¸‰ç§æ–¹å¼ï¼š</span></h4><p><span>é€šè¿‡</span><strong><span>ç±»è£…è½½å™¨è¯»å–èµ„æºæ–‡ä»¶</span></strong><span>ã€‚æˆ‘çš„æ–‡ä»¶æ”¾åœ¨äº†</span><strong><span>srcç›®å½•ä¸‹ã€ä¹Ÿå«åšç±»ç›®å½•ã€‘</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948c5141493?w=478&amp;h=303&amp;f=png&amp;s=6876" referrerpolicy="no-referrer"></p><p><span>ä»£ç å¦‚ä¸‹æ‰€ç¤º</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ç±»è£…è½½å™¨</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ClassLoader</span> <span class="cm-variable">classLoader</span> <span class="cm-operator">=</span> <span class="cm-variable">Servlet111</span>.<span class="cm-keyword">class</span>.<span class="cm-variable">getClassLoader</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡ç±»è£…è½½å™¨è·å–åˆ°è¯»å–æ–‡ä»¶æµ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">InputStream</span> <span class="cm-variable">inputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">classLoader</span>.<span class="cm-variable">getResourceAsStream</span>(<span class="cm-string">"3.png"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948cc81b841?w=911&amp;h=213&amp;f=png&amp;s=15779" referrerpolicy="no-referrer"></p><p><span>æˆ‘çš„æ–‡ä»¶æ”¾åœ¨äº†srcç›®å½•ä¸‹çš„åŒ…ä¸‹</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615e948d492459c?w=471&amp;h=244&amp;f=png&amp;s=5833" referrerpolicy="no-referrer"></p><p><span>ä»£ç å¦‚ä¸‹ï¼Œæ·»åŠ åŒ…åè·¯å¾„å³å¯ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ç±»è£…è½½å™¨</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ClassLoader</span> <span class="cm-variable">classLoader</span> <span class="cm-operator">=</span> <span class="cm-variable">Servlet111</span>.<span class="cm-keyword">class</span>.<span class="cm-variable">getClassLoader</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡ç±»è£…è½½å™¨è·å–åˆ°è¯»å–æ–‡ä»¶æµ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">InputStream</span> <span class="cm-variable">inputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">classLoader</span>.<span class="cm-variable">getResourceAsStream</span>(<span class="cm-string">"/zhongfucheng/web/1.png"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>åŸåˆ™ï¼š</span><strong><span>å¦‚æœæ–‡ä»¶å¤ªå¤§ï¼Œå°±ä¸èƒ½ç”¨ç±»è£…è½½å™¨çš„æ–¹å¼å»è¯»å–ï¼Œä¼šå¯¼è‡´å†…å­˜æº¢å‡º</span></strong></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyvh5p34j3073073t8q.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p>&nbsp;</p><h1><a name="responseå¯¹è±¡" class="md-header-anchor"></a><span>Responseå¯¹è±¡</span></h1><h2><a name="1-responserequestå¯¹è±¡" class="md-header-anchor"></a><span>1. responseã€requestå¯¹è±¡</span></h2><blockquote><p><span>Tomcatæ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œä¼šé’ˆå¯¹æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ª</span><strong><span>ä»£è¡¨è¯·æ±‚çš„requestå¯¹è±¡</span></strong><span>ã€å’Œ</span><strong><span>ä»£è¡¨å“åº”çš„responseå¯¹è±¡</span></strong></p></blockquote><p><span>æ—¢ç„¶requestå¯¹è±¡ä»£è¡¨httpè¯·æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬</span><strong><span>è·å–æµè§ˆå™¨æäº¤è¿‡æ¥çš„æ•°æ®ï¼Œæ‰¾requestå¯¹è±¡</span></strong><span>å³å¯ã€‚responseå¯¹è±¡ä»£è¡¨httpå“åº”ï¼Œé‚£ä¹ˆæˆ‘ä»¬</span><strong><span>å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®ï¼Œæ‰¾responseå¯¹è±¡</span></strong><span>å³å¯ã€‚</span></p><h2><a name="2-ä»€ä¹ˆæ˜¯httpservletresponseå¯¹è±¡" class="md-header-anchor"></a><span>2. ä»€ä¹ˆæ˜¯HttpServletResponseå¯¹è±¡ï¼Ÿ</span></h2><p><span>httpå“åº”ç”±çŠ¶æ€è¡Œã€å®ä½“å†…å®¹ã€æ¶ˆæ¯å¤´ã€ä¸€ä¸ªç©ºè¡Œç»„æˆã€‚</span><strong><span>HttpServletResponseå¯¹è±¡å°±å°è£…äº†httpå“åº”çš„ä¿¡æ¯ã€‚</span></strong></p><h2><a name="3-httpservletresponseçš„åº”ç”¨" class="md-header-anchor"></a><span>3. HttpServletResponseçš„åº”ç”¨</span></h2><h3><a name="31è°ƒç”¨getoutputstreamæ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®" class="md-header-anchor"></a><span>3.1è°ƒç”¨getOutputStream()æ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®</span></h3><p><span>è°ƒç”¨getOutputStream()æ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®,</span><strong><span>getOutputStream()æ–¹æ³•å¯ä»¥ä½¿ç”¨print()ä¹Ÿå¯ä»¥ä½¿ç”¨write()</span></strong><span>ï¼Œå®ƒä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿæˆ‘ä»¬è¯•éªŒä¸€ä¸‹ã€‚ä»£ç å¦‚ä¸‹</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°OutputStreamæµ</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletOutputStream</span> <span class="cm-variable">servletOutputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">servletOutputStream</span>.<span class="cm-variable">print</span>(<span class="cm-string">"aaaa"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>æˆåŠŸè¾“å‡ºï¼Œå¥½åƒæ²¡ä»€ä¹ˆæ¯›ç—…ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2a5c51cf6?w=628&amp;h=167&amp;f=png&amp;s=10718" referrerpolicy="no-referrer"></p><p><span>æˆ‘ä»¬è¯•ç€è¾“å‡ºä¸­æ–‡è¯•è¯•</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//è·å–åˆ°OutputStreamæµ</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">ServletOutputStream</span> <span class="cm-variable">servletOutputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">servletOutputStream</span>.<span class="cm-variable">print</span>(<span class="cm-string">"ä¸­å›½ï¼"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>å‡ºå¼‚å¸¸äº†ï¼ï¼ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2a7ea0ae7?w=810&amp;h=535&amp;f=png&amp;s=29773" referrerpolicy="no-referrer"></p><p><span>ä¸ºä»€ä¹ˆä¼šå‡ºç°å¼‚å¸¸å‘¢ï¼Ÿåœ¨ioä¸­æˆ‘ä»¬å­¦è¿‡ï¼Œ</span><strong><span>outputStreamæ˜¯è¾“å‡ºäºŒè¿›åˆ¶æ•°æ®çš„</span></strong><span>ï¼Œ</span><strong><span>print()æ–¹æ³•æ¥æ”¶äº†ä¸€ä¸ªå­—ç¬¦ä¸²</span></strong><span>ï¼Œ</span><strong><span>print()æ–¹æ³•è¦æŠŠâ€œä¸­å›½â€æ”¹æˆäºŒè¿›åˆ¶æ•°æ®ï¼ŒTomcatä½¿ç”¨IOS 8859-1ç¼–ç å¯¹å…¶è¿›è¡Œè½¬æ¢,â€œä¸­å›½â€æ ¹æœ¬å¯¹ISO 8859-1ç¼–ç ä¸æ”¯æŒ</span></strong><span>ã€‚æ‰€ä»¥å‡ºç°äº†å¼‚å¸¸</span></p><p><span>æˆ‘ä»¬å†çœ‹çœ‹write()æ–¹æ³•ï¼Œå…ˆå‘æµè§ˆå™¨è¾“å‡ºè‹±æ–‡æ•°æ®</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>().<span class="cm-variable">write</span>(<span class="cm-string">"aaa"</span>.<span class="cm-variable">getBytes</span>());</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>æ²¡æœ‰é—®é¢˜</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2a6158015?w=1204&amp;h=233&amp;f=png&amp;s=21681" referrerpolicy="no-referrer"></p><p><span>å†è¯•è¯•è¾“å‡ºä¸­æ–‡æ•°æ®</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>().<span class="cm-variable">write</span>(<span class="cm-string">"ä½ å¥½å‘€æˆ‘æ˜¯ä¸­å›½"</span>.<span class="cm-variable">getBytes</span>());</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>è²Œä¼¼ä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2a6026e6a?w=632&amp;h=233&amp;f=png&amp;s=16560" referrerpolicy="no-referrer"></p><p><span>ä¸ºä»€ä¹ˆä½¿ç”¨write()æ–¹æ³•èƒ½å¤Ÿæ­£å¸¸å‘æµè§ˆå™¨è¾“å‡ºä¸­æ–‡å‘¢ï¼Ÿ</span><code>&quot;ä½ å¥½å‘€æˆ‘æ˜¯ä¸­å›½&quot;.getBytes()</code><span>è¿™å¥ä»£ç åœ¨</span><strong><span>è½¬æˆbyte[]æ•°ç»„çš„æ—¶å€™é»˜è®¤æŸ¥çš„æ˜¯gb2312ç¼–ç </span></strong><span>ï¼Œè€Œ</span><strong><span>&quot;ä½ å¥½å‘€æˆ‘æ˜¯ä¸­å›½&quot;æ”¯æŒgb2312ç¼–ç </span></strong><span>ï¼Œæ‰€ä»¥å¯ä»¥æ­£å¸¸æ˜¾ç¤ºå‡ºæ¥ã€‚</span></p><p><span>ä½†æ˜¯ï¼Œç¨‹åº</span><strong><span>è¦å®ç°é€šç”¨æ€§ï¼Œåº”è¯¥ä½¿ç”¨çš„æ˜¯UTF-8ç¼–ç </span></strong><span>ï¼Œæˆ‘ä»¬åœ¨</span><strong><span>å­—ç¬¦ä¸²è½¬æ¢æˆå­—èŠ‚æ•°ç»„æ—¶æŒ‡å®šUTF-8ç¼–ç </span></strong><span>ï¼Œçœ‹çœ‹ä¼šæ€ä¹ˆæ ·ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-tab" role="presentation" cm-text="	"> </span><span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>().<span class="cm-variable">write</span>(<span class="cm-string">"ä½ å¥½å‘€æˆ‘æ˜¯ä¸­å›½"</span>.<span class="cm-variable">getBytes</span>(<span class="cm-string">"UTF-8"</span>));</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å¥½çš„ï¼ŒæˆåŠŸæŠŠå®ƒææˆä¹±ç äº†ï¼ï¼ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2a86f2c5e?w=632&amp;h=233&amp;f=png&amp;s=16854" referrerpolicy="no-referrer"></p><p><span>ä¸ºä»€ä¹ˆå®ƒå˜æˆäº†ä¹±ç å‘¢ï¼ŸåŸå› æ˜¯è¿™æ ·çš„ï¼šæˆ‘åœ¨å‘æœåŠ¡å™¨è¾“å‡ºçš„</span><strong><span>ä¸­æ–‡æ˜¯UTF-8ç¼–ç çš„ï¼Œè€Œæµè§ˆå™¨é‡‡ç”¨çš„æ˜¯GBKï¼ŒGBKæƒ³æ˜¾ç¤ºUTF-8çš„ä¸­æ–‡æ•°æ®ï¼Œä¸ä¹±ç æ‰æ€ªå‘¢</span></strong><span>ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2a811122a?w=1513&amp;h=848&amp;f=png&amp;s=21056" referrerpolicy="no-referrer"></p><p><span>æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘å°†æµè§ˆå™¨çš„ç¼–ç æ”¹æˆUTF-8è¯•è¯•ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2ec219f09?w=1477&amp;h=848&amp;f=png&amp;s=20748" referrerpolicy="no-referrer"></p><p><span>ä¹±ç é—®é¢˜åˆè§£å†³äº†ã€‚å¯æ˜¯ï¼Œæ¯æ¬¡</span><strong><span>ç¼–å†™UTF-8ç¨‹åºæ—¶éƒ½è¦å»ç½‘é¡µä¸Šæ”¹ç¼–ç æ ¼å¼å—ï¼Ÿè¿™æ ·æ˜æ˜¾ä¸å¯èƒ½çš„</span></strong><span>ã€‚</span></p><p><span>æ—¢ç„¶HTTPå“åº”æœ‰å¯¹æµè§ˆå™¨è¯´æ˜å›é€æ•°æ®æ˜¯ä»€ä¹ˆç±»å‹çš„æ¶ˆæ¯å¤´ï¼Œé‚£ä¹ˆHttpServletResponseå¯¹è±¡å°±åº”è¯¥æœ‰ç›¸å¯¹åº”çš„æ–¹æ³•å‘Šè¯‰æµè§ˆå™¨å›é€çš„æ•°æ®ç¼–ç æ ¼å¼æ˜¯ä»€ä¹ˆ</span></p><p><span>äºæ˜¯ä¹å°±å»æŸ¥æ‰¾Servlet APIï¼Œæ‰¾åˆ°äº†</span><strong><span>è®¾ç½®æ¶ˆæ¯å¤´çš„æ–¹æ³•</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®å¤´ä¿¡æ¯ï¼Œå‘Šè¯‰æµè§ˆå™¨æˆ‘å›é€çš„æ•°æ®ç¼–ç æ˜¯utf-8çš„</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Content-Type"</span>, <span class="cm-string">"text/html;charset=UTF-8"</span>); &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>().<span class="cm-variable">write</span>(<span class="cm-string">"ä½ å¥½å‘€æˆ‘æ˜¯ä¸­å›½"</span>.<span class="cm-variable">getBytes</span>(<span class="cm-string">"UTF-8"</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><strong><span>æµè§ˆå™¨åœ¨æ˜¾ç¤ºæ•°æ®æ—¶ï¼Œè‡ªåŠ¨æŠŠé¡µé¢çš„ç¼–ç æ ¼å¼ç½®æ¢æˆUTF-8</span></strong><span>ï¼Œä¹±ç é—®é¢˜ä¹Ÿè§£å†³äº†</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2ef8ba781?w=1579&amp;h=723&amp;f=png&amp;s=20049" referrerpolicy="no-referrer"></p><p><span>å¦å¤–ï¼Œé™¤äº†ä½¿ç”¨HttpServletResponseå¯¹è±¡è®¾ç½®æ¶ˆæ¯å¤´çš„æ–¹æ³•ï¼Œæˆ‘å¯ä»¥</span><strong><span>ä½¿ç”¨htmlçš„</span><meta><span>æ ‡ç­¾æ¨¡æ‹Ÿä¸€ä¸ªhttpæ¶ˆæ¯å¤´</span></strong><span>ï¼Œä¸‹é¢æ˜¯ä»£ç ï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°servletOutputStreamå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletOutputStream</span> <span class="cm-variable">servletOutputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä½¿ç”¨metaæ ‡ç­¾æ¨¡æ‹Ÿhttpæ¶ˆæ¯å¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨å›é€æ•°æ®çš„ç¼–ç å’Œæ ¼å¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">servletOutputStream</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;meta http-equiv='content-type' content='text/html;charset=UTF-8'&gt;"</span>.<span class="cm-variable">getBytes</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">servletOutputStream</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æˆ‘æ˜¯ä¸­å›½"</span>.<span class="cm-variable">getBytes</span>(<span class="cm-string">"UTF-8"</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><span>ä¹±ç é—®é¢˜ä¹Ÿå¯ä»¥è§£å†³</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2f385418f?w=1535&amp;h=653&amp;f=png&amp;s=19423" referrerpolicy="no-referrer"></p><h3><a name="32è°ƒç”¨getwriteræ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®" class="md-header-anchor"></a><span>3.2è°ƒç”¨getWriter()æ–¹æ³•å‘æµè§ˆå™¨è¾“å‡ºæ•°æ®</span></h3><p><span>å¯¹äºgetWriter()æ–¹æ³•è€Œè¨€ï¼Œæ˜¯Writerçš„å­ç±»ï¼Œé‚£ä¹ˆ</span><strong><span>åªèƒ½å‘æµè§ˆå™¨è¾“å‡ºå­—ç¬¦æ•°æ®ï¼Œä¸èƒ½è¾“å‡ºäºŒè¿›åˆ¶æ•°æ®</span></strong><span>ï¼Œä½¿ç”¨getWriter()æ–¹æ³•è¾“å‡ºä¸­æ–‡æ•°æ®,ä»£ç å¦‚ä¸‹ï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°printWriterå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"çœ‹å®Œåšå®¢ç‚¹èµï¼"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>å–œé—»å¯è§çš„äº‹åˆå‡ºç°äº†ï¼Œæˆ‘åˆå‡ºç°ä¹±ç äº†ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2f3a89e44?w=788&amp;h=153&amp;f=png&amp;s=6259" referrerpolicy="no-referrer"></p><p><span>ä¸ºä»€ä¹ˆå‡ºç°ä¹±ç äº†å‘¢ï¼Ÿç”±äºTomcatæ˜¯å¤–å›½äººçš„å†™ï¼Œ</span><strong><span>Tomcaté»˜è®¤çš„ç¼–ç æ˜¯ISO 8859-1</span></strong><span>ï¼Œå½“æˆ‘ä»¬è¾“å‡ºä¸­æ–‡æ•°æ®çš„æ—¶å€™ï¼Œ</span><strong><span>Tomcatä¼šä¾æ®ISO 8859-1ç è¡¨ç»™æˆ‘ä»¬çš„æ•°æ®ç¼–ç ï¼Œä¸­æ–‡ä¸æ”¯æŒè¿™ä¸ªç è¡¨å‘€</span></strong><span>ï¼Œæ‰€ä»¥å‡ºç°äº†ä¹±ç </span></p><p><span>æ—¢ç„¶å¦‚æ­¤ï¼Œæˆ‘è®¾ç½®ä¸€ä¸‹ç¼–ç ä¸å°±å¥½äº†å—ï¼Œä»£ç å¦‚ä¸‹ï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åŸæœ¬æ˜¯ISO 8859-1çš„ç¼–ç ï¼Œæˆ‘è®¾ç½®æˆUTF-8</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setCharacterEncoding</span>(<span class="cm-string">"UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°printWriterå¯¹è±¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"çœ‹å®Œåšå®¢ç‚¹èµï¼"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>æˆ‘å†è®¿é—®äº†ä¸€ä¸‹ï¼Œæˆ‘çš„å¤©ï¼çœ‹èµ·æ¥æ›´ä¹±äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd30b9019fa?w=788&amp;h=153&amp;f=png&amp;s=6757" referrerpolicy="no-referrer"></p><p><span>ä¸ºä»€ä¹ˆä¹±ç é—®é¢˜è¿˜æ²¡æœ‰è§£å†³ï¼Ÿç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ï¼Œæˆ‘åªæ˜¯åœ¨</span><strong><span>ä¸­æ–‡è½¬æ¢çš„æ—¶å€™æŠŠç è¡¨è®¾ç½®æˆUTF-8</span></strong><span>ï¼Œä½†æ˜¯</span><strong><span>æµè§ˆå™¨æœªå¿…æ˜¯ä½¿ç”¨UTF-8ç è¡¨æ¥æ˜¾ç¤ºæ•°æ®çš„å‘€</span></strong></p><p><span>å¥½çš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æµè§ˆå™¨çš„ç¼–ç æ ¼å¼ï¼Œæœç„¶ï¼Œæµè§ˆå™¨ä½¿ç”¨GB2312æ˜¾ç¤ºUTF-8çš„æ•°æ®ï¼Œä¸ä¹±ç æ‰æ€ªå‘¢</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd2faaf327b?w=1156&amp;h=654&amp;f=png&amp;s=25014" referrerpolicy="no-referrer"></p><p><span>è¿™ä¸ªé—®é¢˜æˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»æ˜¯æœ‰ä¸¤ç§æ–¹æ³•è§£å†³äº†ã€ä½¿ç”¨</span><code>&lt;meta&gt;</code><span>æ ‡ç­¾æ¨¡æ‹Ÿæ¶ˆæ¯å¤´ã€è®¾ç½®æ¶ˆæ¯å¤´ã€‘,Servletè¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³•ç»™æˆ‘ä»¬</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®æµè§ˆå™¨ç”¨UTF-8ç¼–ç æ˜¾ç¤ºæ•°æ®</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å¥½çš„ï¼Œæˆ‘ä»¬å†æ¥è®¿é—®ä¸€ä¸‹</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd332cacded?w=1156&amp;h=654&amp;f=png&amp;s=24622" referrerpolicy="no-referrer"></p><p><span>æ—¢ç„¶Servletæœ‰é‚£ä¹ˆå¤šæ–¹æ³•è§£å†³ä¹±ç é—®é¢˜ï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€ç§æ˜¯æœ€ç®€ä¾¿çš„å‘¢ï¼Ÿæ²¡é”™ï¼ä¸‹é¢è¿™ä¸ªæ–¹æ³•æ˜¯æœ€ç®€ä¾¿çš„ï¼Œå®ƒ</span><strong><span>ä¸ä»…è®¾ç½®æµè§ˆå™¨ç”¨UTF-8æ˜¾ç¤ºæ•°æ®ï¼Œå†…éƒ¨è¿˜æŠŠä¸­æ–‡è½¬ç çš„ç è¡¨è®¾ç½®æˆUTF-8äº†</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ</span><code>response.setContentType(&quot;text/html;charset=UTF-8&quot;);</code><span>æŠŠ</span><code>response.setCharacterEncoding(&quot;UTF-8&quot;)</code><span>çš„äº‹æƒ…ä¹Ÿå¹²äº†ï¼</span></p><p><span>ä½¿ç”¨getWriter()æ˜¾ç¤ºä¸­æ–‡æ•°æ®ï¼Œåªéœ€è¦ä¸€ä¸ªæ–¹æ³•å°±ææ‚äº†ï¼</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®æµè§ˆå™¨ç”¨UTF-8ç¼–ç æ˜¾ç¤ºæ•°æ®ï¼Œ</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°printWriterå¯¹è±¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"çœ‹å®Œåšå®¢ç‚¹èµï¼"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd33cc8c71e?w=1090&amp;h=223&amp;f=png&amp;s=7521" referrerpolicy="no-referrer"></p><h3><a name="33å®ç°æ–‡ä»¶ä¸‹è½½" class="md-header-anchor"></a><span>3.3å®ç°æ–‡ä»¶ä¸‹è½½</span></h3><p><span>ä¸‹è½½èµ„æºæˆ‘ä»¬åœ¨æ—¥å¸¸ä¸­ä¹Ÿå¾ˆå¸¸ç”¨ï¼Œå®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„å‘¢ï¼Ÿ</span><strong><span>è¦èƒ½å¤Ÿç»™åˆ«äººä¸‹è½½ï¼ŒæœåŠ¡å™¨å°±åº”è¯¥æœ‰è¿™ä¸ªèµ„æº</span></strong></p><p><span>ç°åœ¨æˆ‘webç«™ç‚¹ä¸‹æœ‰ä¸€ä¸ªå›¾ç‰‡äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd33e745a54?w=364&amp;h=328&amp;f=png&amp;s=7267" referrerpolicy="no-referrer"></p><p><span>æ—¢ç„¶æµè§ˆå™¨å‘é€æ‰€æœ‰çš„è¯·æ±‚éƒ½æ˜¯å»æ‰¾Servletçš„è¯ï¼Œé‚£ä¹ˆæˆ‘å°±å†™ä¸€ä¸ªServletï¼Œ</span><strong><span>å½“åˆ«äººè®¿é—®æˆ‘è¿™ä¸ªServletçš„æ—¶å€™ï¼Œå®ƒä»¬å°±å¯ä»¥ä¸‹è½½æˆ‘è¿™ä¸ªå›¾ç‰‡äº†</span></strong><span>ï¼</span></p><p><span>javaçš„æ–‡ä»¶ä¸Šä¼ ä¸‹è½½éƒ½æ˜¯é€šè¿‡ioæµæ¥å®Œæˆçš„ï¼Œæ—¢ç„¶è¦ä¸‹è½½å›¾ç‰‡ï¼Œé¦–å…ˆè¦èƒ½å¤Ÿè¯»å–åˆ°å®ƒ</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°èµ„æºçš„è·¯å¾„</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">path</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-variable">getServletContext</span>().<span class="cm-variable">getRealPath</span>(<span class="cm-string">"/download/1.png"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è¯»å–èµ„æº</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">FileInputStream</span> <span class="cm-variable">fileInputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">FileInputStream</span>(<span class="cm-variable">path</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°æ–‡ä»¶å,è·¯å¾„åœ¨ç”µè„‘ä¸Šä¿å­˜æ˜¯\\å½¢å¼çš„ã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">fileName</span> <span class="cm-operator">=</span> <span class="cm-variable">path</span>.<span class="cm-variable">substring</span>(<span class="cm-variable">path</span>.<span class="cm-variable">lastIndexOf</span>(<span class="cm-string">"\\"</span>) <span class="cm-operator">+</span> <span class="cm-number">1</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><strong><span>å‘Šè¯‰æµè§ˆå™¨ï¼Œæˆ‘è¦ä¸‹è½½è¿™ä¸ªæ–‡ä»¶</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®æ¶ˆæ¯å¤´ï¼Œå‘Šè¯‰æµè§ˆå™¨ï¼Œæˆ‘è¦ä¸‹è½½1.pngè¿™ä¸ªå›¾ç‰‡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Content-Disposition"</span>, <span class="cm-string">"attachment; filename="</span><span class="cm-operator">+</span><span class="cm-variable">fileName</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å°†è¯»å–åˆ°çš„å†…å®¹å›é€ç»™æµè§ˆå™¨</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŠŠè¯»å–åˆ°çš„èµ„æºå†™ç»™æµè§ˆå™¨</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">len</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">byte</span>[] <span class="cm-variable">bytes</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable-3">byte</span>[<span class="cm-number">1024</span>];</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ServletOutputStream</span> <span class="cm-variable">servletOutputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">while</span> ((<span class="cm-variable">len</span> <span class="cm-operator">=</span> <span class="cm-variable">fileInputStream</span>.<span class="cm-variable">read</span>(<span class="cm-variable">bytes</span>)) <span class="cm-operator">&gt;</span> <span class="cm-number">0</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">servletOutputStream</span>.<span class="cm-variable">write</span>(<span class="cm-variable">bytes</span>, <span class="cm-number">0</span>, <span class="cm-variable">len</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å…³é—­èµ„æº</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">servletOutputStream</span>.<span class="cm-variable">close</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fileInputStream</span>.<span class="cm-variable">close</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 264px;"></div><div class="CodeMirror-gutters" style="display: none; height: 264px;"></div></div></div></pre><p><span>å½“æˆ‘è®¿é—®æ—¶ï¼Œæµè§ˆå™¨å°±æç¤ºä¸‹è½½äº†ã€‚</span>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd33f0db714?w=1090&amp;h=223&amp;f=png&amp;s=9346" referrerpolicy="no-referrer"></p><p><span>ä¹Ÿå¯ä»¥æˆåŠŸæ‰“å¼€ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3438e4adf?w=1234&amp;h=885&amp;f=jpeg&amp;s=176770" referrerpolicy="no-referrer"></p><p><span>ç°åœ¨é—®é¢˜åˆæœ‰äº†ï¼Œå¦‚æœæˆ‘æ–‡ä»¶çš„åå­—æ˜¯ä¸­æ–‡å‘¢ï¼Ÿ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3439c4dd8?w=362&amp;h=264&amp;f=png&amp;s=6106" referrerpolicy="no-referrer"></p><p><span>æˆ‘ä»¬å†è®¿é—®ä¸€ä¸‹ï¼Œå‘ç°åå­—ä¹±ç äº†ï¼ˆæ€ä¹ˆéƒ½æ˜¯ä¹±ç ï¼‰</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3693b8376?w=960&amp;h=540&amp;f=png&amp;s=57778" referrerpolicy="no-referrer"></p><p><strong><span>ä¸ºäº†è§£å†³æ–‡ä»¶åä¹±ç ï¼Œæˆ‘ä»¬è¦è¿›è¡ŒURLç¼–ç </span></strong><span>ï¼Œä»£ç å¦‚ä¸‹ï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Content-Disposition"</span>, <span class="cm-string">"attachment; filename="</span> <span class="cm-operator">+</span> <span class="cm-variable">URLEncoder</span>.<span class="cm-variable">encode</span>(<span class="cm-variable">fileName</span>, <span class="cm-string">"UTF-8"</span>));</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å†æ¬¡è®¿é—®æ—¶ï¼Œæ–‡ä»¶åä¹±ç é—®é¢˜å°±è§£å†³äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd36c907d5d?w=960&amp;h=540&amp;f=png&amp;s=58067" referrerpolicy="no-referrer"></p><h3><a name="34å®ç°è‡ªåŠ¨åˆ·æ–°" class="md-header-anchor"></a><span>3.4å®ç°è‡ªåŠ¨åˆ·æ–°</span></h3><p><strong><span>ä»¥è§„å®šçš„æ—¶é—´è®©é¡µé¢åˆ·æ–°ï¼Œæ›´æ–°èµ„æº</span></strong><span>ï¼Œè®©æµè§ˆå™¨å®ç°è‡ªåŠ¨åˆ·æ–°ï¼Œé‚£è‚¯å®šåˆæ˜¯ä¿®æ”¹æ¶ˆæ¯å¤´äº†ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ¯3ç§’è‡ªåŠ¨åˆ·æ–°ç½‘é¡µä¸€æ¬¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Refresh"</span>, <span class="cm-string">"3"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>ä¸ºäº†æ›´å¥½çš„çœ‹æ•ˆæœï¼Œæˆ‘ä»¬åŠ å…¥æ—¶é—´å€¼è¿›å»</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"time is :"</span> <span class="cm-operator">+</span> <span class="cm-variable">System</span>.<span class="cm-variable">currentTimeMillis</span>());</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>æ¯ä¸‰ç§’æ—¶é—´å€¼å°±ä¼šå‘ç”Ÿå˜åŒ–</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd374eb4174?w=864&amp;h=364&amp;f=png&amp;s=14816" referrerpolicy="no-referrer"></p><p><span>å­¦å®Œä¸Šé¢çš„ï¼Œå¥½åƒæ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œè‡ªå·±ä¸Šç½‘çš„æ—¶å€™è°çœ‹å¾—è§è¿™æ ·çš„ä¸œè¥¿ã€‚</span><strong><span>è‡ªåŠ¨åˆ·æ–°ï¼Œèƒ½å¤Ÿå®ç°é¡µé¢çš„è·³è½¬</span></strong><span>ã€‘</span></p><p><span>æˆ‘ä»¬ç™»é™†å®Œç½‘ç«™ï¼Œå¾ˆå¤šæ—¶å€™éƒ½ä¼šçœ‹è§ã€ç™»é™†æˆåŠŸï¼Œ3ç§’åè‡ªåŠ¨è·³è½¬....ã€‘ï¼Œå…¶å®è¿™ä¸ªå°±æ˜¯ç”¨Refreshæ¥å®Œæˆçš„ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"3ç§’åè·³è½¬é¡µé¢....."</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¸‰ç§’åè·³è½¬åˆ°index.jspé¡µé¢å»ï¼Œwebåº”ç”¨çš„æ˜ å°„è·¯å¾„æˆ‘è®¾ç½®æˆ/ï¼Œurlæ²¡æœ‰å†™ä¸Šåº”ç”¨å</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Refresh"</span>, <span class="cm-string">"3;url='/index.jsp'"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>çœ‹ä¸‹æ•ˆæœ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd37767a0eb?w=864&amp;h=364&amp;f=png&amp;s=16358" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3a71d8a1c?w=864&amp;h=364&amp;f=png&amp;s=19237" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyv09urzj30730733ye.jpg" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœâ½‚æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„è”ç³»â½…å¼ã€‚æ›´å¤š</span><strong><span>åŸåˆ›</span></strong><span>æŠ€æœ¯â½‚ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p>&nbsp;</p><h3><a name="35è®¾ç½®ç¼“å­˜" class="md-header-anchor"></a><span>3.5è®¾ç½®ç¼“å­˜</span></h3><p><strong><span>æµè§ˆå™¨æœ¬èº«å°±å­˜åœ¨ç€ç¼“å­˜æœºåˆ¶</span></strong><span>ï¼Œå½“æˆ‘ç¬¬ä¸€æ¬¡è®¿é—®index.jspæ—¶ï¼Œæµè§ˆå™¨å‘æœåŠ¡å™¨å‘äº†ä¸¤æ¬¡è¯·æ±‚ã€ä¸€ä¸ªæ˜¯ç½‘é¡µçš„ï¼Œä¸€ä¸ªæ˜¯å›¾ç‰‡çš„ã€‘</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3a9b04387?w=1624&amp;h=560&amp;f=png&amp;s=910661" referrerpolicy="no-referrer"></p><p><span>å½“æˆ‘ç¬¬äºŒæ¬¡è®¿é—®index.jspçš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨å°†å›¾ç‰‡ç¼“å­˜èµ·æ¥äº†ï¼å›¾ç‰‡ä¸æ˜¯é‡æ–°åŠ è½½çš„ï¼Œæ˜¯ä»ç¼“å­˜é‡Œé¢å–å‡ºæ¥çš„</span></strong><span>ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3ac4aca3d?w=1701&amp;h=394&amp;f=png&amp;s=430157" referrerpolicy="no-referrer"></p><p><span>åƒè‚¡ç¥¨ç±»å‹çš„ç½‘é¡µæ˜¯ä¸èƒ½å–ç¼“å­˜çš„æ•°æ®çš„ï¼Œæ•°æ®éƒ½æ˜¯è¦ä¸æ–­æ›´æ–°çš„ã€‚ä¸‹é¢æˆ‘å°±ç¦æ­¢ç¼“å­˜çš„åŠŸèƒ½</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æµè§ˆå™¨æœ‰ä¸‰æ¶ˆæ¯å¤´è®¾ç½®ç¼“å­˜ï¼Œä¸ºäº†å…¼å®¹æ€§ï¼å°†ä¸‰ä¸ªæ¶ˆæ¯å¤´éƒ½è®¾ç½®äº†</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setDateHeader</span>(<span class="cm-string">"Expires"</span>, <span class="cm-operator">-</span><span class="cm-number">1</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Cache-Control"</span>,<span class="cm-string">"no-cache"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Pragma"</span>, <span class="cm-string">"no-cache"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è¿™é‡Œä¸ºäº†çœ‹æ•ˆæœ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">print</span>(<span class="cm-string">"ä½ å¥½å•Š"</span> <span class="cm-operator">+</span> <span class="cm-keyword">new</span> <span class="cm-variable">Date</span>().<span class="cm-variable">toString</span>());</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 198px;"></div><div class="CodeMirror-gutters" style="display: none; height: 198px;"></div></div></div></pre><p><span>å½“ç„¶äº†ï¼Œ</span><strong><span>å¦‚æœé¡µé¢æœ‰äº›æ•°æ®ä¸é•¿æœŸæ›´æ–°ï¼Œä½ å°±å°†å®ƒè®¾ç½®æˆç¼“å­˜ï¼Œè¿™æ ·å¯ä»¥æé«˜æœåŠ¡å™¨çš„æ€§èƒ½</span></strong></p><h3><a name="36å®ç°æ•°æ®å‹ç¼©" class="md-header-anchor"></a><span>3.6å®ç°æ•°æ®å‹ç¼©</span></h3><p><span>ç½‘é¡µä¸Šçš„ä¿¡æ¯é‡æ˜¯å¾ˆå¤§çš„ï¼Œå¦‚æœ</span><strong><span>ä¸å°†æ•°æ®å‹ç¼©å†å›é€ç»™æµè§ˆå™¨ï¼Œè¿™æ ·å°±ååˆ†è€—è´¹æµé‡</span></strong><span>ï¼Œç°åœ¨æˆ‘æœ‰ä¸€ç¯‡æ–‡ç« è¦è¾“å‡ºç»™æµè§ˆå™¨</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">ss</span> <span class="cm-operator">=</span> <span class="cm-string">"fsdfhsdfhuisdhfusdhfuids"</span> <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-string">"fsdfdsfsdfsdfdsfdafdsfhsdjfhsdjkfhkjds"</span> <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-string">"fdsfjdslkfjsldkfjsdlkfjsdkfsdjkff"</span> <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-string">"fsjdfjdsklfjdsklfjkldsfjlksdjflksdjflkds"</span> <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-string">"dsjfklsdjflsdjfkldsfkjsdkfjsldkfjsdlfk"</span> <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-string">"fdsjlkfjdslkfjsdlkfjlkasjflk"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"åŸæ¥çš„é•¿åº¦æ˜¯ï¼š"</span><span class="cm-operator">+</span><span class="cm-variable">ss</span>.<span class="cm-variable">getBytes</span>().<span class="cm-variable">length</span><span class="cm-operator">+</span><span class="cm-string">"&lt;/br&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è¾“å‡ºç»™æµè§ˆå™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-variable">ss</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 264px;"></div><div class="CodeMirror-gutters" style="display: none; height: 264px;"></div></div></div></pre><p><span>è®¿é—®ä¸€ä¸‹å¯ä»¥çœ‹åˆ°ï¼Œ</span><strong><span>åŸæ¥çš„é•¿åº¦æ˜¯201</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3bbe655a4?w=948&amp;h=259&amp;f=png&amp;s=18371" referrerpolicy="no-referrer"></p><p><span>å‹ç¼©çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä»¬çŸ¥é“</span><strong><span>getOutputStream()å’ŒgetWriter()éƒ½æ˜¯ç›´æ¥æŠŠæ•°æ®è¾“å‡ºç»™æµè§ˆå™¨çš„</span></strong><span>ã€‚ç°åœ¨æˆ‘è¦åšçš„å°±æ˜¯</span><strong><span>è®©æ•°æ®ä¸ç›´æ¥è¾“å‡ºç»™æµè§ˆå™¨ï¼Œå…ˆè®©æˆ‘å‹ç¼©äº†ï¼Œå†è¾“å‡ºç»™æµè§ˆå™¨</span></strong><span>ã€‚</span><strong><span>javaæä¾›äº†GZIPå‹ç¼©ç±»ç»™æˆ‘ä»¬</span></strong></p><p><span>å°±è®©æˆ‘ä»¬ä½¿ç”¨GZIPç±»æ¥å¯¹æ•°æ®å‹ç¼©å§</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//GZIPçš„æ„é€ æ–¹æ³•éœ€è¦ä¸€ä¸ªOutputStreamå­ç±»å¯¹è±¡ï¼Œç©¶ç«Ÿå“ªä¸ªå¯¹è±¡é€‚åˆï¼Œæˆ‘ä»¬çœ‹ä¸‹write()æ–¹æ³•</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GZIPOutputStream</span> <span class="cm-variable">gzipOutputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">GZIPOutputStream</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŸ¥çœ‹äº†ä¸‹APIï¼Œwrite()æ¥æ”¶çš„æ˜¯byte[]ç±»å‹çš„ã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gzipOutputStream</span>.<span class="cm-variable">write</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>äºæ˜¯æˆ‘å°±åœ¨</span><strong><span>æ„é€ å‡½æ•°ä¸Šä¼ é€’ä¸ªByteArrayOutputStreamç»™å®ƒ</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ—¢ç„¶æ˜¯byte[]ç±»å‹ï¼Œé‚£ä¹ˆæˆ‘å°±ç»™ä»–ä¸€ä¸ªByteArrayOutputStream</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GZIPOutputStream</span> <span class="cm-variable">gzipOutputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">GZIPOutputStream</span>(<span class="cm-keyword">new</span> <span class="cm-variable">ByteArrayOutputStream</span>());</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>è€Œç”¨</span><strong><span>GZIPOutputStreamå†™æ•°æ®çš„æ—¶å€™ï¼Œæ˜¯æŠŠæ•°æ®å†™åˆ°ByteArrayOutputStreamä¸Šçš„ï¼Œç­‰ä¼šè¿˜è¦æŠŠæ•°æ®å–å‡ºæ¥ï¼Œå†å†™ç»™æµè§ˆå™¨</span></strong><span>ï¼Œäºæ˜¯å°±</span><strong><span>ä¸èƒ½ä»¥åŒ¿åå†…éƒ¨ç±»çš„æ–¹å¼ç»™GZIPOutputStreamï¼Œå¿…é¡»æŠŠByteArrayOutputStreamå®šä¹‰å‡ºæ¥</span></strong><span>ï¼Œ</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åˆ›å»ºGZIPOutputStreamå¯¹è±¡ï¼Œç»™äºˆå®ƒByteArrayOutputStream</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ByteArrayOutputStream</span> <span class="cm-variable">byteArrayOutputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ByteArrayOutputStream</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">GZIPOutputStream</span> <span class="cm-variable">gzipOutputStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">GZIPOutputStream</span>(<span class="cm-variable">byteArrayOutputStream</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//GZIPå¯¹æ•°æ®å‹ç¼©ï¼ŒGZIPå†™å…¥çš„æ•°æ®æ˜¯ä¿å­˜åœ¨byteArrayOutputStreamä¸Šçš„</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gzipOutputStream</span>.<span class="cm-variable">write</span>(<span class="cm-variable">ss</span>.<span class="cm-variable">getBytes</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//gzipOutputStreamæœ‰ç¼“å†²ï¼ŒæŠŠç¼“å†²æ¸…äº†ï¼Œå¹¶é¡ºä¾¿å…³é—­æµ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">gzipOutputStream</span>.<span class="cm-variable">close</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 198px;"></div><div class="CodeMirror-gutters" style="display: none; height: 198px;"></div></div></div></pre><p><span>æŠŠ</span><strong><span>å‹ç¼©åçš„æ•°æ®å–å‡ºæ¥ï¼Œå†™ç»™æµè§ˆå™¨</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å°†å‹ç¼©çš„æ•°æ®å–å‡ºæ¥</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">byte</span>[] <span class="cm-variable">bytes</span> <span class="cm-operator">=</span> <span class="cm-variable">byteArrayOutputStream</span>.<span class="cm-variable">toByteArray</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å°†å‹ç¼©çš„æ•°æ®å†™ç»™æµè§ˆå™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>().<span class="cm-variable">write</span>(<span class="cm-variable">bytes</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>æˆ‘ä»¬æ¥å¯¹æ¯”ä¸€ä¸‹å‹ç¼©å‰çš„å¤§å°å’Œå‹ç¼©åçš„å¤§å°</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3cea6f1a6?w=1391&amp;h=174&amp;f=png&amp;s=21906" referrerpolicy="no-referrer"></p><p><span>æ•°æ®çš„ç¡®æ˜¯å‹ç¼©äº†ï¼Œç„¶è€Œï¼Œä¸ºä»€ä¹ˆåˆä¹±ç äº†å•Šï¼Ÿå¾ˆç®€å•ï¼Œæ—¢ç„¶</span><strong><span>ä½ å‹ç¼©äº†æ•°æ®ï¼Œä½ å†™ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨æ˜¯ä¸çŸ¥é“ä½ è¿™æ˜¯å‹ç¼©åçš„æ•°æ®ï¼Œå®ƒæ˜¯ä»¥æ­£å¸¸çš„æ–¹å¼æ‰“å¼€æ•°æ®çš„</span></strong><span>ã€‚è¿™å½“ç„¶é€ æˆä¹±ç å•¦ï¼ï¼Œç°åœ¨æˆ‘è¦</span><strong><span>å‘Šè¯‰æµè§ˆå™¨æˆ‘è¿™æ˜¯å‹ç¼©æ•°æ®</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å‘Šè¯‰æµè§ˆå™¨è¿™æ˜¯gzipå‹ç¼©çš„æ•°æ®</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Content-Encoding"</span>,<span class="cm-string">"gzip"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å†å°†å‹ç¼©çš„æ•°æ®å†™ç»™æµè§ˆå™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>().<span class="cm-variable">write</span>(<span class="cm-variable">bytes</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>å†æ¬¡è®¿é—®ä¸€ä¸‹</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3d18969c5?w=1627&amp;h=160&amp;f=png&amp;s=19527" referrerpolicy="no-referrer"></p><h3><a name="37ç”Ÿå‡ºéšæœºå›¾ç‰‡" class="md-header-anchor"></a><span>3.7ç”Ÿå‡ºéšæœºå›¾ç‰‡</span></h3><p><span>ç”Ÿæˆéšæœºå›¾ç‰‡è¿™æ˜¯éå¸¸å¸¸è§çš„ã€‚</span><strong><span>åœ¨æˆ‘ä»¬ç™»é™†çš„æ—¶å€™ç»å¸¸è¦å†™éªŒè¯ç ï¼Œè€Œé‚£äº›éªŒè¯ç æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œå°±æ˜¯é€šè¿‡HttpServletResponseå†™ç»™æµè§ˆå™¨çš„ã€‚</span></strong></p><p><span>è¦ç”Ÿæˆä¸€å¼ å›¾ç‰‡ï¼Œ</span><strong><span>javaæä¾›äº†BufferedImageç±»ä¾›æˆ‘ä»¬ä½¿ç”¨</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€å¼ å›¾ç‰‡,å®½ä¸º80,é«˜ä¸º20ï¼Œç±»å‹æ˜¯RGB</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">BufferedImage</span> <span class="cm-variable">bufferedImage</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">BufferedImage</span>(<span class="cm-number">80</span>, <span class="cm-number">20</span>, <span class="cm-variable">BufferedImage</span>.<span class="cm-variable">TYPE_INT_RGB</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°è¿™å¼ å›¾ç‰‡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Graphics</span> <span class="cm-variable">graphics</span> <span class="cm-operator">=</span> <span class="cm-variable">bufferedImage</span>.<span class="cm-variable">getGraphics</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾€å›¾ç‰‡è®¾ç½®é¢œè‰²å’Œå­—ä½“</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">Color</span>.<span class="cm-variable">BLUE</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics</span>.<span class="cm-variable">setFont</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Font</span>(<span class="cm-atom">null</span>, <span class="cm-variable">Font</span>.<span class="cm-variable">BOLD</span>, <span class="cm-number">20</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾€å›¾ç‰‡ä¸Šå†™æ•°æ®ï¼Œå…ˆå†™ä¸ª12345ï¼Œæ¨ªåæ ‡æ˜¯0ï¼Œçºµåæ ‡æ˜¯20ã€é«˜åº¦ã€‘</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics</span>.<span class="cm-variable">drawString</span>(<span class="cm-string">"12345"</span>, <span class="cm-number">0</span>, <span class="cm-number">20</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 286px;"></div><div class="CodeMirror-gutters" style="display: none; height: 286px;"></div></div></div></pre><p><span>å¥½çš„ï¼Œç°åœ¨æˆ‘ä»¬åœ¨å†…å­˜ä¸­åˆ›å»ºäº†ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶å†™ä¸Šäº†12345ã€‚æ¥ç€ï¼Œæˆ‘ä»¬è¦</span><strong><span>æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨äº†</span></strong><span>ã€‚</span><strong><span>æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨ï¼Œjavaåˆæä¾›äº†å›¾ç‰‡æµã€ImageIOã€‘ç»™æˆ‘ä»¬ä½¿ç”¨</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è¦å¾€æµè§ˆå™¨å†™ä¸€å¼ å›¾ç‰‡ï¼Œé‚£è¦å‘Šè¯‰æµè§ˆå™¨å›é€çš„ç±»å‹æ˜¯ä¸€å¼ å›¾ç‰‡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"ContentType"</span>, <span class="cm-string">"jpeg"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//javaæä¾›äº†å›¾ç‰‡æµç»™æˆ‘ä»¬ä½¿ç”¨ï¼Œè¿™æ˜¯ä¸€ä¸ªå·¥å…·ç±»</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŠŠå›¾ç‰‡ä¼ è¿›å»ï¼Œç±»å‹æ˜¯jpgï¼Œå†™ç»™æµè§ˆå™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ImageIO</span>.<span class="cm-variable">write</span>(<span class="cm-variable">bufferedImage</span>, <span class="cm-string">"jpg"</span>, <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>());</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>æˆ‘ä»¬æ¥è®¿é—®ä¸€ä¸‹ï¼Œçœ‹ä¸‹å›¾ç‰‡é•¿ä»€ä¹ˆæ ·</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd3ea465135?w=1444&amp;h=166&amp;f=png&amp;s=20310" referrerpolicy="no-referrer"></p><p><span>è¿™æ ·å¤ªä¸‘äº†ï¼Œæˆ‘ä»¬æŠŠèƒŒæ™¯æ”¹æˆç™½è‰²çœ‹çœ‹</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŠŠç™½è‰²å¡«å……æ•´å¼ å›¾ç‰‡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">Color</span>.<span class="cm-variable">white</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics</span>.<span class="cm-variable">fillRect</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">80</span>, <span class="cm-number">20</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>å†çœ‹çœ‹æ•ˆæœï¼Œè¿™æ˜æ˜¾å¥½çœ‹å¤šäº†</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd4064d484e?w=1344&amp;h=166&amp;f=png&amp;s=20420" referrerpolicy="no-referrer"></p><p><span>å¥½çš„ï¼Œæˆ‘ä»¬çš„å›¾ç‰‡æ•°å­—ä¸</span><strong><span>å¯èƒ½æ˜¯äººå·¥å†™çš„ï¼Œæ•°å­—åº”è¯¥æ˜¯éšæœºäº§ç”Ÿçš„ï¼</span></strong><span>è¿™ä¸ªå°±ç®€å•äº†ã€‚ç°åœ¨æˆ‘è¦ç”Ÿæˆ7ä½çš„éšæœºæ•°ï¼Œç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•å¦‚ä¸‹</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-def">makeNum</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Random</span> <span class="cm-variable">random</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Random</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//è¿™æ ·å°±ä¼šç”Ÿæˆ0-7ä½çš„éšæœºæ•°ï¼Œç°åœ¨é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœéšæœºæ•°ä¸å¤Ÿ7ä½å‘¢ï¼Ÿå¦‚æœä¸å¤Ÿ7ä½ï¼Œæˆ‘ä»¬åŠ åˆ°7ä½å°±è¡Œäº†</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">anInt</span> <span class="cm-operator">=</span> <span class="cm-variable">random</span>.<span class="cm-variable">nextInt</span>(<span class="cm-number">9999999</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//å°†æ•°å­—è½¬æˆæ˜¯å­—ç¬¦ä¸²</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">num</span> <span class="cm-operator">=</span> <span class="cm-variable-3">String</span>.<span class="cm-variable">valueOf</span>(<span class="cm-variable">anInt</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//åˆ¤æ–­ä½æ•°æœ‰å¤šå°‘ä¸ªï¼Œä¸å¤Ÿå°±åŠ </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">StringBuffer</span> <span class="cm-variable">stringBuffer</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable-3">StringBuffer</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">7</span> <span class="cm-operator">-</span> <span class="cm-variable">num</span>.<span class="cm-variable">length</span>(); <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">stringBuffer</span>.<span class="cm-variable">append</span>(<span class="cm-string">"0"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">stringBuffer</span>.<span class="cm-variable">append</span>(<span class="cm-variable">num</span>).<span class="cm-variable">toString</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 440px;"></div><div class="CodeMirror-gutters" style="display: none; height: 440px;"></div></div></div></pre><p><span>å¦‚æœ</span><strong><span>è¦ç”Ÿæˆä¸­æ–‡ï¼Œå°±æ‰¾ä¸­æ–‡æ˜ å°„è¡¨å³å¯</span></strong><span>ã€‚</span></p><h3><a name="36é‡å®šå‘è·³è½¬" class="md-header-anchor"></a><span>3.6é‡å®šå‘è·³è½¬</span></h3><p><span>ä»€ä¹ˆæ˜¯é‡å®šå‘è·³è½¬å‘¢ï¼Ÿç‚¹å‡»ä¸€ä¸ªè¶…é“¾æ¥ï¼Œ</span><strong><span>é€šçŸ¥æµè§ˆå™¨è·³è½¬åˆ°å¦å¤–çš„ä¸€ä¸ªé¡µé¢</span></strong><span>å°±å«é‡å®šå‘è·³è½¬ã€‚</span><strong><span>æ˜¯é€šçŸ¥æµè§ˆå™¨å»è·³è½¬ï¼Œè¿™å¾ˆé‡è¦ã€‚</span></strong><span>é¡µé¢ä¹‹é—´çš„è·³è½¬æœ‰ä¸¤ç§æ–¹å¼ï¼š</span><strong><span>é‡å®šå‘å’Œè½¬å‘</span></strong><span>ï¼Œè‡³äºä»€ä¹ˆæ—¶å€™ç”¨é‡å®šå‘ï¼Œä»€ä¹ˆç”¨è½¬å‘ï¼Œæˆ‘åœ¨è®²å®ŒHttpServletRequestå¯¹è±¡çš„æ—¶å€™ä¼šè¯¦ç»†è¯´æ˜ã€‚</span></p><p><span>æˆ‘ä»¬æ¥ä½¿ç”¨ä»¥ä¸‹HttpServletResponseå¯¹è±¡çš„é‡å®šå‘</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é‡å®šå‘åˆ°index.jspé¡µé¢</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">sendRedirect</span>(<span class="cm-string">"/zhongfucheng/index.jsp"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>åœ¨</span><strong><span>æµè§ˆå™¨çš„åœ°å€æ è®¿é—®Servlet222</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd40766f4d7?w=886&amp;h=172&amp;f=png&amp;s=13564" referrerpolicy="no-referrer"></p><p><strong><span>è·³è½¬åˆ°index.jspé¡µé¢ï¼Œåœ°å€æ å‘ç”Ÿäº†å˜åŒ–</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd41460925a?w=1220&amp;h=197&amp;f=png&amp;s=24592" referrerpolicy="no-referrer"></p><ul><li><span>æˆ‘ä»¬å†æ¥</span><strong><span>çœ‹çœ‹httpåè®®å‘ç”Ÿäº†ä»€ä¹ˆ</span></strong></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615edd41c041a7d?w=1920&amp;h=192&amp;f=png&amp;s=14200" referrerpolicy="no-referrer"></p><p><span>ä»å›¾ä¸Šçœ‹ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸¤ä¸ªçŠ¶æ€ç ï¼Œä¸€ä¸ªæ˜¯302ã€‚ä¸€ä¸ªæ˜¯200ã€‚</span><strong><span>302çŠ¶æ€ç åœ¨httpåè®®ä¸­ä»£è¡¨çš„æ˜¯ä¸´æ—¶é‡å®šå‘</span></strong><span>ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</span><strong><span>æˆ‘æ‰¾çºªå¾‹å§”å‘˜è¯´ï¼šç»™æˆ‘ä¸€ä»½è¯·å‡è¡¨ï¼Œæˆ‘è¦å›å®¶ã€‚çºªå¾‹å§”å‘˜å‘Šè¯‰æˆ‘ï¼šæˆ‘è¿™é‡Œæ²¡æœ‰è¯·å‡è¡¨ï¼Œä½ å»æ‰¾è¾…å¯¼å‘˜å§</span></strong><span>ã€‚å†çœ‹å›æˆ‘è®¿é—®Sevlet222æ—¶ï¼šæˆ‘æ‰¾Servlet222ï¼ŒServlet222å‘Šè¯‰æµè§ˆå™¨ï¼šæˆ‘æ²¡æœ‰ä½ æƒ³è¦çš„èµ„æºï¼Œä½ è¦çš„èµ„æºåœ¨index.jspé¡µé¢ä¸­ï¼Œä½ è‡ªå·±å»æ‰¾å§ã€‚</span></p><p><span>å¾ˆå®¹æ˜“çœ‹</span><strong><span>å‡ºé‡å®šå‘æ˜¯é€šè¿‡302çŠ¶æ€ç å’Œè·³è½¬åœ°å€å®ç°çš„</span></strong><span>ã€‚äºæ˜¯ä¹ï¼Œ</span><strong><span>æˆ‘ä»¬è®¾ç½®httpæ¶ˆæ¯å¤´å°±å¯ä»¥å®ç°é‡å®šå‘è·³è½¬</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®çŠ¶æ€ç æ˜¯302</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setStatus</span>(<span class="cm-number">302</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//HttpServletResponseæŠŠå¸¸ç”¨çš„çŠ¶æ€ç å°è£…æˆé™æ€å¸¸é‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨SC_MOVED_TEMPORARILYä»£è¡¨ç€302</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setStatus</span>(<span class="cm-variable">HttpServletResponse</span>.<span class="cm-variable">SC_MOVED_TEMPORARILY</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·³è½¬çš„åœ°å€æ˜¯index.jspé¡µé¢</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Location"</span>, <span class="cm-string">"/zhongfucheng/index.jsp"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><strong><span>å…¶å®sendRedirect()æ–¹æ³•å°±æ˜¯å¯¹setStatus()å’ŒsetHeader()è¿›è¡Œå°è£…</span></strong><span>ï¼ŒåŸç†å°±æ˜¯setStatus()å’ŒsetHeader()</span></p><h3><a name="37getwriterå’Œgetoutputstreamç»†èŠ‚" class="md-header-anchor"></a><span>3.7getWriterå’ŒgetOutputStreamç»†èŠ‚</span></h3><ol><li><strong><span>getWriter()å’ŒgetOutputStream()ä¸¤ä¸ªæ–¹æ³•ä¸èƒ½åŒæ—¶è°ƒç”¨</span></strong><span>ã€‚å¦‚æœåŒæ—¶è°ƒç”¨å°±ä¼šå‡ºç°å¼‚å¸¸</span></li><li><span>Servletç¨‹åºå‘ServletOutputStreamæˆ–PrintWriterå¯¹è±¡ä¸­</span><strong><span>å†™å…¥çš„æ•°æ®å°†è¢«Servletå¼•æ“ä»responseé‡Œé¢è·å–ï¼ŒServletå¼•æ“å°†è¿™äº›æ•°æ®å½“ä½œå“åº”æ¶ˆæ¯çš„æ­£æ–‡ï¼Œç„¶åå†ä¸å“åº”çŠ¶æ€è¡Œå’Œå„å“åº”å¤´ç»„åˆåè¾“å‡ºåˆ°å®¢æˆ·ç«¯</span></strong><span>ã€‚ </span></li><li><span>Servletçš„</span><strong><span>serice()æ–¹æ³•ç»“æŸåã€ä¹Ÿå°±æ˜¯doPost()æˆ–è€…doGet()ç»“æŸåã€‘</span></strong><span>ï¼ŒServletå¼•æ“å°†æ£€æŸ¥getWriteræˆ–getOutputStreamæ–¹æ³•è¿”å›çš„è¾“å‡ºæµå¯¹è±¡æ˜¯å¦å·²ç»è°ƒç”¨è¿‡closeæ–¹æ³•ï¼Œ</span><strong><span>å¦‚æœæ²¡æœ‰ï¼ŒServletå¼•æ“å°†è°ƒç”¨closeæ–¹æ³•å…³é—­è¯¥è¾“å‡ºæµå¯¹è±¡.</span></strong></li></ol><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz2dvm1xg3073073q65.gif" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœâ½‚æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„è”ç³»â½…å¼ã€‚æ›´å¤š</span><strong><span>åŸåˆ›</span></strong><span>æŠ€æœ¯â½‚ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h1><a name="requestå¯¹è±¡" class="md-header-anchor"></a><span>Requestå¯¹è±¡</span></h1><p>&nbsp;</p><h2><a name="1-ä»€ä¹ˆæ˜¯httpservletrequest" class="md-header-anchor"></a><span>1. ä»€ä¹ˆæ˜¯HttpServletRequest</span></h2><blockquote><p><span>HttpServletRequestå¯¹è±¡ä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå½“å®¢æˆ·ç«¯é€šè¿‡HTTPåè®®è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒHTTPè¯·æ±‚å¤´ä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½å°è£…åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ï¼Œå¼€å‘äººå‘˜é€šè¿‡è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å®¢æˆ·è¿™äº›ä¿¡æ¯ã€‚</span></p></blockquote><p><span>ç®€å•æ¥è¯´ï¼Œ</span><strong><span>è¦å¾—åˆ°æµè§ˆå™¨ä¿¡æ¯ï¼Œå°±æ‰¾HttpServletRequestå¯¹è±¡</span></strong></p><h2><a name="2-httpservletrequestå¸¸ç”¨æ–¹æ³•" class="md-header-anchor"></a><span>2. HttpServletRequestå¸¸ç”¨æ–¹æ³•</span></h2><h3><a name="21-è·å¾—å®¢æˆ·æœºæµè§ˆå™¨ä¿¡æ¯" class="md-header-anchor"></a><span>2.1 è·å¾—å®¢æˆ·æœºã€æµè§ˆå™¨ã€‘ä¿¡æ¯</span></h3><ul><li><strong><span>getRequestURLæ–¹æ³•è¿”å›å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚æ—¶çš„å®Œæ•´URLã€‚</span></strong></li><li><span>getRequestURIæ–¹æ³•è¿”å›è¯·æ±‚è¡Œä¸­çš„èµ„æºåéƒ¨åˆ†ã€‚</span></li><li><strong><span>getQueryString æ–¹æ³•è¿”å›è¯·æ±‚è¡Œä¸­çš„å‚æ•°éƒ¨åˆ†ã€‚</span></strong></li><li><span>getPathInfoæ–¹æ³•è¿”å›è¯·æ±‚URLä¸­çš„é¢å¤–è·¯å¾„ä¿¡æ¯ã€‚é¢å¤–è·¯å¾„ä¿¡æ¯æ˜¯è¯·æ±‚URLä¸­çš„ä½äºServletçš„è·¯å¾„ä¹‹åå’ŒæŸ¥è¯¢å‚æ•°ä¹‹å‰çš„å†…å®¹ï¼Œå®ƒä»¥â€œ/â€å¼€å¤´ã€‚</span></li><li><strong><span>getRemoteAddræ–¹æ³•è¿”å›å‘å‡ºè¯·æ±‚çš„å®¢æˆ·æœºçš„IPåœ°å€</span></strong></li><li><span>getRemoteHostæ–¹æ³•è¿”å›å‘å‡ºè¯·æ±‚çš„å®¢æˆ·æœºçš„å®Œæ•´ä¸»æœºå</span></li><li><span>getRemotePortæ–¹æ³•è¿”å›å®¢æˆ·æœºæ‰€ä½¿ç”¨çš„ç½‘ç»œç«¯å£å·</span></li><li><strong><span>getLocalAddræ–¹æ³•è¿”å›WEBæœåŠ¡å™¨çš„IPåœ°å€ã€‚</span></strong></li><li><span>getLocalNameæ–¹æ³•è¿”å›WEBæœåŠ¡å™¨çš„ä¸»æœºå</span></li></ul><h3><a name="22-è·å¾—å®¢æˆ·æœºè¯·æ±‚å¤´" class="md-header-anchor"></a><span>2.2 è·å¾—å®¢æˆ·æœºè¯·æ±‚å¤´</span></h3><ul><li><strong><span>getHeaderæ–¹æ³•</span></strong></li><li><span>getHeadersæ–¹æ³• </span></li><li><span>getHeaderNamesæ–¹æ³• </span></li></ul><h3><a name="23-è·å¾—å®¢æˆ·æœºè¯·æ±‚å‚æ•°å®¢æˆ·ç«¯æäº¤çš„æ•°æ®" class="md-header-anchor"></a><span>2.3 è·å¾—å®¢æˆ·æœºè¯·æ±‚å‚æ•°(å®¢æˆ·ç«¯æäº¤çš„æ•°æ®)</span></h3><ul><li><strong><span>getParameteræ–¹æ³•</span></strong></li><li><strong><span>getParameterValuesï¼ˆString nameï¼‰æ–¹æ³•</span></strong></li><li><span>getParameterNamesæ–¹æ³• </span></li><li><span>getParameterMapæ–¹æ³•</span></li></ul><h2><a name="3-httpservletrequeståº”ç”¨" class="md-header-anchor"></a><span>3. HttpServletRequeståº”ç”¨</span></h2><h3><a name="31-é˜²ç›—é“¾" class="md-header-anchor"></a><span>3.1 é˜²ç›—é“¾</span></h3><p><span>ä»€ä¹ˆæ˜¯é˜²ç›—é“¾å‘¢ï¼Ÿæ¯”å¦‚ï¼š</span><strong><span>æˆ‘ç°åœ¨æœ‰æµ·è´¼ç‹æœ€æ–°çš„èµ„æºï¼Œæƒ³è¦çœ‹æµ·è´¼ç‹çš„è¦åœ¨æˆ‘çš„ç½‘é¡µä¸Šçœ‹ã€‚ç°åœ¨åˆ«çš„ç½‘ç«™çš„äººçœ‹åˆ°æˆ‘æœ‰æµ·è´¼ç‹çš„èµ„æºï¼Œæƒ³è¦æŠŠæˆ‘çš„èµ„æºç²˜è´´åœ¨ä»–è‡ªå·±çš„ç½‘ç«™ä¸Šã€‚è¿™æ ·æˆ‘ç‹¬å®¶çš„èµ„æºå°±è¢«ä¸€ä¸ªCTRL+Cå’ŒCTRL+VæŠ¢èµ°äº†</span></strong><span>ï¼Ÿè€Œåç›—é“¾å°±æ˜¯ä¸èƒ½è¢«ä»–ä»¬CRTL+Cå’ŒCRTL+V</span></p><p>&nbsp;</p><p><span>ä¸‹é¢æˆ‘æ¨¡æ‹Ÿä¸€ä¸‹åœºæ™¯ã€‚ç°åœ¨æˆ‘é¦–é¡µå…ˆæœ‰ä¸€ä¸ªè¶…é“¾æ¥ï¼ŒæŒ‡å‘ç€æµ·è´¼ç‹æœ€æ–°èµ„æº</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d7ba6f5fb4?w=733&amp;h=248&amp;f=png&amp;s=14143" referrerpolicy="no-referrer"></p><p><span>å½“æˆ‘ç‚¹è¿›å»ï¼Œå°±èƒ½çœ‹åˆ°æµ·è´¼ç‹æœ€æ–°èµ„æºäº†</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d7badb3c2d?w=733&amp;h=248&amp;f=png&amp;s=14144" referrerpolicy="no-referrer"></p><p><span>å…¶ä»–çš„äººå¯ä»¥é€šè¿‡å¤åˆ¶ç²˜è´´æˆ‘çš„åœ°å€ï¼Œæ”¾åˆ°å®ƒä»¬çš„ç½‘é¡µä¸Š</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d7baa9aa62?w=733&amp;h=248&amp;f=png&amp;s=18968" referrerpolicy="no-referrer"></p><p><span>è¿™æ ·æˆ‘å°±åˆ’ä¸æ¥å•¦ã€æˆ‘çš„å¹¿å‘Šä½ æ¥æ²¡çœ‹å‘¢ï¼ã€‘ã€‚</span><strong><span>æƒ³è¦çœ‹æˆ‘çš„èµ„æºï¼Œå°±å¿…é¡»ç»è¿‡æˆ‘çš„é¦–é¡µç‚¹è¿›å»çœ‹</span></strong><span>ã€‚</span></p><p><span>æƒ³è¦å®ç°è¿™æ ·çš„æ•ˆæœï¼Œå°±è¦</span><strong><span>è·å–Refererè¿™ä¸ªæ¶ˆæ¯å¤´</span></strong><span>ï¼Œ</span><strong><span>åˆ¤æ–­Refereræ˜¯ä¸æ˜¯ä»æˆ‘çš„é¦–é¡µæ¥çš„ã€‚å¦‚æœä¸æ˜¯ä»æˆ‘çš„é¦–é¡µæ¥çš„ï¼Œè·³è½¬å›æˆ‘çš„é¦–é¡µ</span></strong><span>ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ç½‘é¡µæ˜¯ä»å“ªé‡Œæ¥çš„</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">referer</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getHeader</span>(<span class="cm-string">"Referer"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¦‚æœä¸æ˜¯ä»æˆ‘çš„é¦–é¡µæ¥æˆ–è€…ä»åœ°å€æ ç›´æ¥è®¿é—®çš„ï¼Œ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> ( <span class="cm-variable">referer</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span> <span class="cm-operator">||</span> <span class="cm-operator">!</span><span class="cm-variable">referer</span>.<span class="cm-variable">contains</span>(<span class="cm-string">"localhost:8080/zhongfucheng/index.jsp"</span>) ) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//å›åˆ°é¦–é¡µå»</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">response</span>.<span class="cm-variable">sendRedirect</span>(<span class="cm-string">"/zhongfucheng/index.jsp"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//èƒ½æ‰§è¡Œä¸‹é¢çš„è¯­å¥ï¼Œè¯´æ˜æ˜¯ä»æˆ‘çš„é¦–é¡µç‚¹å‡»è¿›æ¥çš„ï¼Œé‚£æ²¡é—®é¢˜ï¼Œç…§å¸¸æ˜¾ç¤º</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"è·¯é£åšäº†XXXXxxxxxxxxxxxxxxxx"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 308px;"></div><div class="CodeMirror-gutters" style="display: none; height: 308px;"></div></div></div></pre><p><span>é¦–å…ˆæŒ‰æ­£å¸¸é¢„æƒ³çš„ï¼Œ</span><strong><span>åˆ«äººä»é¦–é¡µç‚¹å‡»æˆ‘çš„èµ„æºï¼Œè®¿é—®æˆ‘æµ·è´¼ç‹æœ€æ–°çš„èµ„æº</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d7bbd51b0a?w=910&amp;h=163&amp;f=png&amp;s=15233" referrerpolicy="no-referrer"></p><p><span>èƒ½å¤ŸæˆåŠŸè®¿é—®åˆ°èµ„æº</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d7bbe46a2c?w=1010&amp;h=327&amp;f=png&amp;s=16410" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæˆ‘åœ¨æµè§ˆå™¨ç›´æ¥è¾“å…¥åœ°å€ã€æ­¤æ—¶Refereræ˜¯ä¸ºnullçš„ã€‘ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d7bce5930b?w=1010&amp;h=327&amp;f=png&amp;s=14818" referrerpolicy="no-referrer"></p><p><strong><span>è·³å›åˆ°é¦–é¡µä¸Šï¼Œä¸èƒ½è®¿é—®åˆ°æµ·è´¼ç‹èµ„æº</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d802eb88ef?w=1010&amp;h=327&amp;f=png&amp;s=17036" referrerpolicy="no-referrer"></p><p><span>å†è¯•è¯•ï¼Œå¦‚æœ</span><strong><span>åˆ«äººç²˜è´´äº†æˆ‘çš„èµ„æºurlï¼Œåœ¨å®ƒçš„ç½‘é¡µä¸ŠæŒ‚äº†ä¸€ä¸ªç½‘å€å‘¢ã€‚</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d804395bc8?w=1010&amp;h=327&amp;f=png&amp;s=18489" referrerpolicy="no-referrer"></p><p><span>åœ¨åˆ«äººç½‘é¡µä¸Šç‚¹å‡»çš„æ—¶å€™</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d804a50826?w=1010&amp;h=327&amp;f=png&amp;s=18489" referrerpolicy="no-referrer"></p><p><strong><span>åˆè·³å›åˆ°äº†æˆ‘çš„é¦–é¡µäº†ã€‚</span></strong>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d806f5ee2b?w=1010&amp;h=327&amp;f=png&amp;s=17420" referrerpolicy="no-referrer"></p><h3><a name="32è¡¨å•æäº¤æ•°æ®é€šè¿‡postæ–¹å¼æäº¤æ•°æ®" class="md-header-anchor"></a><span>3.2è¡¨å•æäº¤æ•°æ®ã€é€šè¿‡postæ–¹å¼æäº¤æ•°æ®ã€‘</span></h3><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="html" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span> <span class="cm-attribute">action</span>=<span class="cm-string">"/zhongfucheng/Servlet111"</span> <span class="cm-attribute">method</span>=<span class="cm-string">"post"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">table</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span>ç”¨æˆ·å<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"username"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span>å¯†ç <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"password"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"password"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span>æ€§åˆ«<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"radio"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"gender"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"ç”·"</span><span class="cm-tag cm-bracket">&gt;</span>ç”·</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"radio"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"gender"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"å¥³"</span><span class="cm-tag cm-bracket">&gt;</span>å¥³</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span>çˆ±å¥½<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"checkbox"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"hobbies"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æ¸¸æ³³"</span><span class="cm-tag cm-bracket">&gt;</span>æ¸¸æ³³</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"checkbox"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"hobbies"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"è·‘æ­¥"</span><span class="cm-tag cm-bracket">&gt;</span>è·‘æ­¥</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"checkbox"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"hobbies"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"é£ç¿”"</span><span class="cm-tag cm-bracket">&gt;</span>é£ç¿”</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"hidden"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"aaa"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"my name is zhongfucheng"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span>ä½ çš„æ¥è‡ªäºå“ªé‡Œ<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">select</span> <span class="cm-attribute">name</span>=<span class="cm-string">"address"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">option</span> <span class="cm-attribute">value</span>=<span class="cm-string">"å¹¿å·"</span><span class="cm-tag cm-bracket">&gt;</span>å¹¿å·<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">option</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">option</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æ·±åœ³"</span><span class="cm-tag cm-bracket">&gt;</span>æ·±åœ³<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">option</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">option</span> <span class="cm-attribute">value</span>=<span class="cm-string">"åŒ—äº¬"</span><span class="cm-tag cm-bracket">&gt;</span>åŒ—äº¬<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">option</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">select</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span>è¯¦ç»†è¯´æ˜:<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">textarea</span> <span class="cm-attribute">cols</span>=<span class="cm-string">"30"</span> <span class="cm-attribute">rows</span>=<span class="cm-string">"2"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"textarea"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">textarea</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æäº¤"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"reset"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"é‡ç½®"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">td</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">tr</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">table</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1056px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1056px;"></div></div></div></pre><p><span>åœ¨Servlet111ä¸­è·å–åˆ°æäº¤çš„æ•°æ®ï¼Œä»£ç å¦‚ä¸‹</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®requestå­—ç¬¦ç¼–ç çš„æ ¼å¼</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">setCharacterEncoding</span>(<span class="cm-string">"UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡htmlçš„nameå±æ€§ï¼Œè·å–åˆ°å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">username</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"username"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"password"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">gender</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"gender"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¤é€‰æ¡†å’Œä¸‹æ‹‰æ¡†æœ‰å¤šä¸ªå€¼ï¼Œè·å–åˆ°å¤šä¸ªå€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span>[] <span class="cm-variable">hobbies</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameterValues</span>(<span class="cm-string">"hobbies"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span>[] <span class="cm-variable">address</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameterValues</span>(<span class="cm-string">"address"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°æ–‡æœ¬åŸŸçš„å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">description</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"textarea"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾—åˆ°éšè—åŸŸçš„å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">hiddenValue</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"aaa"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">....<span class="cm-variable">å„ç§System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>().......</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 462px;"></div><div class="CodeMirror-gutters" style="display: none; height: 462px;"></div></div></div></pre><p><span>å‘è¡¨å•è¾“å…¥æ•°æ®</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d81460cd3d?w=851&amp;h=375&amp;f=png&amp;s=24765" referrerpolicy="no-referrer"></p><p><span>Servlet111å¾—åˆ°è¡¨å•å¸¦è¿‡æ¥çš„æ•°æ®ï¼Œæœ€åçš„ä¸€ä¸ªæ•°æ®æ˜¯éšè—åŸŸå¸¦è¿‡æ¥çš„ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d822f028a7?w=539&amp;h=275&amp;f=png&amp;s=4384" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyvxnfymj30730733yf.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h3><a name="34è¶…é“¾æ¥æ–¹å¼æäº¤æ•°æ®" class="md-header-anchor"></a><span>3.4è¶…é“¾æ¥æ–¹å¼æäº¤æ•°æ®</span></h3><p><strong><span>å¸¸è§çš„getæ–¹å¼æäº¤æ•°æ®æœ‰</span></strong><span>ï¼š</span><strong><span>ä½¿ç”¨è¶…é“¾æ¥ï¼ŒsendRedirect()</span></strong></p><p><span>æ ¼å¼å¦‚ä¸‹ï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">sendRedirect</span>(<span class="cm-string">"servletçš„åœ°å€?å‚æ•°å="</span><span class="cm-operator">+</span><span class="cm-variable">å‚æ•°å€¼</span> <span class="cm-operator">&amp;</span><span class="cm-string">"å‚æ•°å="</span><span class="cm-operator">+</span><span class="cm-variable">å‚æ•°å€¼</span>);</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>æˆ‘ä»¬æ¥ä½¿ç”¨ä¸€ä¸‹ï¼Œ</span><strong><span>é€šè¿‡è¶…é“¾æ¥å°†æ•°æ®å¸¦ç»™æµè§ˆå™¨</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-variable">a</span> <span class="cm-variable">href</span><span class="cm-operator">=</span><span class="cm-string">"/zhongfucheng/Servlet111?username=xxx"</span><span class="cm-operator">&gt;</span><span class="cm-variable">ä½¿ç”¨è¶…é“¾æ¥å°†æ•°æ®å¸¦ç»™æµè§ˆå™¨</span><span class="cm-operator">&lt;/</span><span class="cm-variable">a</span><span class="cm-operator">&gt;</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 22px;"></div><div class="CodeMirror-gutters" style="display: none; height: 22px;"></div></div></div></pre><p><span>åœ¨Servlet111æ¥æ”¶æ•°æ®</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ¥æ”¶ä»¥usernameä¸ºå‚æ•°åå¸¦è¿‡æ¥çš„å€¼</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">username</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"username"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">username</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>æ³¨æ„</span><strong><span>çœ‹æµè§ˆå™¨å·¦ä¸‹è§’</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d833ba81cb?w=853&amp;h=215&amp;f=png&amp;s=19008" referrerpolicy="no-referrer"></p><p><span>æœåŠ¡å™¨æˆåŠŸæ¥æ”¶åˆ°æµè§ˆå™¨å‘é€è¿‡æ¥çš„æ•°æ®</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d842311ae6?w=1119&amp;h=83&amp;f=png&amp;s=1531" referrerpolicy="no-referrer"></p><p><span>å¹¶ä¸”ï¼Œ</span><strong><span>ä¼ è¾“æ•°æ®æ˜æ–‡çš„å‡ºç°åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸Š</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d84e0470b7?w=987&amp;h=314&amp;f=png&amp;s=15378" referrerpolicy="no-referrer"></p><p><strong><span>sendRedirect()å’Œè¶…é“¾æ¥ç±»ä¼¼ï¼Œåœ¨è¿™é‡Œå°±ä¸èµ˜è¿°äº†</span></strong></p><h3><a name="35è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜" class="md-header-anchor"></a><span>3.5è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜</span></h3><p><span>ç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ï¼Œæˆ‘åœ¨è·å–è¡¨å•æ•°æ®çš„æ—¶å€™ï¼Œæœ‰è¿™å¥ä»£ç </span><code>request.setCharacterEncoding(&quot;UTF-8&quot;);</code><span>ï¼Œå¦‚æœæ²¡æœ‰è¿™å¥ä»£ç ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆäº‹å‘¢ï¼Ÿæˆ‘ä»¬çœ‹çœ‹ã€‚</span></p><p><span>å†é‡æ–°å¡«å†™æ•°æ®</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d85ab7f59c?w=987&amp;h=314&amp;f=png&amp;s=27697" referrerpolicy="no-referrer"></p><p><span>åœ¨æœåŠ¡å™¨æŸ¥çœ‹æäº¤è¿‡æ¥çš„æ•°æ®ï¼Œ</span><strong><span>æ‰€æœ‰çš„ä¸­æ–‡æ•°æ®éƒ½ä¹±ç äº†</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d85ac3b601" referrerpolicy="no-referrer"></p><p><span>æ¥è¿™é‡Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¹±ç çš„åŸå› ï¼Œåœ¨å‰é¢çš„åšå®¢ä¸­æˆ‘å·²ç»ä»‹ç»äº†ï¼ŒTomcatæœåŠ¡å™¨é»˜è®¤ç¼–ç æ˜¯ISO 8859-1ï¼Œè€Œ</span><strong><span>æµè§ˆå™¨ä½¿ç”¨çš„æ˜¯UTF-8ç¼–ç </span></strong><span>ã€‚æµè§ˆå™¨çš„ä¸­æ–‡æ•°æ®æäº¤ç»™æœåŠ¡å™¨ï¼Œ</span><strong><span>Tomcatä»¥ISO 8859-1ç¼–ç å¯¹ä¸­æ–‡ç¼–ç ï¼Œå½“æˆ‘åœ¨Servletè¯»å–æ•°æ®çš„æ—¶å€™ï¼Œæ‹¿åˆ°çš„å½“ç„¶æ˜¯ä¹±ç ã€‚</span></strong><span>è€Œæˆ‘è®¾ç½®requestçš„ç¼–ç ä¸ºUTF-8ï¼Œä¹±ç å°±è§£å†³äº†ã€‚</span></p><p>&nbsp;</p><p><span>æ¥ä¸‹æ¥ä½¿ç”¨getæ–¹å¼ä¼ é€’ä¸­æ–‡æ•°æ®ï¼Œ</span><strong><span>æŠŠè¡¨å•çš„æ–¹å¼æ”¹æˆgetå³å¯</span></strong><span>ï¼Œå½“æˆ‘ä»¬è®¿é—®çš„æ—¶å€™ï¼Œåˆå‡ºç°ä¹±ç äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8673aa643?w=1135&amp;h=827&amp;f=png&amp;s=38585" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d86fcaaebc?w=647&amp;h=211&amp;f=png&amp;s=3031" referrerpolicy="no-referrer"></p><p><span>äºæ˜¯æˆ‘æŒ‰ç…§ä¸Šé¢çš„æ–¹å¼ï¼ŒæŠŠrequestå¯¹è±¡è®¾ç½®ç¼–ç ä¸ºUTF-8è¯•è¯•</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">setCharacterEncoding</span>(<span class="cm-string">"UTF-8"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"name"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>ç»“æœè¿˜æ˜¯ä¹±ç ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</span><strong><span>æˆ‘æ˜æ˜å·²ç»æŠŠç¼–ç è®¾ç½®æˆUTF-8äº†ï¼ŒæŒ‰ç…§postæ–¹å¼ï¼Œä¹±ç é—®é¢˜å·²ç»è§£å†³äº†</span></strong><span>ï¼ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹getå’Œpostæ–¹å¼çš„åŒºåˆ«åœ¨å“ªï¼Ÿ</span><strong><span>ä¸ºä»€ä¹ˆpostæ–¹å¼è®¾ç½®äº†requestç¼–ç å°±å¯ä»¥è§£å†³ä¹±ç é—®é¢˜ï¼Œè€Œgetæ–¹å¼ä¸èƒ½å‘¢ã€‚</span></strong></p><p><span>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹postæ–¹æ³•æ˜¯æ€ä¹ˆè¿›è¡Œå‚æ•°ä¼ é€’çš„ã€‚å½“æˆ‘ä»¬</span><strong><span>ç‚¹å‡»æäº¤æŒ‰é’®çš„æ—¶å€™ï¼Œæ•°æ®å°è£…è¿›äº†Form Dataä¸­</span></strong><span>ï¼Œ</span><strong><span>httpè¯·æ±‚ä¸­æŠŠå®ä½“ä¸»ä½“å¸¦è¿‡å»äº†ã€ä¼ è¾“çš„æ•°æ®ç§°ä¹‹ä¸ºå®ä½“ä¸»ä½“ã€‘</span></strong><span>ï¼Œæ—¢ç„¶requestå¯¹è±¡å°è£…äº†httpè¯·æ±‚ï¼Œæ‰€ä»¥</span><strong><span>requestå¯¹è±¡å¯ä»¥è§£æåˆ°å‘é€è¿‡æ¥çš„æ•°æ®</span></strong><span>ï¼Œäºæ˜¯åªè¦</span><strong><span>æŠŠç¼–ç è®¾ç½®æˆUTF-8å°±å¯ä»¥è§£å†³ä¹±ç é—®é¢˜äº†</span></strong><span>ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d88026981a?w=1920&amp;h=950&amp;f=png&amp;s=129642" referrerpolicy="no-referrer"></p><p><span>è€Œgetæ–¹å¼ä¸åŒï¼Œå®ƒçš„</span><strong><span>æ•°æ®æ˜¯ä»æ¶ˆæ¯è¡Œå¸¦è¿‡å»çš„ï¼Œæ²¡æœ‰å°è£…åˆ°requestå¯¹è±¡é‡Œé¢</span></strong><span>ï¼Œæ‰€ä»¥ä½¿ç”¨requestè®¾ç½®ç¼–ç æ˜¯æ— æ•ˆçš„ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d898f8c897?w=1920&amp;h=950&amp;f=png&amp;s=114675" referrerpolicy="no-referrer"></p><p><span>è¦è§£å†³getæ–¹å¼ä¹±ç é—®é¢˜ä¹Ÿä¸éš¾ï¼Œæˆ‘ä»¬æ—¢ç„¶çŸ¥é“Tomcaté»˜è®¤çš„ç¼–ç æ˜¯ISO 8859-1ï¼Œé‚£ä¹ˆ</span><strong><span>getæ–¹å¼ç”±æ¶ˆæ¯ä½“å¸¦è¿‡å»ç»™æµè§ˆå™¨çš„æ—¶å€™è‚¯å®šæ˜¯ç”¨ISO 8859-1ç¼–ç äº†</span></strong><span>ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ­¤æ—¶å¾—åˆ°çš„æ•°æ®å·²ç»æ˜¯è¢«ISO 8859-1ç¼–ç åçš„å­—ç¬¦ä¸²äº†ï¼Œè¿™ä¸ªæ˜¯ä¹±ç </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"username"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¹±ç é€šè¿‡åå‘æŸ¥ISO 8859-1å¾—åˆ°åŸå§‹çš„æ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">byte</span>[] <span class="cm-variable">bytes</span> <span class="cm-operator">=</span> <span class="cm-variable">name</span>.<span class="cm-variable">getBytes</span>(<span class="cm-string">"ISO8859-1"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡åŸå§‹çš„æ•°æ®ï¼Œè®¾ç½®æ­£ç¡®çš„ç è¡¨ï¼Œæ„å»ºå­—ç¬¦ä¸²</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable-3">String</span>(<span class="cm-variable">bytes</span>, <span class="cm-string">"UTF-8"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><span>ä¸Šé¢çš„ä»£ç æœ‰äº›éš¾ç†è§£ï¼Œæˆ‘ç”»å¼ å›¾è¯´æ˜ä¸€ä¸‹ï¼š</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8a5101146?w=725&amp;h=495&amp;f=png&amp;s=32892" referrerpolicy="no-referrer"></p><p><span>ç»è¿‡æˆ‘ä»¬æ‰‹å·¥è½¬æ¢ï¼Œå†æ¥è®¿é—®ä¸€ä¸‹</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8b3a8fc54?w=1061&amp;h=197&amp;f=png&amp;s=16043" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><span>å¥½çš„ï¼ŒæˆåŠŸè§£å†³æ‰ä¹±ç é—®é¢˜äº†ã€‚é™¤äº†æ‰‹å·¥è½¬æ¢ï¼Œ</span><strong><span>getæ–¹å¼è¿˜å¯ä»¥æ”¹TomcatæœåŠ¡å™¨çš„é…ç½®æ¥è§£å†³ä¹±ç ï¼Œä½†æ˜¯ä¸æ¨èä½¿ç”¨ï¼Œè¿™æ ·ä¸çµæ´»ã€‚</span></strong><span>â€œ</span></p><p><span>æˆ‘ä»¬éƒ½çŸ¥é“</span><strong><span>Tomcaté»˜è®¤çš„ç¼–ç æ˜¯ISO 8859-1,å¦‚æœåœ¨TomcatæœåŠ¡å™¨çš„é…ç½®ä¸‹æ”¹æˆæ˜¯UTF-8çš„ç¼–ç ï¼Œé‚£ä¹ˆå°±è§£å†³æœåŠ¡å™¨åœ¨è§£ææ•°æ®çš„æ—¶å€™é€ æˆä¹±ç é—®é¢˜äº†</span></strong></p><p><span>åœ¨8080ç«¯å£çš„Connectorä¸ŠåŠ å…¥</span><code>URIEncoding=&quot;utf-8&quot;</code><span>ï¼Œè®¾ç½®Tomcatçš„è®¿é—®è¯¥ç«¯å£æ—¶çš„ç¼–ç ä¸ºutf-8ï¼Œä»è€Œè§£å†³ä¹±ç ï¼Œ</span><strong><span>è¿™ç§æ”¹æ³•æ˜¯å›ºå®šä½¿ç”¨UTF-8ç¼–ç çš„</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Connector</span> <span class="cm-attribute">port</span>=<span class="cm-string">"8080"</span> <span class="cm-attribute">protocol</span>=<span class="cm-string">"HTTP/1.1"</span> </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-attribute">connectionTimeout</span>=<span class="cm-string">"20000"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-attribute">redirectPort</span>=<span class="cm-string">"8443"</span> <span class="cm-attribute">URIEncoding</span>=<span class="cm-string">"utf-8"</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><span>è®¾ç½®äº†ç¼–ç åï¼Œæ²¡æœ‰åšä»»ä½•æ‰‹å·¥è½¬æ¢ï¼ŒæˆåŠŸæ‹¿åˆ°æ•°æ®</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8d92ff970?w=945&amp;h=529&amp;f=png&amp;s=34701" referrerpolicy="no-referrer"></p><p><span>å½“ç„¶ä¹Ÿæœ‰å¦ä¸€ç§æ”¹æœåŠ¡å™¨ç¼–ç çš„æ–¹å¼ã€‚è®¾ç½®Tomcatçš„è®¿é—®è¯¥ç«¯å£æ—¶çš„ç¼–ç </span><strong><span>ä¸ºé¡µé¢çš„ç¼–ç ï¼Œè¿™ç§æ”¹æ³•æ˜¯éšç€é¡µé¢çš„ç¼–ç è€Œå˜</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Connector</span> <span class="cm-attribute">port</span>=<span class="cm-string">"8080"</span> <span class="cm-attribute">protocol</span>=<span class="cm-string">"HTTP/1.1"</span> </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-attribute">connectionTimeout</span>=<span class="cm-string">"20000"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-attribute">redirectPort</span>=<span class="cm-string">"8443"</span> <span class="cm-attribute">useBodyEncodingForURI</span>=<span class="cm-string">"true"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>è®¾ç½®ç¼–ç ä¸ºUTF-8</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">setCharacterEncoding</span>(<span class="cm-string">"UTF-8"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"name"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å†æ¬¡è®¿é—®</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8e7d0018b?w=1203&amp;h=388&amp;f=png&amp;s=28362" referrerpolicy="no-referrer"></p><p><strong><span>æ‰‹å†™è¶…é“¾æ¥å¦‚æœé™„å¸¦ä¸­æ–‡å‚æ•°é—®é¢˜ï¼Œè¦URLé‡å†™ï¼Œåœ¨JSPåšå®¢ä¸­ä¼šè®²åˆ°</span></strong></p><p><span>æ€»ç»“ï¼š</span></p><ul><li><span>postæ–¹å¼ç›´æ¥æ”¹requestå¯¹è±¡çš„ç¼–ç </span></li><li><span>getæ–¹å¼éœ€è¦æ‰‹å·¥è½¬æ¢ç¼–ç </span></li><li><strong><span>getæ–¹å¼ä¹Ÿå¯ä»¥ä¿®æ”¹TomcatæœåŠ¡å™¨çš„ç¼–ç ï¼Œä¸æ¨èï¼Œå› ä¸ºä¼šå¤ªä¾èµ–æœåŠ¡å™¨äº†ï¼</span></strong></li><li><strong><span>æäº¤æ•°æ®èƒ½ç”¨postå°±ç”¨post</span></strong></li></ul><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnywdweibj3078079glj.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h3><a name="36-å®ç°è½¬å‘" class="md-header-anchor"></a><span>3.6 å®ç°è½¬å‘</span></h3><p><span>ä¹‹å‰è®²è¿‡ä½¿ç”¨responseçš„sendRedirect()å¯ä»¥</span><strong><span>å®ç°é‡å®šå‘ï¼Œåšåˆ°çš„åŠŸèƒ½æ˜¯é¡µé¢è·³è½¬</span></strong><span>ï¼Œä½¿ç”¨requestçš„getRequestDispatcher.forward(request,response)</span><strong><span>å®ç°è½¬å‘ï¼Œåšåˆ°çš„åŠŸèƒ½ä¹Ÿæ˜¯é¡µé¢è·³è½¬</span></strong><span>ï¼Œä»–ä»¬æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿç°åœ¨æˆ‘å…ˆæ¥è¯´ä¸‹è½¬å‘</span></p><p><span>ä»£ç å¦‚ä¸‹æ‰€ç¤º</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°requestDispatcherå¯¹è±¡ï¼Œè·³è½¬åˆ°index.jsp</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">RequestDispatcher</span> <span class="cm-variable">requestDispatcher</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getRequestDispatcher</span>(<span class="cm-string">"/index.jsp"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è°ƒç”¨requestDispatcherå¯¹è±¡çš„forward()å®ç°è½¬å‘,ä¼ å…¥requestå’Œresponseæ–¹æ³•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">requestDispatcher</span>.<span class="cm-variable">forward</span>(<span class="cm-variable">request</span>, <span class="cm-variable">response</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>è®¿é—®Servlet111</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8f5b25fec?w=1116&amp;h=229&amp;f=png&amp;s=25978" referrerpolicy="no-referrer"></p><p><span>ä¸Šé¢å·²ç»è¯´äº†ï¼Œå¯ä»¥</span><strong><span>é€šè¿‡sendRedirect()é‡å®šå‘å¯ä»¥åœ¨èµ„æºå°¾éƒ¨æ·»åŠ å‚æ•°æäº¤æ•°æ®ç»™æœåŠ¡å™¨ã€‚é‚£ä¹ˆè½¬å‘èƒ½ä¸èƒ½æäº¤æ•°æ®ç»™æœåŠ¡å™¨å‘¢ï¼Ÿç­”æ¡ˆæ˜æ˜¾æ˜¯å¯ä»¥çš„ï¼Œå¹¶ä¸”ä½¿ç”¨è¿™ç§æ–¹æ³•éå¸¸é¢‘ç¹</span></strong></p><p>&nbsp;</p><p><span>åœ¨è®²ServletContextçš„æ—¶å€™ï¼Œ</span><strong><span>æ›¾ç»è¯´è¿‡Servletä¹‹é—´å¯ä»¥é€šè¿‡ServletContextå®ç°é€šè®¯ï¼ŒServletContextä¹Ÿèƒ½ç§°ä¹‹ä¸ºåŸŸå¯¹è±¡</span></strong><span>ã€‚è€Œ</span><strong><span>requestä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºåŸŸå¯¹è±¡</span></strong><span>ï¼Œåªä¸è¿‡</span><strong><span>ServletContextçš„åŸŸæ˜¯æ•´ä¸ªwebåº”ç”¨ï¼Œè€Œrequestçš„åŸŸä»…ä»…ä»£è¡¨ä¸€æ¬¡httpè¯·æ±‚</span></strong></p><p>&nbsp;</p><p><span>ä¸‹é¢æˆ‘ä»¬æ¥ä½¿ç”¨requestå®ç°Servletä¹‹é—´çš„é€šè®¯ï¼ŒServlet111ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä»¥usernameä¸ºå…³é”®å­—å­˜zhongfuchengå€¼</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"username"</span>, <span class="cm-string">"zhongfucheng"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°requestDispatcherå¯¹è±¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">RequestDispatcher</span> <span class="cm-variable">requestDispatcher</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getRequestDispatcher</span>(<span class="cm-string">"/Servlet222"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è°ƒç”¨requestDispatcherå¯¹è±¡çš„forward()å®ç°è½¬å‘,ä¼ å…¥requestå’Œresponseæ–¹æ³•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">requestDispatcher</span>.<span class="cm-variable">forward</span>(<span class="cm-variable">request</span>, <span class="cm-variable">response</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><span>Servlet222ä»£ç </span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°å­˜è¿›requestå¯¹è±¡çš„å€¼</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">userName</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">String</span>) <span class="cm-variable">request</span>.<span class="cm-variable">getAttribute</span>(<span class="cm-string">"username"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åœ¨æµè§ˆå™¨è¾“å‡ºè¯¥å€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"i am :"</span><span class="cm-operator">+</span><span class="cm-variable">userName</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>è®¿é—®Servlet111çœ‹ä¸‹æ•ˆæœ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8fcca5db7?w=1116&amp;h=229&amp;f=png&amp;s=16442" referrerpolicy="no-referrer"></p><p><span>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ</span><strong><span>Servlet222æˆåŠŸæ‹¿åˆ°äº†requestå¯¹è±¡åœ¨Servlet111å­˜è¿›çš„æ•°æ®</span></strong><span>ã€‚</span></p><p>&nbsp;</p><p><span>ç°åœ¨é—®é¢˜åˆæ¥äº†ï¼Œæˆ‘ä»¬å¯ä»¥</span><strong><span>ä½¿ç”¨ServletContextå’Œrequestå®ç°Servletä¹‹é—´çš„é€šè®¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨å“ªä¸€ç§å‘¢</span></strong><span>ï¼Ÿä¸€èˆ¬çš„åŸåˆ™ï¼š</span><strong><span>å¯ä»¥ä½¿ç”¨requestå°±å°½å¯èƒ½ä½¿ç”¨request</span></strong><span>ã€‚å› ä¸ºServletContextä»£è¡¨ç€æ•´ä¸ªwebåº”ç”¨ï¼Œä½¿ç”¨ServletContextä¼šæ¶ˆè€—å¤§é‡çš„èµ„æºï¼Œè€Œ</span><strong><span>requestå¯¹è±¡ä¼šéšç€è¯·æ±‚çš„ç»“æŸè€Œç»“æŸï¼Œèµ„æºä¼šè¢«å›æ”¶</span></strong><span>ã€‚</span><strong><span>ä½¿ç”¨requeståŸŸè¿›è¡ŒServletä¹‹é—´çš„é€šè®¯åœ¨å¼€å‘ä¸­æ˜¯éå¸¸é¢‘ç¹çš„</span></strong><span>ã€‚</span></p><h3><a name="37-è½¬å‘çš„æ—¶åºå›¾" class="md-header-anchor"></a><span>3.7 è½¬å‘çš„æ—¶åºå›¾</span></h3><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d8fe3e1465?w=915&amp;h=547&amp;f=png&amp;s=183664" referrerpolicy="no-referrer"></p><h4><a name="371è¯·æ±‚è½¬å‘çš„ç»†èŠ‚" class="md-header-anchor"></a><span>3.7.1è¯·æ±‚è½¬å‘çš„ç»†èŠ‚</span></h4><p><span>å¦‚æœåœ¨</span><strong><span>è°ƒç”¨forwardæ–¹æ³•ä¹‹å‰</span></strong><span>ï¼Œåœ¨</span><strong><span>Servletç¨‹åºä¸­å†™å…¥çš„éƒ¨åˆ†å†…å®¹å·²ç»è¢«çœŸæ­£åœ°ä¼ é€åˆ°äº†å®¢æˆ·ç«¯</span></strong><span>ï¼Œforwardæ–¹æ³•å°†æŠ›å‡ºIllegalStateExceptionå¼‚å¸¸ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼š</span><strong><span>ä¸è¦åœ¨è½¬å‘ä¹‹å‰å†™æ•°æ®ç»™æµè§ˆå™¨</span></strong></p><p><span>æˆ‘ä»¬æ¥è¯•è¯•æ˜¯ä¸æ˜¯çœŸçš„ä¼šå‡ºç°å¼‚å¸¸ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">OutputStream</span> <span class="cm-variable">outputStream</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">outputStream</span>.<span class="cm-variable">write</span>(<span class="cm-string">"--------------------------------------------"</span>.<span class="cm-variable">getBytes</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å…³é—­æµï¼Œç¡®ä¿è®©æ•°æ®åˆ°æµè§ˆå™¨ä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">outputStream</span>.<span class="cm-variable">close</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·³è½¬</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">getRequestDispatcher</span>(<span class="cm-string">"/Foot"</span>).<span class="cm-variable">forward</span>(<span class="cm-variable">request</span>, <span class="cm-variable">response</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><span>è®¿é—®çš„æ—¶å€™ï¼Œçœ‹åˆ°æµè§ˆå™¨å¯ä»¥è¾“å‡ºæ•°æ®ï¼ŒTomcatåå°æŠ›å‡ºäº†å¼‚å¸¸</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d90c67c612?w=1242&amp;h=415&amp;f=png&amp;s=50385" referrerpolicy="no-referrer"></p><p><span>å¦‚æœåœ¨è°ƒç”¨forwardæ–¹æ³•ä¹‹å‰å‘Servletå¼•æ“çš„ç¼“å†²åŒºä¸­å†™å…¥äº†å†…å®¹ï¼Œ</span><strong><span>åªè¦å†™å…¥åˆ°ç¼“å†²åŒºä¸­çš„å†…å®¹è¿˜æ²¡æœ‰è¢«çœŸæ­£è¾“å‡ºåˆ°å®¢æˆ·ç«¯</span></strong><span>ï¼Œforwardæ–¹æ³•å°±å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œï¼Œ</span><strong><span>åŸæ¥å†™å…¥åˆ°è¾“å‡ºç¼“å†²åŒºä¸­çš„å†…å®¹å°†è¢«æ¸…ç©º</span></strong><span>ï¼Œä½†æ˜¯ï¼Œ</span><strong><span>å·²å†™å…¥åˆ°HttpServletResponseå¯¹è±¡ä¸­çš„å“åº”å¤´å­—æ®µä¿¡æ¯ä¿æŒæœ‰æ•ˆ</span></strong><span>ã€‚</span></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnywo71jrg308c08caa4.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h3><a name="38è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«" class="md-header-anchor"></a><span>3.8è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«</span></h3><h4><a name="381å®é™…å‘ç”Ÿä½ç½®ä¸åŒåœ°å€æ ä¸åŒ" class="md-header-anchor"></a><span>3.8.1å®é™…å‘ç”Ÿä½ç½®ä¸åŒï¼Œåœ°å€æ ä¸åŒ</span></h4><ul><li><p><span>è½¬å‘æ˜¯å‘ç”Ÿåœ¨æœåŠ¡å™¨çš„</span></p><ul><li><strong><span>è½¬å‘æ˜¯ç”±æœåŠ¡å™¨è¿›è¡Œè·³è½¬çš„</span></strong><span>ï¼Œç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ï¼Œåœ¨è½¬å‘çš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨çš„åœ°å€æ æ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„</span></strong><span>ï¼Œåœ¨æˆ‘è®¿é—®Servlet111çš„æ—¶å€™ï¼Œå³ä½¿è·³è½¬åˆ°äº†Servlet222çš„é¡µé¢ï¼Œæµè§ˆå™¨çš„åœ°å€è¿˜æ˜¯Servlet111çš„ã€‚ä¹Ÿå°±æ˜¯è¯´</span><strong><span>æµè§ˆå™¨æ˜¯ä¸çŸ¥é“è¯¥è·³è½¬çš„åŠ¨ä½œï¼Œè½¬å‘æ˜¯å¯¹æµè§ˆå™¨é€æ˜çš„</span></strong><span>ã€‚é€šè¿‡ä¸Šé¢çš„è½¬å‘æ—¶åºå›¾æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ï¼Œ</span><strong><span>å®ç°è½¬å‘åªæ˜¯ä¸€æ¬¡çš„httpè¯·æ±‚</span></strong><span>ï¼Œ</span><strong><span>ä¸€æ¬¡è½¬å‘ä¸­requestå’Œresponseå¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ª</span></strong><span>ã€‚è¿™ä¹Ÿè§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨</span><strong><span>requestä½œä¸ºåŸŸå¯¹è±¡è¿›è¡ŒServletä¹‹é—´çš„é€šè®¯ã€‚</span></strong></li></ul></li><li><p><span>é‡å®šå‘æ˜¯å‘ç”Ÿåœ¨æµè§ˆå™¨çš„</span></p><ul><li><strong><span>é‡å®šå‘æ˜¯ç”±æµè§ˆå™¨è¿›è¡Œè·³è½¬çš„</span></strong><span>ï¼Œè¿›è¡Œé‡å®šå‘è·³è½¬çš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨çš„åœ°å€ä¼šå‘ç”Ÿå˜åŒ–çš„</span></strong><span>ã€‚æ›¾ç»ä»‹ç»è¿‡ï¼šå®ç°é‡å®šå‘çš„åŸç†æ˜¯ç”±responseçš„çŠ¶æ€ç å’ŒLocationå¤´ç»„åˆè€Œå®ç°çš„ã€‚</span><strong><span>è¿™æ˜¯ç”±æµè§ˆå™¨è¿›è¡Œçš„é¡µé¢è·³è½¬</span></strong><span>å®ç°é‡å®šå‘</span><strong><span>ä¼šå‘å‡ºä¸¤ä¸ªhttpè¯·æ±‚</span></strong><span>ï¼Œ</span><strong><span>requeståŸŸå¯¹è±¡æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºå®ƒä¸æ˜¯åŒä¸€ä¸ªrequestå¯¹è±¡</span></strong></li></ul></li></ul><h4><a name="382ç”¨æ³•ä¸åŒ" class="md-header-anchor"></a><span>3.8.2ç”¨æ³•ä¸åŒ</span></h4><p><span>å¾ˆå¤šäººéƒ½æä¸æ¸…æ¥šè½¬å‘å’Œé‡å®šå‘çš„æ—¶å€™ï¼Œ</span><strong><span>èµ„æºåœ°å€ç©¶ç«Ÿæ€ä¹ˆå†™</span></strong><span>ã€‚æœ‰çš„æ—¶å€™è¦æŠŠåº”ç”¨åå†™ä¸Šï¼Œæœ‰çš„æ—¶å€™ä¸ç”¨æŠŠåº”ç”¨åå†™ä¸Šã€‚å¾ˆå®¹æ˜“æŠŠäººææ™•ã€‚è®°ä½ä¸€ä¸ªåŸåˆ™ï¼š</span><strong><span>ç»™æœåŠ¡å™¨ç”¨çš„ç›´æ¥ä»èµ„æºåå¼€å§‹å†™ï¼Œç»™æµè§ˆå™¨ç”¨çš„è¦æŠŠåº”ç”¨åå†™ä¸Š</span></strong></p><ul><li><p><span>request.getRequestDispatcher(&quot;/èµ„æºå URI&quot;).forward(request,response)</span></p><ul><li><strong><span>è½¬å‘æ—¶&quot;/&quot;ä»£è¡¨çš„æ˜¯æœ¬åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ã€zhongfuchengã€‘</span></strong></li></ul></li><li><p><span>response.send(&quot;/webåº”ç”¨/èµ„æºå URI&quot;);</span></p><ul><li><strong><span>é‡å®šå‘æ—¶&quot;/&quot;ä»£è¡¨çš„æ˜¯webappsç›®å½•</span></strong></li></ul></li></ul><h4><a name="383èƒ½å¤Ÿå»å¾€çš„urlçš„èŒƒå›´ä¸ä¸€æ ·" class="md-header-anchor"></a><span>3.8.3èƒ½å¤Ÿå»å¾€çš„URLçš„èŒƒå›´ä¸ä¸€æ ·</span></h4><ul><li><strong><span>è½¬å‘æ˜¯æœåŠ¡å™¨è·³è½¬åªèƒ½å»å¾€å½“å‰webåº”ç”¨çš„èµ„æº</span></strong></li><li><strong><span>é‡å®šå‘æ˜¯æœåŠ¡å™¨è·³è½¬ï¼Œå¯ä»¥å»å¾€ä»»ä½•çš„èµ„æº</span></strong></li></ul><h4><a name="384ä¼ é€’æ•°æ®çš„ç±»å‹ä¸åŒ" class="md-header-anchor"></a><span>3.8.4ä¼ é€’æ•°æ®çš„ç±»å‹ä¸åŒ</span></h4><ul><li><strong><span>è½¬å‘çš„requestå¯¹è±¡å¯ä»¥ä¼ é€’å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬å¯¹è±¡</span></strong></li><li><strong><span>é‡å®šå‘åªèƒ½ä¼ é€’å­—ç¬¦ä¸²</span></strong></li></ul><h4><a name="385è·³è½¬çš„æ—¶é—´ä¸åŒ" class="md-header-anchor"></a><span>3.8.5è·³è½¬çš„æ—¶é—´ä¸åŒ</span></h4><ul><li><strong><span>è½¬å‘æ—¶ï¼šæ‰§è¡Œåˆ°è·³è½¬è¯­å¥æ—¶å°±ä¼šç«‹åˆ»è·³è½¬</span></strong></li><li><strong><span>é‡å®šå‘ï¼šæ•´ä¸ªé¡µé¢æ‰§è¡Œå®Œä¹‹åæ‰æ‰§è¡Œè·³è½¬</span></strong></li></ul><h3><a name="39-è½¬å‘å’Œé‡å®šå‘ä½¿ç”¨å“ªä¸€ä¸ª" class="md-header-anchor"></a><span>3.9 è½¬å‘å’Œé‡å®šå‘ä½¿ç”¨å“ªä¸€ä¸ªï¼Ÿ</span></h3><p><span>æ ¹æ®ä¸Šé¢è¯´æ˜äº†è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“æ¦‚æ‹¬å‡ºæ¥</span><strong><span>ã€‚è½¬å‘æ˜¯å¸¦ç€è½¬å‘å‰çš„è¯·æ±‚çš„å‚æ•°çš„ã€‚é‡å®šå‘æ˜¯æ–°çš„è¯·æ±‚</span></strong><span>ã€‚</span></p><p><span>å…¸å‹çš„åº”ç”¨åœºæ™¯ï¼š</span></p><ol start='' ><li><span>è½¬å‘: è®¿é—® Servlet å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œç„¶å forward åˆ° jsp æ˜¾ç¤ºå¤„ç†ç»“æœï¼Œæµè§ˆå™¨é‡Œ URL ä¸å˜</span></li><li><span>é‡å®šå‘: æäº¤è¡¨å•ï¼Œå¤„ç†æˆåŠŸå redirect åˆ°å¦ä¸€ä¸ª jspï¼Œé˜²æ­¢è¡¨å•é‡å¤æäº¤ï¼Œæµè§ˆå™¨é‡Œ URL å˜äº†</span></li></ol><hr /><h3><a name="310-requestdispatcherå†è¯´æ˜" class="md-header-anchor"></a><span>3.10 RequestDispatcherå†è¯´æ˜</span></h3><p><span>RequestDispatcherå¯¹è±¡è°ƒç”¨forward()å¯ä»¥å®ç°è½¬å‘ä¸Šé¢å·²ç»è¯´è¿‡äº†ã€‚RequestDispatcherè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ–¹æ³•include()ï¼Œè¯¥æ–¹æ³•å¯ä»¥å®ç°åŒ…å«ï¼Œæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ</span></p><p><span>æˆ‘ä»¬åœ¨å†™ç½‘é¡µçš„æ—¶å€™ï¼Œä¸€èˆ¬ç½‘</span><strong><span>é¡µçš„å¤´éƒ¨å’Œå°¾éƒ¨æ˜¯ä¸éœ€è¦æ”¹å˜çš„</span></strong><span>ã€‚å¦‚æœæˆ‘ä»¬</span><strong><span>å¤šä¸ªåœ°æ–¹ä½¿ç”¨Servletè¾“å‡ºç½‘å¤´å’Œç½‘å°¾çš„è¯ï¼Œéœ€è¦æŠŠä»£ç é‡æ–°å†™ä¸€é</span></strong><span>ã€‚è€Œä½¿ç”¨RequestDispatcherçš„</span><strong><span>include()æ–¹æ³•å°±å¯ä»¥å®ç°åŒ…å«ç½‘å¤´å’Œç½‘å°¾çš„æ•ˆæœäº†</span></strong><span>ã€‚</span></p><p>&nbsp;</p><p><span>æˆ‘ä»¬æ¥æ“ä½œå§ï¼ç°åœ¨æˆ‘æœ‰ç½‘å¤´å’Œç½‘å°¾çš„Servlet</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d91e13a9d3?w=359&amp;h=394&amp;f=png&amp;s=7958" referrerpolicy="no-referrer"></p><p><span>ä½¿ç”¨Servlet111å°†ç½‘å¤´å’Œç½‘å°¾åŒ…å«</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">getRequestDispatcher</span>(<span class="cm-string">"/Head"</span>).<span class="cm-variable">include</span>(<span class="cm-variable">request</span>, <span class="cm-variable">response</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"--------------------------------------------"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">getRequestDispatcher</span>(<span class="cm-string">"/Foot"</span>).<span class="cm-variable">include</span>(<span class="cm-variable">request</span>, <span class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 154px;"></div><div class="CodeMirror-gutters" style="display: none; height: 154px;"></div></div></div></pre><p><span>è®¿é—®ä¸€ä¸‹Servlet111,æˆåŠŸæŠŠç½‘å¤´å’Œç½‘å°¾åŒ…å«äº†</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/1615f9d9298d691d?w=873&amp;h=369&amp;f=png&amp;s=17953" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyx2nezzg306o06o3yb.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h1><a name="cookie" class="md-header-anchor"></a><span>Cookie</span></h1><p>&nbsp;</p><h2><a name="1-ä»€ä¹ˆæ˜¯ä¼šè¯æŠ€æœ¯" class="md-header-anchor"></a><span>1. ä»€ä¹ˆæ˜¯ä¼šè¯æŠ€æœ¯</span></h2><blockquote><p><span>åŸºæœ¬æ¦‚å¿µ: æŒ‡ç”¨æˆ·å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œ</span><strong><span>è®¿é—®ä¸€ä¸ªç½‘ç«™,åªè¦ä¸å…³é—­è¯¥æµè§ˆå™¨ï¼Œä¸ç®¡è¯¥ç”¨æˆ·ç‚¹å‡»å¤šå°‘ä¸ªè¶…é“¾æ¥ï¼Œè®¿é—®å¤šå°‘èµ„æºï¼Œç›´åˆ°ç”¨æˆ·å…³é—­æµè§ˆå™¨ï¼Œæ•´ä¸ªè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ç§°ä¸ºä¸€æ¬¡ä¼šè¯</span></strong><span>.</span></p></blockquote><h2><a name="2-ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨ä¼šè¯æŠ€æœ¯" class="md-header-anchor"></a><span>2. ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ä½¿ç”¨ä¼šè¯æŠ€æœ¯ï¼Ÿ</span></h2><p><span>ä¼šè¯è·Ÿè¸ªæŠ€æœ¯å¯ä»¥è§£å†³æˆ‘ä»¬å¾ˆå¤šå¾ˆå¤šé—®é¢˜ã€‚</span></p><ul><li><span>åœ¨è®ºå›ç™»é™†çš„æ—¶å€™ï¼Œ</span><strong><span>å¾ˆå¤šæ—¶å€™ä¼šæœ‰ä¸€ä¸ªå°æ¡†æ¡†é—®ä½ æ˜¯å¦è¦è‡ªåŠ¨ç™»é™†ï¼Œå½“ä½ ä¸‹æ¬¡ç™»é™†çš„æ—¶å€™å°±ä¸ç”¨è¾“å…¥å¯†ç äº†</span></strong></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1b9e06857?w=412&amp;h=412&amp;f=png&amp;s=10406" referrerpolicy="no-referrer"></p><ul><li><strong><span>æ ¹æ®æˆ‘ä»¥å‰æµè§ˆè¿‡çš„å•†å“ï¼ŒçŒœæˆ‘å–œæ¬¢ä»€ä¹ˆå•†å“</span></strong><span>ï¼ˆè¦çŒœæˆ‘å–œæ¬¢ï¼Œæ€»å¾—çŸ¥é“â€æˆ‘æ˜¯è°â€œï¼‰</span></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1b987e57d?w=1583&amp;h=490&amp;f=png&amp;s=699056" referrerpolicy="no-referrer"></p><hr /><h2><a name="3-cookie" class="md-header-anchor"></a><span>3. Cookie</span></h2><p><strong><span>ä¼šè¯è·Ÿè¸ªæŠ€æœ¯æœ‰Cookieå’ŒSession</span></strong><span>ï¼Œ</span><strong><span>CookieæŠ€æœ¯æ˜¯å…ˆå‡ºç°çš„</span></strong><span>ã€‚æˆ‘ä»¬å…ˆè®²CookieæŠ€æœ¯å§ã€‚</span></p><h3><a name="31-ä»€ä¹ˆæ˜¯cookie" class="md-header-anchor"></a><span>3.1 ä»€ä¹ˆæ˜¯Cookie</span></h3><blockquote><p><span>Cookieæ˜¯ç”±W3Cç»„ç»‡æå‡ºï¼Œæœ€æ—©ç”±netscapeç¤¾åŒºå‘å±•çš„ä¸€ç§æœºåˆ¶</span></p></blockquote><ul><li><span>ç½‘é¡µä¹‹é—´çš„</span><strong><span>äº¤äº’æ˜¯é€šè¿‡HTTPåè®®ä¼ è¾“æ•°æ®çš„ï¼Œ</span></strong><span>è€ŒHttpåè®®æ˜¯</span><strong><span>æ— çŠ¶æ€çš„åè®®</span></strong><span>ã€‚æ— çŠ¶æ€çš„åè®®æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</span><strong><span>ä¸€æ—¦æ•°æ®æäº¤å®Œåï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„è¿æ¥å°±ä¼šå…³é—­ï¼Œå†æ¬¡äº¤äº’çš„æ—¶å€™éœ€è¦é‡æ–°å»ºç«‹æ–°çš„è¿æ¥</span></strong><span>ã€‚</span></li><li><span>æœåŠ¡å™¨æ— æ³•ç¡®è®¤ç”¨æˆ·çš„ä¿¡æ¯ï¼Œäºæ˜¯ä¹ï¼ŒW3Cå°±æå‡ºäº†ï¼š</span><strong><span>ç»™æ¯ä¸€ä¸ªç”¨æˆ·éƒ½å‘ä¸€ä¸ªé€šè¡Œè¯ï¼Œæ— è®ºè°è®¿é—®çš„æ—¶å€™éƒ½éœ€è¦æºå¸¦é€šè¡Œè¯ï¼Œè¿™æ ·æœåŠ¡å™¨å°±å¯ä»¥ä»é€šè¡Œè¯ä¸Šç¡®è®¤ç”¨æˆ·çš„ä¿¡æ¯</span></strong><span>ã€‚é€šè¡Œè¯å°±æ˜¯Cookie</span></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba505779d02b?w=842&amp;h=390&amp;f=png&amp;s=20785" referrerpolicy="no-referrer"></p><hr /><p>&nbsp;</p><p><span>Cookieçš„æµç¨‹ï¼šæµè§ˆå™¨è®¿é—®æœåŠ¡å™¨ï¼Œ</span><strong><span>å¦‚æœæœåŠ¡å™¨éœ€è¦è®°å½•è¯¥ç”¨æˆ·çš„çŠ¶æ€ï¼Œå°±ä½¿ç”¨responseå‘æµè§ˆå™¨å‘é€ä¸€ä¸ªCookieï¼Œæµè§ˆå™¨ä¼šæŠŠCookieä¿å­˜èµ·æ¥ã€‚å½“æµè§ˆå™¨å†æ¬¡è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šæŠŠè¯·æ±‚çš„ç½‘å€è¿åŒCookieä¸€åŒäº¤ç»™æœåŠ¡å™¨</span></strong><span>ã€‚</span></p><h3><a name="32cookie-api" class="md-header-anchor"></a><span>3.2Cookie API</span></h3><ul><li><span>Cookieç±»ç”¨äºåˆ›å»ºä¸€ä¸ªCookieå¯¹è±¡</span></li><li><span>responseæ¥å£ä¸­å®šä¹‰äº†ä¸€ä¸ªaddCookieæ–¹æ³•ï¼Œå®ƒç”¨äºåœ¨å…¶å“åº”å¤´ä¸­å¢åŠ ä¸€ä¸ªç›¸åº”çš„Set-Cookieå¤´å­—æ®µ</span></li><li><span>requestæ¥å£ä¸­å®šä¹‰äº†ä¸€ä¸ªgetCookiesæ–¹æ³•ï¼Œå®ƒç”¨äºè·å–å®¢æˆ·ç«¯æäº¤çš„Cookie</span></li></ul><p><span>å¸¸ç”¨çš„Cookieæ–¹æ³•ï¼š</span></p><ul><li><span>public Cookie(String name,String value)</span></li><li><span>setValueä¸getValueæ–¹æ³• </span></li><li><span>setMaxAgeä¸getMaxAgeæ–¹æ³• </span></li><li><span>setPathä¸getPathæ–¹æ³• </span></li><li><span>setDomainä¸getDomainæ–¹æ³•</span></li><li><span>getNameæ–¹æ³• </span></li></ul><h3><a name="33ç®€å•ä½¿ç”¨cookie" class="md-header-anchor"></a><span>3.3ç®€å•ä½¿ç”¨Cookie</span></h3><p><span>åˆ›å»ºCookieå¯¹è±¡ï¼Œå‘é€Cookieç»™æµè§ˆå™¨ã€</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®responseçš„ç¼–ç </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åˆ›å»ºCookieå¯¹è±¡ï¼ŒæŒ‡å®šåç§°å’Œå€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"username"</span>, <span class="cm-string">"zhongfucheng"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å‘æµè§ˆå™¨ç»™ä¸€ä¸ªCookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"æˆ‘å·²ç»å‘æµè§ˆå™¨å‘é€äº†ä¸€ä¸ªCookie"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><p><span>æµè§ˆå™¨æœ¬èº«æ²¡æœ‰ä»»ä½•Cookie</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1ba885e8b?w=1079&amp;h=356&amp;f=png&amp;s=17546" referrerpolicy="no-referrer"></p><p><span>è®¿é—®Servlet1ï¼Œ</span><strong><span>å†å›åˆ°æ–‡ä»¶å¤¹ä¸­ï¼Œè¿˜æ˜¯æ²¡æœ‰å‘ç°Cookieï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘æ˜æ˜å‘æµè§ˆå™¨å‘é€äº†ä¸€ä¸ªCookieçš„</span></strong><span>ã€‚</span></p><p>&nbsp;</p><p><span>åŸæ¥</span><strong><span>å‘é€Cookieç»™æµè§ˆå™¨æ˜¯éœ€è¦è®¾ç½®Cookieçš„æ—¶é—´çš„</span></strong><span>ã€‚åœ¨ç»™æµè§ˆå™¨ä¹‹å‰ï¼Œè®¾ç½®ä¸€ä¸‹Cookieçš„æ—¶é—´</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®Cookieçš„æ—¶é—´</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">1000</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å†æ¬¡è®¿é—®ï¼Œå·²ç»å‘ç°æ–‡ä»¶å¤¹ä¸­å¤šäº†ä¸ªCookieçš„æ–‡æœ¬äº†</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1bba8c2da?w=772&amp;h=351&amp;f=png&amp;s=10855" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyxk0p5kj3073073glh.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h2><a name="4cookieç»†èŠ‚" class="md-header-anchor"></a><span>4.Cookieç»†èŠ‚</span></h2><h3><a name="41cookieä¸å¯è·¨åŸŸåæ€§" class="md-header-anchor"></a><span>4.1Cookieä¸å¯è·¨åŸŸåæ€§</span></h3><p><span>å¾ˆå¤šäººåœ¨åˆå­¦çš„æ—¶å€™å¯èƒ½æœ‰ä¸€ä¸ªç–‘é—®ï¼šåœ¨è®¿é—®Servletçš„æ—¶å€™æµè§ˆå™¨</span><strong><span>æ˜¯ä¸æ˜¯æŠŠæ‰€æœ‰çš„Cookieéƒ½å¸¦è¿‡å»ç»™æœåŠ¡å™¨</span></strong><span>ï¼Œ</span><strong><span>ä¼šä¸ä¼šä¿®æ”¹äº†åˆ«çš„ç½‘ç«™çš„Cookie</span></strong></p><p>&nbsp;</p><p><span>ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚Cookieå…·æœ‰ä¸å¯è·¨åŸŸåæ€§ã€‚æµè§ˆå™¨åˆ¤æ–­</span><strong><span>ä¸€ä¸ªç½‘ç«™æ˜¯å¦èƒ½æ“ä½œå¦ä¸€ä¸ªç½‘ç«™çš„Cookieçš„ä¾æ®æ˜¯åŸŸå</span></strong><span>ã€‚æ‰€ä»¥ä¸€èˆ¬æ¥è¯´ï¼Œ</span><strong><span>å½“æˆ‘è®¿é—®baiduçš„æ—¶å€™ï¼Œæµè§ˆå™¨åªä¼šæŠŠbaidué¢å‘çš„Cookieå¸¦è¿‡å»ï¼Œè€Œä¸ä¼šå¸¦ä¸Šgoogleçš„Cookieã€‚</span></strong></p><h3><a name="42-cookieä¿å­˜ä¸­æ–‡" class="md-header-anchor"></a><span>4.2 Cookieä¿å­˜ä¸­æ–‡</span></h3><p><span>ä¸Šé¢æˆ‘ä»¬çš„ä¾‹å­ä¿å­˜çš„æ˜¯è‹±æ–‡å­—ç¬¦ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹ä¿å­˜ä¸­æ–‡å­—ç¬¦ä¼šæ€ä¹ˆæ ·ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-string">"ä¸­å›½"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"country"</span>, <span class="cm-variable">name</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">2000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æˆ‘é¢å‘äº†ä¸€ä¸ªCookieï¼Œå€¼ä¿å­˜çš„æ˜¯ä¸­æ–‡æ•°æ®"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><p><span>è®¿é—®Servlet1ï¼Œå¥½å§ã€‚å‡ºå¼‚å¸¸äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1bcba9bf4?w=1264&amp;h=578&amp;f=png&amp;s=28832" referrerpolicy="no-referrer"></p><p><strong><span>ä¸­æ–‡å±äºUnicodeå­—ç¬¦ï¼Œè‹±æ–‡æ•°æ®ASCIIå­—ç¬¦ï¼Œä¸­æ–‡å 4ä¸ªå­—ç¬¦æˆ–è€…3ä¸ªå­—ç¬¦ï¼Œè‹±æ–‡å 2ä¸ªå­—ç¬¦ã€‚</span></strong><span>è§£å†³ï¼š</span><strong><span>Cookieä½¿ç”¨Unicodeå­—ç¬¦æ—¶éœ€è¦å¯¹Unicodeå­—ç¬¦è¿›è¡Œç¼–ç ã€‚</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¯¹Unicodeå­—ç¬¦è¿›è¡Œç¼–ç </span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"country"</span>, <span class="cm-variable">URLEncoder</span>.<span class="cm-variable">encode</span>(<span class="cm-variable">name</span>, <span class="cm-string">"UTF-8"</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 44px;"></div><div class="CodeMirror-gutters" style="display: none; height: 44px;"></div></div></div></pre><p><span>å†æ¬¡è®¿é—®Servlet1ï¼Œå·²ç»æŠŠCookieæˆåŠŸé¢å‘ç»™æµè§ˆå™¨äº†</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1bf4c839d?w=919&amp;h=254&amp;f=png&amp;s=7971" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1fe11e39b?w=1475&amp;h=151&amp;f=png&amp;s=5677" referrerpolicy="no-referrer"></p><p><span>æˆ‘ä»¬å‘ç°Cookieä¿å­˜åœ¨ç¡¬ç›˜çš„ä¸­æ–‡æ•°æ®æ˜¯ç»è¿‡ç¼–ç çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨</span><strong><span>å–å‡ºCookieçš„æ—¶å€™è¦å¯¹ä¸­æ–‡æ•°æ®è¿›è¡Œè§£ç </span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span>[] <span class="cm-variable">cookies</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getCookies</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">cookies</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">cookies</span>.<span class="cm-variable">length</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getName</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//ç»è¿‡URLEncodingå°±è¦URLDecoding</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> <span class="cm-variable">URLDecoder</span>.<span class="cm-variable">decode</span>(<span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getValue</span>(), <span class="cm-string">"UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">name</span> <span class="cm-operator">+</span> <span class="cm-string">"------"</span> <span class="cm-operator">+</span> <span class="cm-variable">value</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><p><span>å–å‡ºå­˜è¿›Cookieçš„å€¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e1fe39da73?w=1233&amp;h=193&amp;f=png&amp;s=7812" referrerpolicy="no-referrer"></p><h3><a name="43cookieçš„æœ‰æ•ˆæœŸ" class="md-header-anchor"></a><span>4.3Cookieçš„æœ‰æ•ˆæœŸ</span></h3><p><strong><span>Cookieçš„æœ‰æ•ˆæœŸæ˜¯é€šè¿‡setMaxAge()æ¥è®¾ç½®çš„</span></strong><span>ã€‚</span></p><ul><li><span>å¦‚æœMaxAgeä¸º</span><strong><span>æ­£æ•°</span></strong><span>ï¼Œ</span><strong><span>æµè§ˆå™¨ä¼šæŠŠCookieå†™åˆ°ç¡¬ç›˜ä¸­ï¼Œåªè¦è¿˜åœ¨MaxAgeç§’ä¹‹å‰ï¼Œç™»é™†ç½‘ç«™æ—¶è¯¥Cookieå°±æœ‰æ•ˆ</span></strong><span>ã€ä¸è®ºå…³é—­äº†æµè§ˆå™¨è¿˜æ˜¯ç”µè„‘ã€‘</span></li><li><span>å¦‚æœMaxAgeä¸º</span><strong><span>è´Ÿæ•°</span></strong><span>ï¼Œ</span><strong><span>Cookieæ˜¯ä¸´æ—¶æ€§çš„ï¼Œä»…åœ¨æœ¬æµè§ˆå™¨å†…æœ‰æ•ˆ</span></strong><span>ï¼Œå…³é—­æµè§ˆå™¨Cookieå°±å¤±æ•ˆäº†ï¼ŒCookieä¸ä¼šå†™åˆ°ç¡¬ç›˜ä¸­ã€‚Cookieé»˜è®¤å€¼å°±æ˜¯-1ã€‚è¿™ä¹Ÿå°±ä¸ºä»€ä¹ˆåœ¨æˆ‘ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘æ²¡è®¾ç½®Cookieçš„æœ‰æ•ˆæœŸï¼Œåœ¨ç¡¬ç›˜ä¸­å°±æ‰¾ä¸åˆ°å¯¹åº”çš„æ–‡ä»¶ã€‚</span></li><li><span>å¦‚æœMaxAgeä¸º</span><strong><span>0</span></strong><span>ï¼Œåˆ™è¡¨ç¤º</span><strong><span>åˆ é™¤è¯¥Cookie</span></strong><span>ã€‚Cookieæœºåˆ¶æ²¡æœ‰æä¾›åˆ é™¤Cookieå¯¹åº”çš„æ–¹æ³•ï¼ŒæŠŠMaxAgeè®¾ç½®ä¸º0ç­‰åŒäºåˆ é™¤Cookie</span></li></ul><h3><a name="44-cookieçš„ä¿®æ”¹å’Œåˆ é™¤" class="md-header-anchor"></a><span>4.4 Cookieçš„ä¿®æ”¹å’Œåˆ é™¤</span></h3><p><span>ä¸Šé¢æˆ‘ä»¬å·²ç»çŸ¥é“äº†Cookieæœºåˆ¶æ²¡æœ‰æä¾›åˆ é™¤Cookieçš„æ–¹æ³•ã€‚å…¶å®ç»†å¿ƒç‚¹æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒCookieæœºåˆ¶ä¹Ÿæ²¡æœ‰æä¾›ä¿®æ”¹Cookieçš„æ–¹æ³•ã€‚é‚£ä¹ˆæˆ‘ä»¬</span><strong><span>æ€ä¹ˆä¿®æ”¹Cookieçš„å€¼å‘¢</span></strong><span>ï¼Ÿ</span></p><p>&nbsp;</p><p><span>Cookieå­˜å‚¨çš„æ–¹å¼</span><strong><span>ç±»ä¼¼äºMapé›†åˆ</span></strong><span>ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2004ad196?w=167&amp;h=228&amp;f=png&amp;s=5322" referrerpolicy="no-referrer"></p><p><strong><span>Cookieçš„åç§°ç›¸åŒï¼Œé€šè¿‡responseæ·»åŠ åˆ°æµè§ˆå™¨ä¸­ï¼Œä¼šè¦†ç›–åŸæ¥çš„Cookie</span></strong><span>ã€‚ä»¥countryä¸ºåä¿å­˜çš„æ˜¯%E4%B8%AD%E5%9B%BDï¼Œä¸‹é¢æˆ‘</span><strong><span>å†ä»¥countryä¸ºåï¼ŒæŠŠå€¼æ”¹å˜ä¸€ä¸‹</span></strong><span>ã€‚</span>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e238321536?w=1475&amp;h=151&amp;f=png&amp;s=5683" referrerpolicy="no-referrer"></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-string">"çœ‹å®Œåšå®¢å°±ç‚¹èµ"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¯¹Unicodeå­—ç¬¦è¿›è¡Œç¼–ç </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"country"</span>, <span class="cm-variable">URLEncoder</span>.<span class="cm-variable">encode</span>(<span class="cm-variable">name</span>, <span class="cm-string">"UTF-8"</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>å†æ¬¡æŸ¥çœ‹Cookieçš„æ—¶å€™ï¼Œ</span><strong><span>å€¼å·²ç»æ”¹å˜äº†ï¼Œä½†æ˜¯æ–‡ä»¶è¿˜æ˜¯é‚£ä¸€ä»½</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e238035d72?w=1475&amp;h=151&amp;f=png&amp;s=6067" referrerpolicy="no-referrer"></p><p><span>ç°åœ¨æˆ‘è¦åˆ é™¤è¯¥Cookieï¼Œ</span><strong><span>æŠŠMaxAgeè®¾ç½®ä¸º0ï¼Œå¹¶æ·»åŠ åˆ°æµè§ˆå™¨ä¸­å³å¯</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-string">"çœ‹å®Œåšå®¢å°±ç‚¹èµ"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¯¹Unicodeå­—ç¬¦è¿›è¡Œç¼–ç </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"country"</span>, <span class="cm-variable">URLEncoder</span>.<span class="cm-variable">encode</span>(<span class="cm-variable">name</span>, <span class="cm-string">"UTF-8"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¸€å®šä¸è¦å¿˜è®°æ·»åŠ åˆ°æµè§ˆå™¨ä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">0</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æˆ‘åˆ é™¤äº†è¯¥Cookie"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><p><span>è®¿é—®Servletï¼Œåœ¨ç¡¬ç›˜å·²ç»æ‰¾ä¸åˆ°Cookieçš„æ–‡ä»¶äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e238b1ca49?w=1233&amp;h=193&amp;f=png&amp;s=7999" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e23a18f3b4?w=1347&amp;h=589&amp;f=png&amp;s=18212" referrerpolicy="no-referrer"></p><p><span>æ³¨æ„ï¼šåˆ é™¤ï¼Œä¿®æ”¹Cookieæ—¶ï¼Œ</span><strong><span>æ–°å»ºçš„Cookieé™¤äº†valueã€maxAgeä¹‹å¤–çš„æ‰€æœ‰å±æ€§éƒ½è¦ä¸åŸCookieç›¸åŒ</span></strong><span>ã€‚å¦åˆ™æµè§ˆå™¨å°†</span><strong><span>è§†ä¸ºä¸åŒçš„Cookieï¼Œä¸äºˆè¦†ç›–ï¼Œå¯¼è‡´åˆ é™¤ä¿®æ”¹å¤±è´¥</span></strong><span>ï¼æˆ‘ä»¬æ¥è¯•éªŒä¸€ä¸‹æŠŠã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-string">"çœ‹å®Œåšå®¢å°±ç‚¹èµ"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¯¹Unicodeå­—ç¬¦è¿›è¡Œç¼–ç </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"country"</span>, <span class="cm-variable">URLEncoder</span>.<span class="cm-variable">encode</span>(<span class="cm-variable">name</span>, <span class="cm-string">"UTF-8"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¸€å®šä¸è¦å¿˜è®°æ·»åŠ åˆ°æµè§ˆå™¨ä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">10000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2392656ca?w=1523&amp;h=720&amp;f=png&amp;s=40182" referrerpolicy="no-referrer"></p><p><span>ä¸Šé¢æ–°å»ºäº†ä¸€ä¸ªCookieï¼Œæˆ‘</span><strong><span>ä¿®æ”¹ä¸‹Cookieçš„å…¶ä»–å±æ€§ï¼Œå†åˆ é™¤ï¼Œçœ‹èƒ½å¦æŠŠCookieåˆ é™¤æ‰</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¸€å®šä¸è¦å¿˜è®°æ·»åŠ åˆ°æµè§ˆå™¨ä¸­</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setPath</span>(<span class="cm-string">"/ouzicheng"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">0</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"åˆ é™¤ä¸€ä¸ªCookie"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>ç»“æœCookieè¿˜åœ¨ç¡¬ç›˜ä¸­</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e27692c203?w=1348&amp;h=379&amp;f=png&amp;s=8342" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyxzxet3j307d06uglp.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h3><a name="45-cookieçš„åŸŸå" class="md-header-anchor"></a><span>4.5 Cookieçš„åŸŸå</span></h3><p><span>Cookieçš„</span><strong><span>domainå±æ€§å†³å®šè¿è¡Œè®¿é—®Cookieçš„åŸŸåã€‚domainçš„å€¼è§„å®šä¸ºâ€œ.åŸŸåâ€</span></strong></p><ul><li><span>Cookieçš„éšç§å®‰å…¨æœºåˆ¶å†³å®šCookieæ˜¯ä¸å¯è·¨åŸŸåçš„ã€‚ä¹Ÿå°±æ˜¯è¯´</span><a href='http://www.baidu.com' target='_blank' class='url'>www.baidu.com</a><span>å’Œ</span><a href='http://www.google.com' target='_blank' class='url'>www.google.com</a><span>ä¹‹é—´çš„Cookieæ˜¯äº’ä¸äº¤æ¥çš„ã€‚</span><strong><span>å³ä½¿æ˜¯åŒä¸€çº§åŸŸåï¼Œä¸åŒäºŒçº§åŸŸåä¹Ÿä¸èƒ½äº¤æ¥</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š</span><a href='http://www.goole.com' target='_blank' class='url'>www.goole.com</a><span>å’Œ</span><a href='http://www.image.goole.com' target='_blank' class='url'>www.image.goole.com</a><span>çš„Cookieä¹Ÿä¸èƒ½è®¿é—®</span></li><li><span>æˆ‘åœ¨æœ¬åœ°ä¸Š</span><strong><span>é…ç½®äº†3ä¸ªè™šæ‹Ÿä¸»æœº</span></strong><span>ï¼Œlocalhost,</span><a href='http://www.zhongfucheng.com,www.image.zhongfucheng.com' target='_blank' class='url'>www.zhongfucheng.com,www.image.zhongfucheng.com</a><span>ã€å¦‚æœä¸çŸ¥é“æ€ä¹ˆé…ç½®ï¼Œåœ¨æˆ‘Tomcatçš„åšå®¢æœ‰ã€‘</span></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e26ea41868?w=1137&amp;h=639&amp;f=png&amp;s=36043" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e28570077b?w=886&amp;h=290&amp;f=png&amp;s=14864" referrerpolicy="no-referrer"></p><p><span>æˆ‘ç”¨</span><a href='http://www.zhongfucheng.com' target='_blank' class='url'>www.zhongfucheng.com</a><span>åŸŸåå‘é€äº†ä¸€ä¸ªCookieç»™æµè§ˆå™¨</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"name"</span>, <span class="cm-string">"zhongfucheng"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">1000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ä½¿ç”¨www.zhongfucheng.comåŸŸåæ·»åŠ äº†ä¸€ä¸ªCookie"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e287ad79e5?w=1185&amp;h=604&amp;f=png&amp;s=56239" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><span>é¦–å…ˆï¼Œè¯æ˜äº†Cookieä¸å¯è·¨åæ€§ï¼ŒlocalhoståŸŸåæ‹¿ä¸åˆ°</span><a href='http://www.zhongfucheng.com' target='_blank' class='url'>www.zhongfucheng.com</a><span>é¢å‘ç»™æµè§ˆå™¨çš„Cookie</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e29e344264?w=1920&amp;h=1040&amp;f=png&amp;s=111819" referrerpolicy="no-referrer"></p><p><span>å†ä½¿ç”¨</span><a href='http://www.image.zhongfucheng.com' target='_blank' class='url'>www.image.zhongfucheng.com</a><span>åŸŸåè®¿é—®,</span><strong><span>è¯æ˜å³ä½¿ä¸€çº§åŸŸåç›¸åŒï¼ŒäºŒçº§åŸŸåä¸åŒï¼Œä¹Ÿä¸èƒ½è·å–åˆ°Cookie</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2a16b2b17?w=1920&amp;h=1040&amp;f=png&amp;s=122704" referrerpolicy="no-referrer"></p><p><span>å½“ç„¶ï¼Œä½¿ç”¨</span><a href='http://www.zhongfucheng.com' target='_blank' class='url'>www.zhongfucheng.com</a><span>å½“ç„¶èƒ½è·å–åˆ°Cookieï¼ŒCookieé€šè¿‡è¯·æ±‚å¤´å¸¦ç»™æœåŠ¡å™¨</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2a1a6b4fe?w=1327&amp;h=739&amp;f=png&amp;s=58715" referrerpolicy="no-referrer"></p><p><span>ç°åœ¨æˆ‘å¸Œæœ›</span><strong><span>ä¸€çº§åŸŸåç›¸åŒçš„ç½‘é¡µCookieä¹‹é—´å¯ä»¥ç›¸äº’è®¿é—®ã€‚ä¹Ÿå°±æ˜¯è¯´</span><a href='http://www.image.zhongfucheng.com' target='_blank' class='url'>www.image.zhongfucheng.com</a><span>å¯ä»¥è·å–åˆ°</span><a href='http://www.zhongfucheng.com' target='_blank' class='url'>www.zhongfucheng.com</a><span>çš„Cookie</span></strong><span>å°±éœ€è¦ä½¿ç”¨åˆ°domainæ–¹æ³•ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"name"</span>, <span class="cm-string">"ouzicheng"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">1000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setDomain</span>(<span class="cm-string">".zhongfucheng.com"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ä½¿ç”¨www.zhongfucheng.comåŸŸåæ·»åŠ äº†ä¸€ä¸ªCookie,åªè¦ä¸€çº§æ˜¯zhongfucheng.comå³å¯è®¿é—®"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 154px;"></div><div class="CodeMirror-gutters" style="display: none; height: 154px;"></div></div></div></pre><p><span>ä½¿ç”¨</span><a href='http://www.zhongfucheng.com' target='_blank' class='url'>www.zhongfucheng.com</a><span>å‘å¸ƒä¸€ä¸ªCookie</span>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2a195d523?w=1174&amp;h=238&amp;f=png&amp;s=23501" referrerpolicy="no-referrer"></p><p><span>ä½¿ç”¨</span><a href='http://www.image.zhongfucheng.com' target='_blank' class='url'>www.image.zhongfucheng.com</a><span>åŸŸåè®¿é—®ä¸€ä¸‹ã€‚</span><strong><span>å‘ç°å¯ä»¥è·å–åˆ°Cookieäº†</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2b3db7f59?w=1174&amp;h=729&amp;f=png&amp;s=59885" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h3><a name="46-cookieçš„è·¯å¾„" class="md-header-anchor"></a><span>4.6 Cookieçš„è·¯å¾„</span></h3><p><strong><span>Cookieçš„pathå±æ€§å†³å®šå…è®¸è®¿é—®Cookieçš„è·¯å¾„</span></strong><span>ã€‚ä¸€èˆ¬åœ°ï¼Œ</span><strong><span>Cookieå‘å¸ƒå‡ºæ¥ï¼Œæ•´ä¸ªç½‘é¡µçš„èµ„æºéƒ½å¯ä»¥ä½¿ç”¨ã€‚ç°åœ¨æˆ‘åªæƒ³Servlet1å¯ä»¥è·å–åˆ°Cookieï¼Œå…¶ä»–çš„èµ„æºä¸èƒ½è·å–</span></strong><span>ã€‚</span></p><p>&nbsp;</p><p><span>ä½¿ç”¨Servlet2é¢å‘ä¸€ä¸ªCookieç»™æµè§ˆå™¨,è®¾ç½®è·¯å¾„ä¸º&quot;/Servlet1&quot;ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"username"</span>, <span class="cm-string">"java"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setPath</span>(<span class="cm-string">"/Servlet1"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">1000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"è¯¥Cookieåªæœ‰Servlet1è·å–å¾—åˆ°"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>ä½¿ç”¨Servlet3è®¿é—®æœåŠ¡å™¨ï¼Œçœ‹çœ‹æµè§ˆå™¨æ˜¯å¦æŠŠCookieå¸¦ä¸Šã€‚æ˜¾ç„¶ï¼Œæµè§ˆå™¨è®¿é—®Servlet3å¹¶æ²¡æœ‰æŠŠCookieå¸¦ä¸Šã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2bd640d09?w=1174&amp;h=729&amp;f=png&amp;s=77560" referrerpolicy="no-referrer"></p><p><span>ä½¿ç”¨Servlet1è®¿é—®æœåŠ¡å™¨ï¼Œçœ‹çœ‹æµè§ˆå™¨æ˜¯å¦æŠŠCookieå¸¦ä¸Šã€‚ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2ef26f80e?w=1174&amp;h=729&amp;f=png&amp;s=55210" referrerpolicy="no-referrer"></p><hr /><h3><a name="47-cookieçš„å®‰å…¨å±æ€§" class="md-header-anchor"></a><span>4.7 Cookieçš„å®‰å…¨å±æ€§</span></h3><ul><li><span>HTTPåè®®ä¸ä»…ä»…æ˜¯æ— çŠ¶æ€çš„ï¼Œè€Œä¸”æ˜¯ä¸å®‰å…¨çš„ï¼å¦‚æœä¸å¸Œæœ›Cookieåœ¨éå®‰å…¨åè®®ä¸­ä¼ è¾“ï¼Œå¯ä»¥</span><strong><span>è®¾ç½®Cookieçš„secureå±æ€§ä¸ºtrueï¼Œæµè§ˆå™¨åªä¼šåœ¨HTTPSå’ŒSSLç­‰å®‰å…¨åè®®ä¸­ä¼ è¾“è¯¥Cookie</span></strong><span>ã€‚</span></li><li><span>å½“ç„¶äº†ï¼Œè®¾ç½®secureå±æ€§ä¸ä¼šå°†Cookieçš„å†…å®¹åŠ å¯†ã€‚å¦‚æœæƒ³è¦ä¿è¯å®‰å…¨ï¼Œæœ€å¥½ä½¿ç”¨md5ç®—æ³•åŠ å¯†ã€åé¢æœ‰ã€‘ã€‚</span></li></ul><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyycpfyog308c08cmyo.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h2><a name="5-cookieçš„åº”ç”¨" class="md-header-anchor"></a><span>5. Cookieçš„åº”ç”¨</span></h2><h3><a name="51æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´" class="md-header-anchor"></a><span>5.1æ˜¾ç¤ºç”¨æˆ·ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´</span></h3><ul><li><p><span>å…¶å®å°±æ˜¯</span><strong><span>æ¯æ¬¡ç™»é™†çš„æ—¶å€™ï¼Œå–åˆ°Cookieä¿å­˜çš„å€¼ï¼Œå†æ›´æ–°ä¸‹Cookieçš„å€¼</span></strong><span>ã€‚</span></p></li><li><p><span>è®¿é—®Serlvetæœ‰ä¸¤ç§æƒ…å†µ</span></p><ul><li><span>ç¬¬ä¸€æ¬¡è®¿é—®</span></li><li><span>å·²ç»è®¿é—®è¿‡äº†</span></li></ul></li><li><p><span>å…¨éƒ¨ä»£ç å¦‚ä¸‹ï¼š</span></p></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">SimpleDateFormat</span> <span class="cm-variable">simpleDateFormat</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">SimpleDateFormat</span>(<span class="cm-string">"yyyy-MM-dd HH:mm:ss"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–ç½‘é¡µä¸Šæ‰€æœ‰çš„Cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span>[] <span class="cm-variable">cookies</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getCookies</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åˆ¤æ–­Cookieçš„å€¼æ˜¯å¦ä¸ºç©º</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">cookieValue</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">cookies</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">cookies</span>.<span class="cm-variable">length</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//è·å–åˆ°ä»¥timeä¸ºåçš„Cookie</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getName</span>().<span class="cm-variable">equals</span>(<span class="cm-string">"time"</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æ‚¨ä¸Šæ¬¡ç™»é™†çš„æ—¶é—´æ˜¯ï¼š"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cookieValue</span> <span class="cm-operator">=</span> <span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getValue</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">cookieValue</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">setValue</span>(<span class="cm-variable">simpleDateFormat</span>.<span class="cm-variable">format</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Date</span>()));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>]);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//æ—¢ç„¶å·²ç»æ‰¾åˆ°äº†å°±å¯ä»¥breakå¾ªç¯äº†</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¦‚æœCookieçš„å€¼æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">cookieValue</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//åˆ›å»ºä¸€ä¸ªCookieå¯¹è±¡ï¼Œæ—¥æœŸä¸ºå½“å‰æ—¶é—´</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"time"</span>, <span class="cm-variable">simpleDateFormat</span>.<span class="cm-variable">format</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Date</span>()));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//è®¾ç½®Cookieçš„ç”Ÿå‘½æœŸ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">20000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//responseå¯¹è±¡å›é€Cookieç»™æµè§ˆå™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æ‚¨æ˜¯ç¬¬ä¸€æ¬¡ç™»é™†å•Šï¼"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 902px;"></div><div class="CodeMirror-gutters" style="display: none; height: 902px;"></div></div></div></pre><ul><li><strong><span>æŒ‰ç…§æ­£å¸¸çš„é€»è¾‘æ¥å†™ï¼Œç¨‹åºæµç¨‹åº”è¯¥æ˜¯è¿™æ ·å­çš„ã€‚å…ˆåˆ›å»ºCookieå¯¹è±¡ï¼Œå›é€Cookieç»™æµè§ˆå™¨ã€‚å†éå†Cookieï¼Œæ›´æ–°Cookieçš„å€¼</span></strong><span>ã€‚</span></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2d890fbb4?w=826&amp;h=442&amp;f=png&amp;s=25152" referrerpolicy="no-referrer"></p><ul><li><span>ä½†æ˜¯ï¼ŒæŒ‰ç…§ä¸Šé¢çš„é€»è¾‘æ˜¯åšä¸åˆ°çš„ï¼</span><strong><span>å› ä¸ºæ¯æ¬¡è®¿é—®Servletçš„æ—¶å€™éƒ½ä¼šè¦†ç›–åŸæ¥çš„Cookieï¼Œå–åˆ°Cookieçš„å€¼æ°¸è¿œéƒ½æ˜¯å½“å‰æ—¶é—´ï¼Œè€Œä¸æ˜¯ä¸Šæ¬¡ä¿å­˜çš„æ—¶é—´ã€‚</span></strong></li><li><span>æˆ‘ä»¬æ¢ä¸€ä¸ªé€»è¾‘å†™ï¼š</span><strong><span>å…ˆæ£€æŸ¥ï¼ˆéå†ï¼‰æ‰€æœ‰Cookieæœ‰æ²¡æœ‰æˆ‘è¦çš„ï¼Œå¦‚æœå¾—ä¸åˆ°æˆ‘æƒ³è¦çš„Cookieï¼ŒCookieçš„å€¼æ˜¯nullï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¬ä¸€æ¬¡ç™»é™†</span></strong><span>ï¼Œäºæ˜¯å°±æœ‰äº†ä¸Šé¢çš„ä»£ç äº†ã€‚</span></li></ul><ul><li><span>æˆ‘ä»¬æ¥çœ‹ä¸‹æ•ˆæœå§ï¼å½“æˆ‘ç¬¬ä¸€æ¬¡ç™»é™†çš„æ—¶å€™</span></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e2f62572a0?w=1566&amp;h=578&amp;f=png&amp;s=11238" referrerpolicy="no-referrer"></p><p><span>Cookieä¿å­˜åœ¨ç¡¬ç›˜ä¸­ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e31a745a66?w=1475&amp;h=151&amp;f=png&amp;s=5729" referrerpolicy="no-referrer"></p><p><span>å†æ¬¡è®¿é—®Servletã€‚</span><strong><span>æ˜æ˜¾åœ°ï¼Œå–åˆ°çš„å°±æ˜¯Cookieçš„å€¼</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e329bcd824?w=1566&amp;h=578&amp;f=png&amp;s=12049" referrerpolicy="no-referrer"></p><h3><a name="52æ˜¾ç¤ºä¸Šæ¬¡æµè§ˆè¿‡å•†å“" class="md-header-anchor"></a><span>5.2æ˜¾ç¤ºä¸Šæ¬¡æµè§ˆè¿‡å•†å“</span></h3><p><span>æˆ‘å°±ä»¥ä¹¦ç±ä¸ºä¾‹å­äº†ï¼</span><strong><span>é¦–å…ˆè®¾è®¡Bookå¯¹è±¡</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">id</span> ;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">name</span> ;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">author</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">Book</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-variable">Book</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">id</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">name</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">author</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-variable">id</span> <span class="cm-operator">=</span> <span class="cm-variable">id</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-variable">name</span> <span class="cm-operator">=</span> <span class="cm-variable">name</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this</span>.<span class="cm-variable">author</span> <span class="cm-operator">=</span> <span class="cm-variable">author</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span>...<span class="cm-variable">å„ç§setã€getæ–¹æ³•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 330px;"></div><div class="CodeMirror-gutters" style="display: none; height: 330px;"></div></div></div></pre><p><span>è®¾è®¡ä¸€ä¸ªç®€å•çš„æ•°æ®åº“å­˜å‚¨æ•°æ®ã€‚å°±ç”¨</span><strong><span>LinkedHashMapé›†åˆã€æ ¹æ®å•†å“çš„idæ‰¾ä¹¦ç±æ‰€ä»¥ç”¨Mapï¼Œåˆ æ”¹è¾ƒå¤šæ‰€ä»¥ç”¨Linkedã€‘</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span> <span class="cm-keyword">static</span> <span class="cm-variable">LinkedHashMap</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">linkedHashMap</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">LinkedHashMap</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ç®€åŒ–å¼€å‘å¤æ‚åº¦ï¼Œbookçš„idå’Œå•†å“çš„idç›¸åŒ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">static</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"1"</span>, <span class="cm-keyword">new</span> <span class="cm-variable">Book</span>(<span class="cm-string">"1"</span>, <span class="cm-string">"javaweb"</span>, <span class="cm-string">"zhong"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"2"</span>, <span class="cm-keyword">new</span> <span class="cm-variable">Book</span>(<span class="cm-string">"2"</span>, <span class="cm-string">"java"</span>, <span class="cm-string">"fu"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"3"</span>, <span class="cm-keyword">new</span> <span class="cm-variable">Book</span>(<span class="cm-string">"3"</span>, <span class="cm-string">"oracle"</span>, <span class="cm-string">"cheng"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"4"</span>, <span class="cm-keyword">new</span> <span class="cm-variable">Book</span>(<span class="cm-string">"4"</span>, <span class="cm-string">"mysql"</span>, <span class="cm-string">"ou"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">put</span>(<span class="cm-string">"5"</span>, <span class="cm-keyword">new</span> <span class="cm-variable">Book</span>(<span class="cm-string">"5"</span>, <span class="cm-string">"ajax"</span>, <span class="cm-string">"zi"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°æ‰€æœ‰ä¹¦ç±</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable">LinkedHashMap</span> <span class="cm-def">getAll</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">linkedHashMap</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 396px;"></div><div class="CodeMirror-gutters" style="display: none; height: 396px;"></div></div></div></pre><p><strong><span>æ˜¾ç¤ºç½‘é¡µä¸Šæ‰€æœ‰çš„ä¹¦ç±ã€é¦–é¡µã€‘</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ç½‘é¡µä¸Šæ‰€æœ‰çš„ä¹¦ç±ï¼š"</span><span class="cm-operator">+</span><span class="cm-string">"&lt;br/&gt;"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ‹¿åˆ°æ•°æ®åº“æ‰€æœ‰çš„ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">LinkedHashMap</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">linkedHashMap</span> <span class="cm-operator">=</span> <span class="cm-variable">DB</span>.<span class="cm-variable">getAll</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable">Map</span>.<span class="cm-variable">Entry</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">entry</span> <span class="cm-operator">=</span> <span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">entrySet</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ˜¾ç¤ºæ‰€æœ‰çš„ä¹¦åˆ°ç½‘é¡µä¸Š</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable">Map</span>.<span class="cm-variable">Entry</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">stringBookEntry</span> : <span class="cm-variable">entry</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> <span class="cm-variable">stringBookEntry</span>.<span class="cm-variable">getValue</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">book</span>.<span class="cm-variable">getId</span>() <span class="cm-operator">+</span><span class="cm-string">" &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "</span><span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getName</span>()<span class="cm-operator">+</span><span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 286px;"></div><div class="CodeMirror-gutters" style="display: none; height: 286px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e330cffe74?w=1005&amp;h=335&amp;f=png&amp;s=21084" referrerpolicy="no-referrer"></p><p><span>æ¥ç€ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯</span><strong><span>ç»™æ˜¾ç¤ºçš„ä¹¦ç±æŒ‚ä¸Šä¸€ä¸ªè¶…é“¾æ¥</span></strong><span>ï¼Œå½“ç”¨æˆ·ç‚¹å‡»æƒ³çœ‹çš„ä¹¦ç±æ—¶ï¼Œå°±</span><strong><span>è·³è½¬åˆ°è¯¥ä¹¦ç±çš„è¯¦ç»†ä¿¡æ¯é¡µé¢</span></strong></p><p><strong><span>è¶…é“¾æ¥åº”è¯¥æŠŠä¹¦çš„idä¼ é€’è¿‡å»ï¼Œä¸ç„¶å¤„ç†é¡µé¢æ˜¯ä¸çŸ¥é“ç”¨æˆ·æƒ³çœ‹çš„æ˜¯å“ªä¸€æœ¬ä¹¦çš„ï¼</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ˜¾ç¤ºæ‰€æœ‰çš„ä¹¦åˆ°ç½‘é¡µä¸Š</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable">Map</span>.<span class="cm-variable">Entry</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">stringBookEntry</span> : <span class="cm-variable">entry</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> <span class="cm-variable">stringBookEntry</span>.<span class="cm-variable">getValue</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;a href='/ouzicheng/Servlet2?id="</span> <span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getId</span>() <span class="cm-operator">+</span> <span class="cm-string">"''target=_blank' +"</span> <span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getName</span>() <span class="cm-operator">+</span> <span class="cm-string">"&lt;/a&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e34899125a?w=1005&amp;h=335&amp;f=png&amp;s=22551" referrerpolicy="no-referrer"></p><p><strong><span>æ¥æ”¶idï¼Œæ‰¾åˆ°ç”¨æˆ·æƒ³è¦çœ‹å“ªä¸€æœ¬ä¹¦ï¼Œè¾“å‡ºè¯¥ä¹¦çš„è¯¦ç»†ä¿¡æ¯</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">id</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"id"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//ç”±äºbookçš„idå’Œå•†å“çš„idæ˜¯ä¸€è‡´çš„ã€‚è·å–åˆ°ç”¨æˆ·ç‚¹å‡»çš„ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> (<span class="cm-variable">Book</span>) <span class="cm-variable">DB</span>.<span class="cm-variable">getAll</span>().<span class="cm-variable">get</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//è¾“å‡ºä¹¦çš„è¯¦ç»†ä¿¡æ¯</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ä¹¦çš„ç¼–å·æ˜¯ï¼š"</span> <span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getId</span>()<span class="cm-operator">+</span><span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ä¹¦çš„åç§°æ˜¯ï¼š"</span> <span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getName</span>()<span class="cm-operator">+</span><span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ä¹¦çš„ä½œè€…æ˜¯ï¼š"</span> <span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getAuthor</span>()<span class="cm-operator">+</span><span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><p><span>ç‚¹å‡»æƒ³è¦çš„ä¹¦ç±ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e36a3dc312?w=1005&amp;h=519&amp;f=png&amp;s=25550" referrerpolicy="no-referrer"></p><p><span>å¾—åˆ°ä¹¦ç±çš„è¯¦ç»†ä¿¡æ¯</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e3728e8bfd?w=1005&amp;h=519&amp;f=png&amp;s=24723" referrerpolicy="no-referrer"></p><p><span>æ—¢ç„¶ç”¨æˆ·ç‚¹å‡»äº†ä¹¦ç±ï¼Œé‚£ä¹ˆ</span><strong><span>æœåŠ¡å™¨å°±åº”è¯¥é¢å‘Cookieç»™æµè§ˆå™¨ï¼Œè®°ä½ç”¨æˆ·ç‚¹å‡»äº†è¯¥ä¹¦ç±</span></strong><span>ã€‚ç°åœ¨é—®é¢˜æ¥äº†ï¼ŒCookieçš„å€¼åº”è¯¥æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¯•æƒ³ä¸€ä¸‹ï¼Œ</span><strong><span>å¾…ä¼šè¿˜è¦æŠŠæµè§ˆè¿‡çš„ä¹¦ç±æ˜¾ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥ç”¨ä¹¦ç±çš„idæ˜¯æœ€å¥½ä¸è¿‡çš„</span></strong><span>ã€‚æƒ³åˆ°äº†ç”¨ä¹¦ç±çš„idä½œä¸ºCookieçš„å€¼ï¼Œæˆ‘ä»¬è¿˜è¦å®šä¹‰ä¸€äº›è§„åˆ™ï¼</span></p><p>&nbsp;</p><p><span>æˆ‘ä»¬å¯èƒ½æœ‰éå¸¸å¤šçš„ä¹¦ç±ï¼Œä¸å¯èƒ½æŠŠç”¨æˆ·æµè§ˆè¿‡çš„ä¹¦ç±éƒ½æ˜¾ç¤ºå‡ºæ¥ã€‚æ‰€ä»¥æˆ‘ä»¬å®šä¹‰</span><strong><span>åªèƒ½æ˜¾ç¤º3æœ¬æµè§ˆè¿‡çš„ä¹¦ç±</span></strong></p><p><span>ä¹¦ç±çš„idéƒ½æ˜¯æ•°å­—ï¼Œ</span><strong><span>å¦‚æœä¸åšä»»ä½•ä¿®æ”¹ï¼Œå­˜åˆ°Cookieé‡Œè¾¹å¯èƒ½å°±æ˜¯231ï¼Œ345ï¼Œ123æ­¤ç±»çš„æ•°å­—</span></strong><span>ï¼Œè¿™æ ·</span><strong><span>å–å‡ºæŸä¸€ä¸ªidçš„æ—¶å€™å°±ååˆ†è´¹åŠ²å¹¶ä¸”åé¢è¿˜è¦åˆ¤æ–­è¯¥ä¹¦æ˜¯å¦å­˜åœ¨Cookieé‡Œè¾¹äº†</span></strong><span>ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠŠå­˜å‚¨åˆ°Cookieçš„ä¹¦ç±idåˆ†å‰²èµ·æ¥ã€‚æ‰€ä»¥</span><strong><span>æˆ‘ä»¬å®šä¹‰â€_â€œä½œä¸ºåˆ†éš”ç¬¦</span></strong></p><p><span>æŒ‰ä¸Šé¢çš„åº”ç”¨ï¼Œ</span><strong><span>æˆ‘ä»¬çš„é€»è¾‘åº”è¯¥æ˜¯ï¼šå…ˆéå†ä¸‹Cookieï¼Œçœ‹ä¸‹æœ‰æ²¡æœ‰æˆ‘ä»¬æƒ³è¦çš„Cookieã€‚å¦‚æœæ‰¾åˆ°æƒ³è¦çš„Cookieï¼Œé‚£å°±å–å‡ºCookieçš„å€¼</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">bookHistory</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span>[] <span class="cm-variable">cookies</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getCookies</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">cookies</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">cookies</span>.<span class="cm-variable">length</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getName</span>().<span class="cm-variable">equals</span>(<span class="cm-string">"bookHistory"</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">bookHistory</span> <span class="cm-operator">=</span> <span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getValue</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 154px;"></div><div class="CodeMirror-gutters" style="display: none; height: 154px;"></div></div></div></pre><ul><li><p><span>å–å‡ºäº†Cookieçš„å€¼ä¹Ÿåˆ†å‡ ç§æƒ…å†µ</span></p><ol start='' ><li><span>Cookieçš„å€¼ä¸ºnullã€ç›´æ¥æŠŠä¼ å…¥è¿›æ¥çš„idå½“åšæ˜¯Cookieçš„å€¼ã€‘</span></li><li><span>Cookieçš„å€¼é•¿åº¦æœ‰3ä¸ªäº†ã€æŠŠæ’åœ¨æœ€åçš„idå»æ‰ï¼ŒæŠŠä¼ è¿›æ¥çš„idæ’åœ¨æœ€å‰è¾¹ã€‘</span></li><li><span>Cookieçš„å€¼å·²ç»åŒ…å«æœ‰ä¼ é€’è¿›æ¥çš„idäº†ã€æŠŠå·²ç»åŒ…å«çš„idå…ˆå»æ‰ï¼Œå†æŠŠidæ’åœ¨æœ€å‰é¢ã€‘</span></li><li><span>Cookieçš„å€¼å°±åªæœ‰1ä¸ªæˆ–2ä¸ªï¼Œç›´æ¥æŠŠidæ’åœ¨æœ€å‰è¾¹</span></li></ol></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">bookHistory</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">id</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¦‚æœCookieçš„å€¼ä¸æ˜¯nullçš„ï¼Œé‚£ä¹ˆå°±åˆ†è§£Cookieçš„å¾—åˆ°ä¹‹å‰çš„idã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span>[] <span class="cm-variable">strings</span> <span class="cm-operator">=</span> <span class="cm-variable">bookHistory</span>.<span class="cm-variable">split</span>(<span class="cm-string">"\\_"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¸ºäº†å¢åˆ å®¹æ˜“å¹¶ä¸”è¿˜è¦åˆ¤æ–­idæ˜¯å¦å­˜åœ¨äºè¯¥å­—ç¬¦ä¸²å†…-----æˆ‘ä»¬ä½¿ç”¨LinkedListé›†åˆè£…è½½åˆ†è§£å‡ºæ¥çš„id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">List</span> <span class="cm-variable">list</span> <span class="cm-operator">=</span> <span class="cm-variable">Arrays</span>.<span class="cm-variable">asList</span>(<span class="cm-variable">strings</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">LinkedList</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span><span class="cm-operator">&gt;</span> <span class="cm-variable">linkedList</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">LinkedList</span><span class="cm-operator">&lt;&gt;</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">linkedList</span>.<span class="cm-variable">addAll</span>(<span class="cm-variable">list</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">linkedList</span>.<span class="cm-variable">contains</span>(<span class="cm-variable">id</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedList</span>.<span class="cm-variable">remove</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">linkedList</span>.<span class="cm-variable">addFirst</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">linkedList</span>.<span class="cm-variable">size</span>() <span class="cm-operator">&gt;=</span> <span class="cm-number">3</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">linkedList</span>.<span class="cm-variable">removeLast</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">linkedList</span>.<span class="cm-variable">addFirst</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">linkedList</span>.<span class="cm-variable">addFirst</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 506px;"></div><div class="CodeMirror-gutters" style="display: none; height: 506px;"></div></div></div></pre><p><span>è¿™ä¹ˆæŠ˜è…¾å®Œäº†ï¼Œæˆ‘ä»¬çš„Cookieå€¼å°±åœ¨LinkedListé›†åˆé‡Œè¾¹äº†ã€‚æ¥ä¸‹æ¥ï¼Œ</span><strong><span>æˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠé›†åˆä¸­çš„å€¼å–å‡ºæ¥ï¼Œæ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">StringBuffer</span> <span class="cm-variable">stringBuffer</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable-3">StringBuffer</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//éå†LinkedListé›†åˆï¼Œæ·»åŠ ä¸ªä¸‹åˆ’çº¿â€œ_â€</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">String</span> <span class="cm-variable">s</span> : <span class="cm-variable">linkedList</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">stringBuffer</span>.<span class="cm-variable">append</span>(<span class="cm-variable">s</span> <span class="cm-operator">+</span> <span class="cm-string">"_"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æœ€åä¸€ä¸ªå…ƒç´ åé¢å°±ä¸éœ€è¦ä¸‹åˆ’çº¿äº†</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-variable">stringBuffer</span>.<span class="cm-variable">deleteCharAt</span>(<span class="cm-variable">stringBuffer</span>.<span class="cm-variable">length</span>() <span class="cm-operator">-</span> <span class="cm-number">1</span>).<span class="cm-variable">toString</span>();</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 198px;"></div><div class="CodeMirror-gutters" style="display: none; height: 198px;"></div></div></div></pre><p><span>å¥½çš„ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»å®Œæˆäº†Cookieå€¼äº†ã€‚æ¥ä¸‹æ¥è®¾ç½®Cookieçš„ç”Ÿå‘½å‘¨æœŸï¼Œå›é€ç»™æµè§ˆå™¨å³å¯</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">bookHistory</span> <span class="cm-operator">=</span> <span class="cm-variable">makeHistory</span>(<span class="cm-variable">request</span>, <span class="cm-variable">id</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"bookHistory"</span>, <span class="cm-variable">bookHistory</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">30000</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>æ—¢ç„¶æˆ‘ä»¬å·²ç»æŠŠCookieå›é€ç»™æµè§ˆå™¨äº†ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬</span><strong><span>å°±åœ¨é¦–é¡µä¸Šè·å–Cookieçš„å€¼ï¼Œæ˜¾ç¤ºç”¨æˆ·æµè§ˆè¿‡ä»€ä¹ˆå•†å“å°±è¡Œäº†</span></strong><span>ï¼</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æ‚¨æ›¾ç»æµè§ˆè¿‡çš„å•†å“ï¼š"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ˜¾ç¤ºç”¨æˆ·æµè§ˆè¿‡çš„å•†å“</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Cookie</span>[] <span class="cm-variable">cookies</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getCookies</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">cookies</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">cookies</span>.<span class="cm-variable">length</span>; <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getName</span>().<span class="cm-variable">equals</span>(<span class="cm-string">"bookHistory"</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//è·å–åˆ°çš„bookHistoryæ˜¯2_3_1ä¹‹ç±»çš„</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">bookHistory</span> <span class="cm-operator">=</span> <span class="cm-variable">cookies</span>[<span class="cm-variable">i</span>].<span class="cm-variable">getValue</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//æ‹†è§£æˆæ¯ä¸€ä¸ªidå€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">String</span>[] <span class="cm-variable">ids</span> <span class="cm-operator">=</span> <span class="cm-variable">bookHistory</span>.<span class="cm-variable">split</span>(<span class="cm-string">"\\_"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">//å¾—åˆ°æ¯ä¸€ä¸ªidå€¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">String</span> <span class="cm-variable">id</span> : <span class="cm-variable">ids</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-comment">//é€šè¿‡idæ‰¾åˆ°æ¯ä¸€æœ¬ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> <span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">get</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">book</span>.<span class="cm-variable">getName</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 638px;"></div><div class="CodeMirror-gutters" style="display: none; height: 638px;"></div></div></div></pre><p><span>å¥½çš„ï¼Œæˆ‘ä»¬æ¥è¯•éªŒä¸€ä¸‹å§ï¼ï¼ï¼Œç¬¬ä¸€æ¬¡è®¿é—®é¦–é¡µï¼Œå¹¶æ²¡æœ‰æµè§ˆè¿‡çš„å•†å“</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e39c692722?w=1103&amp;h=373&amp;f=png&amp;s=23799" referrerpolicy="no-referrer"></p><p><span>å½“æˆ‘ç‚¹å‡»javawebä¹¦ç±å†è®¿é—®é¦–é¡µçš„æ—¶å€™</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e3a812dab6?w=1103&amp;h=373&amp;f=png&amp;s=26442" referrerpolicy="no-referrer"></p><p><span>å†ç‚¹å‡»ajaxç„¶åè®¿é—®é¦–é¡µ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e3aa21e338?w=1103&amp;h=373&amp;f=png&amp;s=27038" referrerpolicy="no-referrer"></p><p><span>å†ç‚¹å‡»javawebç„¶åè®¿é—®é¦–é¡µ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e3b313e3fc?w=1103&amp;h=373&amp;f=png&amp;s=27090" referrerpolicy="no-referrer"></p><p><span>ç‚¹å‡»oracleç„¶åè®¿é—®é¦–é¡µ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/161609e3b8092589?w=1103&amp;h=373&amp;f=png&amp;s=27617" referrerpolicy="no-referrer"></p><p><span>å¥½çš„ï¼Œç»è¿‡æµ‹è¯•ï¼Œè¯¥ç¨‹åºåº”è¯¥æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼</span></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyz2o9x6g308c08cmxn.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h1><a name="session" class="md-header-anchor"></a><span>Session</span></h1><h2><a name="1-ä»€ä¹ˆæ˜¯session" class="md-header-anchor"></a><span>1. ä»€ä¹ˆæ˜¯Session</span></h2><blockquote><p><span>Session æ˜¯å¦ä¸€ç§è®°å½•æµè§ˆå™¨çŠ¶æ€çš„æœºåˆ¶ã€‚ä¸åŒçš„æ˜¯Cookieä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼ŒSessionä¿å­˜åœ¨æœåŠ¡å™¨ä¸­ã€‚ç”¨æˆ·ä½¿ç”¨æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨æŠŠç”¨æˆ·çš„ä¿¡æ¯ä»¥æŸç§çš„å½¢å¼è®°å½•åœ¨æœåŠ¡å™¨ï¼Œè¿™å°±æ˜¯Session</span></p></blockquote><p><span>å¦‚æœè¯´Cookieæ˜¯æ£€æŸ¥ç”¨æˆ·èº«ä¸Šçš„â€é€šè¡Œè¯â€œæ¥ç¡®è®¤ç”¨æˆ·çš„èº«ä»½ï¼Œé‚£ä¹ˆSessionå°±æ˜¯é€šè¿‡æ£€æŸ¥æœåŠ¡å™¨ä¸Šçš„â€å®¢æˆ·æ˜ç»†è¡¨â€œæ¥ç¡®è®¤ç”¨æˆ·çš„èº«ä»½çš„ã€‚Sessionç›¸å½“äºåœ¨æœåŠ¡å™¨ä¸­å»ºç«‹äº†ä¸€ä»½â€œå®¢æˆ·æ˜ç»†è¡¨â€ã€‚</span></p><h2><a name="2-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨sessionæŠ€æœ¯" class="md-header-anchor"></a><span>2. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨SessionæŠ€æœ¯ï¼Ÿ</span></h2><p><strong><span>Sessionæ¯”Cookieä½¿ç”¨æ–¹ä¾¿ï¼ŒSessionå¯ä»¥è§£å†³Cookieè§£å†³ä¸äº†çš„äº‹æƒ…ã€Sessionå¯ä»¥å­˜å‚¨å¯¹è±¡ï¼ŒCookieåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ã€‚ã€‘ã€‚</span></strong></p><h2><a name="3-session--api" class="md-header-anchor"></a><span>3. Session  API</span></h2><ul><li><span>long getCreationTime();ã€è·å–Sessionè¢«åˆ›å»ºæ—¶é—´ã€‘</span></li><li><strong><span>String getId();ã€è·å–Sessionçš„idã€‘</span></strong></li><li><span>long getLastAccessedTime();ã€è¿”å›Sessionæœ€åæ´»è·ƒçš„æ—¶é—´ã€‘</span></li><li><span>ServletContext getServletContext();ã€è·å–ServletContextå¯¹è±¡ã€‘</span></li><li><strong><span>void setMaxInactiveInterval(int var1);ã€è®¾ç½®Sessionè¶…æ—¶æ—¶é—´ã€‘</span></strong></li><li><strong><span>int getMaxInactiveInterval();ã€è·å–Sessionè¶…æ—¶æ—¶é—´ã€‘</span></strong></li><li><strong><span>Object getAttribute(String var1);ã€è·å–Sessionå±æ€§</span></strong><span>ã€‘</span></li><li><span>Enumeration</span><String><span> getAttributeNames();ã€è·å–Sessionæ‰€æœ‰çš„å±æ€§åã€‘</span></li><li><strong><span>void setAttribute(String var1, Object var2);ã€è®¾ç½®Sessionå±æ€§ã€‘</span></strong></li><li><strong><span>void removeAttribute(String var1);ã€ç§»é™¤Sessionå±æ€§ã€‘</span></strong></li><li><strong><span>void invalidate();ã€é”€æ¯è¯¥Sessionã€‘</span></strong></li><li><span>boolean isNew();ã€è¯¥Sessionæ˜¯å¦ä¸ºæ–°çš„ã€‘</span></li></ul><h2><a name="4sessionä½œä¸ºåŸŸå¯¹è±¡" class="md-header-anchor"></a><span>4.Sessionä½œä¸ºåŸŸå¯¹è±¡</span></h2><p><span>ä»ä¸Šé¢çš„APIçœ‹å‡ºï¼ŒSessionæœ‰ç€requestå’ŒServletContextç±»ä¼¼çš„æ–¹æ³•ã€‚å…¶å®</span><strong><span>Sessionä¹Ÿæ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡</span></strong><span>ã€‚Sessionä½œä¸ºä¸€ç§è®°å½•æµè§ˆå™¨çŠ¶æ€çš„æœºåˆ¶ï¼Œ</span><strong><span>åªè¦Sessionå¯¹è±¡æ²¡æœ‰è¢«é”€æ¯ï¼ŒServletä¹‹é—´å°±å¯ä»¥é€šè¿‡Sessionå¯¹è±¡å®ç°é€šè®¯</span></strong></p><p>&nbsp;</p><p><span>æˆ‘ä»¬æ¥è¯•è¯•å§ï¼Œåœ¨Servlet4ä¸­è®¾ç½®Sessionå±æ€§</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾—åˆ°Sessionå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®Sessionå±æ€§</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">httpSession</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"name"</span>, <span class="cm-string">"çœ‹å®Œåšå®¢å°±è¦ç‚¹èµï¼ï¼"</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><span>åœ¨Servlet5ä¸­è·å–åˆ°Sessionå­˜è¿›å»çš„å±æ€§</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°ä»Servlet4çš„Sessionå­˜è¿›å»çš„å€¼</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">String</span>) <span class="cm-variable">httpSession</span>.<span class="cm-variable">getAttribute</span>(<span class="cm-string">"name"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">value</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>è®¿é—®Servlet4ï¼Œå†è®¿é—®Servlet5</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1fd0533ffd?w=1029&amp;h=602&amp;f=png&amp;s=21497" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><span>ä¸€èˆ¬æ¥è®²ï¼Œå½“æˆ‘ä»¬è¦å­˜è¿›çš„æ˜¯</span><strong><span>ç”¨æˆ·çº§åˆ«çš„æ•°æ®å°±ç”¨Session</span></strong><span>ï¼Œé‚£ä»€ä¹ˆæ˜¯ç”¨æˆ·çº§åˆ«å‘¢ï¼Ÿ</span><strong><span>åªè¦æµè§ˆå™¨ä¸å…³é—­ï¼Œå¸Œæœ›æ•°æ®è¿˜åœ¨ï¼Œå°±ä½¿ç”¨Sessionæ¥ä¿å­˜</span></strong><span>ã€‚</span></p><h2><a name="5-sessionçš„ç”Ÿå‘½å‘¨æœŸå’Œæœ‰æ•ˆæœŸ" class="md-header-anchor"></a><span>5. Sessionçš„ç”Ÿå‘½å‘¨æœŸå’Œæœ‰æ•ˆæœŸ</span></h2><p><span>Sessionåœ¨ç”¨æˆ·</span><strong><span>ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨Servletï¼Œjspç­‰åŠ¨æ€èµ„æºå°±ä¼šè¢«è‡ªåŠ¨åˆ›å»ºï¼ŒSessionå¯¹è±¡ä¿å­˜åœ¨å†…å­˜é‡Œ</span></strong><span>ï¼Œè¿™ä¹Ÿå°±ä¸ºä»€ä¹ˆä¸Šé¢çš„ä¾‹å­å¯ä»¥</span><strong><span>ç›´æ¥ä½¿ç”¨requestå¯¹è±¡è·å–å¾—åˆ°Sessionå¯¹è±¡</span></strong><span>ã€‚å¦‚æœè®¿é—®HTML,IMAGEç­‰é™æ€èµ„æºSessionä¸ä¼šè¢«åˆ›å»ºã€‚</span></p><p>&nbsp;</p><p><span>Sessionç”Ÿæˆåï¼Œåªè¦ç”¨æˆ·ç»§ç»­è®¿é—®ï¼ŒæœåŠ¡å™¨å°±ä¼šæ›´æ–°Sessionçš„æœ€åè®¿é—®æ—¶é—´ï¼Œæ— è®º</span><strong><span>æ˜¯å¦å¯¹Sessionè¿›è¡Œè¯»å†™ï¼ŒæœåŠ¡å™¨éƒ½ä¼šè®¤ä¸ºSessionæ´»è·ƒäº†ä¸€æ¬¡</span></strong><span>ã€‚</span></p><p>&nbsp;</p><p><span>ç”±äºä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„ç”¨æˆ·è®¿é—®æœåŠ¡å™¨ï¼Œå› æ­¤Sessionä¹Ÿä¼šè¶Šæ¥è¶Šå¤šã€‚</span><strong><span>ä¸ºäº†é˜²æ­¢å†…å­˜æº¢å‡ºï¼ŒæœåŠ¡å™¨ä¼šæŠŠé•¿æ—¶é—´æ²¡æœ‰æ´»è·ƒçš„Sessionä»å†…å­˜ä¸­åˆ é™¤ï¼Œè¿™ä¸ªæ—¶é—´ä¹Ÿå°±æ˜¯Sessionçš„è¶…æ—¶æ—¶é—´</span></strong><span>ã€‚</span></p><p><span>Sessionçš„è¶…æ—¶æ—¶é—´é»˜è®¤æ˜¯30åˆ†é’Ÿï¼Œæœ‰ä¸‰ç§æ–¹å¼å¯ä»¥å¯¹Sessionçš„è¶…æ—¶æ—¶é—´è¿›è¡Œä¿®æ”¹</span></p><p>&nbsp;</p><p><span>ç¬¬ä¸€ç§æ–¹å¼ï¼š</span><strong><span>åœ¨tomcat/conf/web.xmlæ–‡ä»¶ä¸­è®¾ç½®ï¼Œæ—¶é—´å€¼ä¸º20åˆ†é’Ÿï¼Œ</span></strong><span>æ‰€æœ‰çš„WEBåº”ç”¨éƒ½æœ‰æ•ˆ</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">session-config</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">session-timeout</span><span class="cm-tag cm-bracket">&gt;</span>20<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">session-timeout</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">session-config</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tab" role="presentation" cm-text="	"> </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1f906bd6ed?w=977&amp;h=331&amp;f=png&amp;s=10257" referrerpolicy="no-referrer"></p><p><strong><span>ç¬¬äºŒç§æ–¹å¼ï¼š</span></strong><span>åœ¨å•ä¸ªçš„web.xmlæ–‡ä»¶ä¸­è®¾ç½®ï¼Œå¯¹å•ä¸ªwebåº”ç”¨æœ‰æ•ˆï¼Œ</span><strong><span>å¦‚æœæœ‰å†²çªï¼Œä»¥è‡ªå·±çš„webåº”ç”¨ä¸ºå‡†</span></strong><span>ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">session-config</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">session-timeout</span><span class="cm-tag cm-bracket">&gt;</span>20<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">session-timeout</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">session-config</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tab" role="presentation" cm-text="	"> </span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 66px;"></div><div class="CodeMirror-gutters" style="display: none; height: 66px;"></div></div></div></pre><p><strong><span>ç¬¬ä¸‰ç§æ–¹å¼ï¼š</span></strong><span>é€šè¿‡setMaxInactiveInterval()æ–¹æ³•è®¾ç½®</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®Sessionæœ€é•¿è¶…æ—¶æ—¶é—´ä¸º60ç§’ï¼Œè¿™é‡Œçš„å•ä½æ˜¯ç§’</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">httpSession</span>.<span class="cm-variable">setMaxInactiveInterval</span>(<span class="cm-number">60</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-variable">httpSession</span>.<span class="cm-variable">getMaxInactiveInterval</span>());</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1f9041ed5f?w=881&amp;h=314&amp;f=png&amp;s=12446" referrerpolicy="no-referrer"></p><p><span>Sessionçš„æœ‰æ•ˆæœŸä¸Cookieçš„æ˜¯ä¸åŒçš„</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1f905d0cbf?w=770&amp;h=516&amp;f=png&amp;s=83117" referrerpolicy="no-referrer"></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyzin9wzj3073073mx3.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h2><a name="6-ä½¿ç”¨sessionå®Œæˆç®€å•çš„è´­ç‰©åŠŸèƒ½" class="md-header-anchor"></a><span>6. ä½¿ç”¨Sessionå®Œæˆç®€å•çš„è´­ç‰©åŠŸèƒ½</span></h2><p><span>æˆ‘ä»¬è¿˜æ˜¯ä»¥ä¹¦ç±ä¸ºä¾‹ï¼Œæ‰€ä»¥å¯ä»¥copyâ€œæ˜¾ç¤ºæµè§ˆè¿‡çš„å•†å“â€œä¾‹å­éƒ¨åˆ†çš„ä»£ç ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setContentType</span>(<span class="cm-string">"text/html;charset=UTF-8"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">PrintWriter</span> <span class="cm-variable">printWriter</span> <span class="cm-operator">=</span> <span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"ç½‘é¡µä¸Šæ‰€æœ‰çš„ä¹¦ç±ï¼š"</span> <span class="cm-operator">+</span> <span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ‹¿åˆ°æ•°æ®åº“æ‰€æœ‰çš„ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">LinkedHashMap</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">linkedHashMap</span> <span class="cm-operator">=</span> <span class="cm-variable">DB</span>.<span class="cm-variable">getAll</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Set</span><span class="cm-operator">&lt;</span><span class="cm-variable">Map</span>.<span class="cm-variable">Entry</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;&gt;</span> <span class="cm-variable">entry</span> <span class="cm-operator">=</span> <span class="cm-variable">linkedHashMap</span>.<span class="cm-variable">entrySet</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ˜¾ç¤ºæ‰€æœ‰çš„ä¹¦åˆ°ç½‘é¡µä¸Š</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> (<span class="cm-variable">Map</span>.<span class="cm-variable">Entry</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">String</span>, <span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">stringBookEntry</span> : <span class="cm-variable">entry</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> <span class="cm-variable">stringBookEntry</span>.<span class="cm-variable">getValue</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">url</span> <span class="cm-operator">=</span> <span class="cm-string">"/ouzicheng/Servlet6?id="</span> <span class="cm-operator">+</span> <span class="cm-variable">book</span>.<span class="cm-variable">getId</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">book</span>.<span class="cm-variable">getName</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;a href='"</span> <span class="cm-operator">+</span> <span class="cm-variable">url</span> <span class="cm-operator">+</span> <span class="cm-string">"'&gt;è´­ä¹°&lt;/a&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 440px;"></div><div class="CodeMirror-gutters" style="display: none; height: 440px;"></div></div></div></pre><p><span>åœ¨è´­ç‰©è½¦é¡µé¢ä¸Šï¼Œè·å–åˆ°ç”¨æˆ·æƒ³ä¹°çš„ä¹¦ç±ã€ç”¨æˆ·å¯èƒ½ä¸å•æƒ³ä¹°ä¸€æœ¬ä¹¦ï¼Œäºæ˜¯ä¹ï¼Œå°±ç”¨ä¸€ä¸ªListå®¹å™¨è£…è½½ä¹¦ç±ã€‘ï¼Œæœ‰äº†ï¼š</span><strong><span>å…ˆéå†Cookieï¼Œå†åˆ¤æ–­æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®Servletçš„é€»è¾‘æ€è·¯</span></strong><span>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å…ˆè·å–åˆ°Sessionçš„å±æ€§ï¼Œå¦‚æœSessionçš„å±æ€§ä¸ºnullï¼Œé‚£ä¹ˆå°±æ˜¯è¿˜æ²¡æœ‰è¯¥å±æ€§</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾—åˆ°ç”¨æˆ·æƒ³ä¹°ä¹¦ç±çš„id</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">id</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"id"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ ¹æ®ä¹¦ç±çš„idæ‰¾åˆ°ç”¨æˆ·æƒ³ä¹°çš„ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> (<span class="cm-variable">Book</span>) <span class="cm-variable">DB</span>.<span class="cm-variable">getAll</span>().<span class="cm-variable">get</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°Sessionå¯¹è±¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ç”±äºç”¨æˆ·å¯èƒ½æƒ³ä¹°å¤šæœ¬ä¹¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸€ä¸ªå®¹å™¨è£…ç€ä¹¦ç±</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">List</span> <span class="cm-variable">list</span> <span class="cm-operator">=</span> (<span class="cm-variable">List</span>) <span class="cm-variable">httpSession</span>.<span class="cm-variable">getAttribute</span>(<span class="cm-string">"list"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">list</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">list</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//è®¾ç½®Sessionå±æ€§</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">httpSession</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"list"</span>,<span class="cm-variable">list</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŠŠä¹¦ç±åŠ å…¥åˆ°listé›†åˆä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span class="cm-variable">book</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 462px;"></div><div class="CodeMirror-gutters" style="display: none; height: 462px;"></div></div></div></pre><p><span>æŒ‰æˆ‘ä»¬æ­£å¸¸çš„é€»è¾‘æ€è·¯ï¼šå…ˆåˆ›å»ºä¸€ä¸ªArrayListå¯¹è±¡ï¼ŒæŠŠä¹¦åŠ åˆ°listé›†åˆä¸­ï¼Œç„¶åè®¾ç½®Sessionçš„å±æ€§ã€‚</span><strong><span>è¿™æ ·æ˜¯è¡Œä¸é€šçš„</span></strong><span>ã€‚æ¯æ¬¡Servletè¢«è®¿é—®çš„æ—¶å€™éƒ½ä¼šåˆ›å»ºä¸€ä¸ªArrayListé›†åˆï¼Œä¹¦ç±ä¼šè¢«åˆ†å‘åˆ°ä¸åŒçš„ArrayListä¸­å»ã€‚æ‰€ä»¥ä¸‹é¢çš„ä»£ç æ˜¯ä¸è¡Œçš„ï¼</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾—åˆ°ç”¨æˆ·æƒ³ä¹°ä¹¦ç±çš„id</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">id</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"id"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ ¹æ®ä¹¦ç±çš„idæ‰¾åˆ°ç”¨æˆ·æƒ³ä¹°çš„ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> (<span class="cm-variable">Book</span>) <span class="cm-variable">DB</span>.<span class="cm-variable">getAll</span>().<span class="cm-variable">get</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°Sessionå¯¹è±¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åˆ›å»ºListé›†åˆ</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">List</span> <span class="cm-variable">list</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span class="cm-variable">book</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">httpSession</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"list"</span>, <span class="cm-variable">list</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 330px;"></div><div class="CodeMirror-gutters" style="display: none; height: 330px;"></div></div></div></pre><p><span>æ—¢ç„¶ç”¨æˆ·å·²ç»è´­ä¹°äº†ä¹¦ç±ï¼Œé‚£ä¹ˆä¹Ÿåº”è¯¥ç»™æä¾›é¡µé¢æ˜¾ç¤ºç”¨æˆ·è´­ä¹°è¿‡å“ªäº›ä¹¦ç±</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾—åˆ°ç”¨æˆ·æƒ³ä¹°ä¹¦ç±çš„id</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">id</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"id"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ ¹æ®ä¹¦ç±çš„idæ‰¾åˆ°ç”¨æˆ·æƒ³ä¹°çš„ä¹¦</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Book</span> <span class="cm-variable">book</span> <span class="cm-operator">=</span> (<span class="cm-variable">Book</span>) <span class="cm-variable">DB</span>.<span class="cm-variable">getAll</span>().<span class="cm-variable">get</span>(<span class="cm-variable">id</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°Sessionå¯¹è±¡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ç”±äºç”¨æˆ·å¯èƒ½æƒ³ä¹°å¤šæœ¬ä¹¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ä¸€ä¸ªå®¹å™¨è£…ç€ä¹¦ç±</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">List</span> <span class="cm-variable">list</span> <span class="cm-operator">=</span> (<span class="cm-variable">List</span>) <span class="cm-variable">httpSession</span>.<span class="cm-variable">getAttribute</span>(<span class="cm-string">"list"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">list</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">list</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//è®¾ç½®Sessionå±æ€§</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">httpSession</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"list"</span>,<span class="cm-variable">list</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŠŠä¹¦ç±åŠ å…¥åˆ°listé›†åˆä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span class="cm-variable">book</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">url</span> <span class="cm-operator">=</span> <span class="cm-string">"/ouzicheng/Servlet7"</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">sendRedirect</span>(<span class="cm-variable">url</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 528px;"></div><div class="CodeMirror-gutters" style="display: none; height: 528px;"></div></div></div></pre><p><span>åˆ—å‡ºç”¨æˆ·è´­ä¹°è¿‡çš„ä¹¦ç±</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è¦å¾—åˆ°ç”¨æˆ·è´­ä¹°è¿‡å“ªäº›ä¹¦ç±ï¼Œå¾—åˆ°Sessionçš„å±æ€§éå†å³å¯</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">List</span><span class="cm-operator">&lt;</span><span class="cm-variable">Book</span><span class="cm-operator">&gt;</span> <span class="cm-variable">list</span> <span class="cm-operator">=</span> (<span class="cm-variable">List</span>) <span class="cm-variable">httpSession</span>.<span class="cm-variable">getAttribute</span>(<span class="cm-string">"list"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">list</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span> <span class="cm-operator">||</span> <span class="cm-variable">list</span>.<span class="cm-variable">size</span>() <span class="cm-operator">==</span> <span class="cm-number">0</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"å¯¹ä¸èµ·ï¼Œä½ è¿˜æ²¡æœ‰ä¹°è¿‡ä»»ä½•å•†å“"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">} <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"æ‚¨è´­ä¹°è¿‡ä»¥ä¸‹å•†å“ï¼š"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable">Book</span> <span class="cm-variable">book</span> : <span class="cm-variable">list</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">book</span>.<span class="cm-variable">getName</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-string">"&lt;br/&gt;"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 352px;"></div><div class="CodeMirror-gutters" style="display: none; height: 352px;"></div></div></div></pre><p><span>æ•ˆæœå¦‚ä¸‹</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1f93825692?w=1028&amp;h=283&amp;f=png&amp;s=20824" referrerpolicy="no-referrer"></p><h2><a name="7sessionçš„å®ç°åŸç†" class="md-header-anchor"></a><span>7.Sessionçš„å®ç°åŸç†</span></h2><p><span>ç”¨ç°è±¡è¯´æ˜é—®é¢˜ï¼Œæˆ‘</span><strong><span>åœ¨Servlet4ä¸­çš„ä»£ç è®¾ç½®äº†Sessionçš„å±æ€§</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾—åˆ°Sessionå¯¹è±¡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®Sessionå±æ€§</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">httpSession</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"name"</span>, <span class="cm-string">"çœ‹å®Œåšå®¢å°±è¦ç‚¹èµï¼ï¼"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><span>æ¥ç€åœ¨Servlet7æŠŠSessionçš„å±æ€§å–å‡ºæ¥</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">value</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">String</span>) <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>().<span class="cm-variable">getAttribute</span>(<span class="cm-string">"name"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">printWriter</span>.<span class="cm-variable">write</span>(<span class="cm-variable">value</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>è‡ªç„¶åœ°ï¼Œæˆ‘ä»¬</span><strong><span>èƒ½å–åˆ°åœ¨Servlet4ä¸­Sessionè®¾ç½®çš„å±æ€§</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1f936eb7df?w=1235&amp;h=134&amp;f=png&amp;s=7422" referrerpolicy="no-referrer"></p><p><span>æ¥ç€ï¼Œæˆ‘åœ¨æµè§ˆå™¨ä¸­æ–°å»ºä¸€ä¸ªä¼šè¯ï¼Œå†æ¬¡è®¿é—®Servlet7</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1fdc46ae75?w=1566&amp;h=463&amp;f=png&amp;s=22440" referrerpolicy="no-referrer"></p><p><span>å‘ç°æŠ¥äº†ç©ºæŒ‡é’ˆå¼‚å¸¸çš„é”™è¯¯</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1fdd9732ba?w=1235&amp;h=429&amp;f=png&amp;s=21069" referrerpolicy="no-referrer"></p><p><span>ç°åœ¨é—®é¢˜æ¥äº†ï¼š</span><strong><span>æœåŠ¡å™¨æ˜¯å¦‚ä½•å®ç°ä¸€ä¸ªsessionä¸ºä¸€ä¸ªç”¨æˆ·æµè§ˆå™¨æœåŠ¡çš„ï¼Ÿæ¢ä¸ªè¯´æ³•ï¼šä¸ºä»€ä¹ˆæœåŠ¡å™¨èƒ½å¤Ÿä¸ºä¸åŒçš„ç”¨æˆ·æµè§ˆå™¨æä¾›ä¸åŒsessionï¼Ÿ</span></strong></p><p>&nbsp;</p><p><span>HTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼Œ</span><strong><span>Sessionä¸èƒ½ä¾æ®HTTPè¿æ¥æ¥åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¸ªç”¨æˆ·</span></strong><span>ã€‚äºæ˜¯ä¹ï¼š</span><strong><span>æœåŠ¡å™¨å‘ç”¨æˆ·æµè§ˆå™¨å‘é€äº†ä¸€ä¸ªåä¸ºJESSIONIDçš„Cookieï¼Œå®ƒçš„å€¼æ˜¯Sessionçš„idå€¼</span></strong><span>ã€‚å…¶å®Sessionä¾æ®Cookieæ¥è¯†åˆ«æ˜¯å¦æ˜¯åŒä¸€ä¸ªç”¨æˆ·ã€‚</span></p><p>&nbsp;</p><p><span>ç®€å•æ¥è¯´ï¼šSession </span><strong><span>ä¹‹æ‰€ä»¥å¯ä»¥è¯†åˆ«ä¸åŒçš„ç”¨æˆ·ï¼Œä¾é çš„å°±æ˜¯Cookie</span></strong></p><p>&nbsp;</p><p><span>è¯¥Cookieæ˜¯</span><strong><span>æœåŠ¡å™¨è‡ªåŠ¨é¢å‘ç»™æµè§ˆå™¨çš„</span></strong><span>ï¼Œä¸ç”¨æˆ‘ä»¬æ‰‹å·¥åˆ›å»ºçš„ã€‚</span><strong><span>è¯¥Cookieçš„maxAgeå€¼é»˜è®¤æ˜¯-1ï¼Œä¹Ÿå°±æ˜¯è¯´ä»…å½“å‰æµè§ˆå™¨ä½¿ç”¨ï¼Œä¸å°†è¯¥Cookieå­˜åœ¨ç¡¬ç›˜ä¸­</span></strong></p><p>&nbsp;</p><p><span>æˆ‘ä»¬æ¥æ‹ä¸€æ‹æ€è·¯æµç¨‹ï¼šå½“æˆ‘ä»¬è®¿é—®Servlet4çš„æ—¶å€™ï¼Œ</span><strong><span>æœåŠ¡å™¨å°±ä¼šåˆ›å»ºä¸€ä¸ªSessionå¯¹è±¡ï¼Œæ‰§è¡Œæˆ‘ä»¬çš„ç¨‹åºä»£ç ï¼Œå¹¶è‡ªåŠ¨é¢å‘ä¸ªCookieç»™ç”¨æˆ·æµè§ˆå™¨</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f1ff929f22a?w=1246&amp;h=583&amp;f=png&amp;s=55515" referrerpolicy="no-referrer"></p><p><span>å½“æˆ‘ä»¬</span><strong><span>ç”¨åŒä¸€ä¸ªæµè§ˆå™¨è®¿é—®Servlet7</span></strong><span>çš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨ä¼šæŠŠCookieçš„å€¼é€šè¿‡httpåè®®å¸¦è¿‡å»ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°±çŸ¥é“ç”¨å“ªä¸€Session</span></strong><span>ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f202c181484?w=1246&amp;h=583&amp;f=png&amp;s=57702" referrerpolicy="no-referrer"></p><p><span>è€Œå½“æˆ‘ä»¬</span><strong><span>ä½¿ç”¨æ–°ä¼šè¯çš„æµè§ˆå™¨è®¿é—®Servlet7çš„æ—¶å€™</span></strong><span>ï¼Œ</span><strong><span>è¯¥æ–°æµè§ˆå™¨å¹¶æ²¡æœ‰Cookieï¼ŒæœåŠ¡å™¨æ— æ³•è¾¨è®¤ä½¿ç”¨å“ªä¸€ä¸ªSessionï¼Œæ‰€ä»¥å°±è·å–ä¸åˆ°å€¼</span></strong></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz01y1rfg306o06oweh.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><p>&nbsp;</p><h2><a name="8æµè§ˆå™¨ç¦ç”¨äº†cookiesessionè¿˜èƒ½ç”¨å—" class="md-header-anchor"></a><span>8.æµè§ˆå™¨ç¦ç”¨äº†Cookieï¼ŒSessionè¿˜èƒ½ç”¨å—ï¼Ÿ</span></h2><p><span>ä¸Šé¢è¯´äº†Sessionæ˜¯ä¾é Cookieæ¥è¯†åˆ«ç”¨æˆ·æµè§ˆå™¨çš„ã€‚å¦‚æœæˆ‘çš„ç”¨æˆ·æµè§ˆå™¨ç¦ç”¨äº†Cookieäº†å‘¢ï¼Ÿç»å¤§å¤šæ•°çš„æ‰‹æœºæµè§ˆå™¨éƒ½ä¸æ”¯æŒCookieï¼Œé‚£æˆ‘çš„Sessionæ€ä¹ˆåŠï¼Ÿ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f202efb2f94?w=1230&amp;h=466&amp;f=png&amp;s=30873" referrerpolicy="no-referrer"></p><p><span>å¥½çš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æƒ…å†µæ˜¯æ€ä¹ˆæ ·çš„ã€‚ç”¨æˆ·æµè§ˆå™¨è®¿é—®Servlet4çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨å‘ç”¨æˆ·æµè§ˆå™¨é¢å‘äº†ä¸€ä¸ªCookie</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f2049be75e8?w=1246&amp;h=583&amp;f=png&amp;s=53992" referrerpolicy="no-referrer"></p><p><span>ä½†æ˜¯å‘¢ï¼Œå½“ç”¨æˆ·æµè§ˆå™¨è®¿é—®Servlet7çš„æ—¶å€™ï¼Œç”±äºæˆ‘ä»¬</span><strong><span>ç¦ç”¨äº†Cookieï¼Œæ‰€ä»¥ç”¨æˆ·æµè§ˆå™¨å¹¶æ²¡æœ‰æŠŠCookieå¸¦è¿‡å»ç»™æœåŠ¡å™¨</span></strong><span>ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f2072d3eb09?w=1246&amp;h=583&amp;f=png&amp;s=77888" referrerpolicy="no-referrer"></p><p><span>ä¸€çœ‹ï¼ŒSessionå¥½åƒä¸èƒ½ç”¨äº†ã€‚ä½†æ˜¯Java Webæä¾›äº†è§£å†³æ–¹æ³•ï¼š</span><strong><span>URLåœ°å€é‡å†™</span></strong></p><p><span>HttpServletResponseç±»æä¾›äº†ä¸¤ä¸ªURLåœ°å€é‡å†™çš„æ–¹æ³•ï¼š</span></p><ul><li><strong><span>encodeURL(String url)</span></strong></li><li><strong><span>encodeRedirectURL(String url)</span></strong></li></ul><p><span>éœ€è¦å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•ä¼šè‡ªåŠ¨åˆ¤æ–­è¯¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒCookieï¼Œå¦‚æœæ”¯æŒCookieï¼Œé‡å†™åçš„URLåœ°å€å°±ä¸ä¼šå¸¦æœ‰jsessionidäº†ã€å½“ç„¶äº†ï¼Œå³ä½¿æµè§ˆå™¨æ”¯æŒCookieï¼Œç¬¬ä¸€æ¬¡è¾“å‡ºURLåœ°å€çš„æ—¶å€™è¿˜æ˜¯ä¼šå‡ºç°jsessionidï¼ˆå› ä¸ºæ²¡æœ‰ä»»ä½•Cookieå¯å¸¦ï¼‰ã€‘</span></p><p><span>ä¸‹é¢æˆ‘ä»¬å°±ä»¥ä¸Šé¢â€œè´­ç‰©â€çš„ä¾‹å­æ¥åšè¯•éªŒå§ï¼</span><strong><span>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹ç¦ç”¨æ‰Cookieå¯¹åŸæ¥çš„å°ä¾‹å­æœ‰ä»€ä¹ˆå½±å“</span></strong><span>ã€‚</span></p><p><span>è®¿é—®Servlet1ï¼Œéšä¾¿ç‚¹å‡»ä¸€æœ¬ä¹¦ç±è´­ä¹°</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f20896f8452?w=598&amp;h=309&amp;f=png&amp;s=19407" referrerpolicy="no-referrer"></p><p><span>æ— è®ºç‚¹å‡»å¤šå°‘æ¬¡ï¼Œéƒ½ä¼šç›´æ¥æç¤ºæˆ‘ä»¬æœ‰ä¹°è¿‡ä»»ä½•å•†å“</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f20aa54abd7?w=996&amp;h=583&amp;f=png&amp;s=39062" referrerpolicy="no-referrer"></p><p><span>åŸå› ä¹Ÿéå¸¸ç®€å•ï¼Œæ²¡æœ‰Cookieä¼ é€’ç»™æœåŠ¡å™¨ï¼Œ</span><strong><span>æœåŠ¡å™¨æ¯æ¬¡åˆ›å»ºçš„æ—¶å€™éƒ½æ˜¯æ–°çš„Session</span></strong><span>ï¼Œå¯¼è‡´æœ€åè·å–åˆ°çš„Listé›†åˆä¸€å®šæ˜¯ç©ºçš„ã€‚</span></p><p><strong><span>ä¸åŒServletè·å–åˆ°çš„Sessionçš„idå·éƒ½æ˜¯ä¸åŒçš„</span></strong><span>ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f2098264d3a?w=666&amp;h=220&amp;f=png&amp;s=5813" referrerpolicy="no-referrer"></p><p><span>ä¸‹é¢æˆ‘ä»¬å°±å¯¹URLè¿›è¡Œé‡å†™ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ¢å¤æ²¡æœ‰ç¦æ‰Cookieä¹‹å‰çš„æ•ˆæœã€‚</span></p><p><span>åŸåˆ™ï¼š</span><strong><span>æŠŠSessionçš„å±æ€§å¸¦è¿‡å»ã€ä¼ é€’ç»™ã€‘å¦å¤–ä¸€ä¸ªServletï¼Œéƒ½è¦URLåœ°å€é‡å†™</span></strong></p><p><span>åœ¨è·³è½¬åˆ°æ˜¾ç¤ºè´­ä¹°è¿‡å•†å“çš„Servletçš„æ—¶å€™ï¼ŒURLåœ°å€é‡å†™ã€‚</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">url</span> <span class="cm-operator">=</span> <span class="cm-string">"/ouzicheng/Servlet7"</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">sendRedirect</span>(<span class="cm-variable">response</span>.<span class="cm-variable">encodeURL</span>(<span class="cm-variable">url</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>å†æ¬¡è®¿é—®Servlet1ï¼Œå½“æˆ‘ç‚¹å‡»javawebçš„æ—¶å€™ï¼Œå·²ç»èƒ½å¤ŸæˆåŠŸå‡ºç°æˆ‘ä¹°è¿‡çš„å•†å“äº†ã€‚å¹¶ä¸”</span><strong><span>Sessionçš„idé€šè¿‡URLåœ°å€é‡å†™ï¼Œä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªSession</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f20b5625e0c?w=1035&amp;h=334&amp;f=png&amp;s=21299" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f20df22bf39?w=658&amp;h=285&amp;f=png&amp;s=7303" referrerpolicy="no-referrer"></p><p><span>URLåœ°å€é‡å†™çš„åŸç†ï¼š</span><strong><span>å°†Sessionçš„idä¿¡æ¯é‡å†™åˆ°URLåœ°å€ä¸­</span></strong><span>ã€‚</span><strong><span>æœåŠ¡å™¨è§£æé‡å†™åURLï¼Œè·å–Sessionçš„id</span></strong><span>ã€‚è¿™æ ·ä¸€æ¥ï¼Œå³ä½¿æµè§ˆå™¨ç¦ç”¨æ‰äº†Cookieï¼Œä½†Sessionçš„idé€šè¿‡æœåŠ¡å™¨ç«¯ä¼ é€’ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨Sessionæ¥è®°å½•ç”¨æˆ·çš„çŠ¶æ€ã€‚</span></p><h2><a name="9sessionç¦ç”¨cookie" class="md-header-anchor"></a><span>9.Sessionç¦ç”¨Cookie</span></h2><p><span>Java Webè§„èŒƒæ”¯æŒé€šè¿‡é…ç½®ç¦ç”¨Cookieï¼Œç¦ç”¨è‡ªå·±é¡¹ç›®çš„Cookieï¼Œ</span><strong><span>åœ¨META-INFæ–‡ä»¶å¤¹ä¸‹çš„context.xmlæ–‡ä»¶ä¸­ä¿®æ”¹ï¼ˆæ²¡æœ‰åˆ™åˆ›å»ºï¼‰</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f20f8e929dd?w=873&amp;h=249&amp;f=png&amp;s=10986" referrerpolicy="no-referrer"></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-meta">&lt;?xml</span> <span class="cm-meta">version='1.0' encoding='utf-8'?&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" class="cm-tab-wrap-hack" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Context</span> <span class="cm-attribute">path</span>=<span class="cm-string">"/ouzicheng"</span> <span class="cm-attribute">cookies</span>=<span class="cm-string">"false"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">Context</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><p><span>ç¦ç”¨å…¨éƒ¨webåº”ç”¨çš„Cookie</span></p><ul><li><strong><span>åœ¨conf/context.xmlä¸­ä¿®æ”¹</span></strong></li></ul><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f20f7170b6e?w=1145&amp;h=512&amp;f=png&amp;s=19525" referrerpolicy="no-referrer"></p><p><span>æ³¨æ„ï¼š</span><strong><span>è¯¥é…ç½®åªæ˜¯è®©æœåŠ¡å™¨ä¸èƒ½è‡ªåŠ¨ç»´æŠ¤åä¸ºjsessionidçš„Cookieï¼Œå¹¶ä¸èƒ½é˜»æ­¢Cookieçš„è¯»å†™ã€‚</span></strong></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz0ljrp5g306o06o416.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h2><a name="10sessionæ¡ˆä¾‹" class="md-header-anchor"></a><span>10.Sessionæ¡ˆä¾‹</span></h2><h3><a name="101ä½¿ç”¨sessionå®Œæˆç”¨æˆ·ç®€å•ç™»é™†" class="md-header-anchor"></a><span>10.1ä½¿ç”¨Sessionå®Œæˆç”¨æˆ·ç®€å•ç™»é™†</span></h3><p><span>å…ˆåˆ›å»ºUserç±»</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">username</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-variable">User</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-variable">User</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">password</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-variable">username</span> <span class="cm-operator">=</span> <span class="cm-variable">username</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">this</span>.<span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-variable">password</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">....<span class="cm-variable">å„ç§setã€getæ–¹æ³•</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 286px;"></div><div class="CodeMirror-gutters" style="display: none; height: 286px;"></div></div></div></pre><ul><li><span>ä½¿ç”¨ç®€å•çš„é›†åˆæ¨¡æ‹Ÿä¸€ä¸ªæ•°æ®åº“</span></li></ul><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span> <span class="cm-keyword">static</span> <span class="cm-variable">List</span><span class="cm-operator">&lt;</span><span class="cm-variable">User</span><span class="cm-operator">&gt;</span> <span class="cm-variable">list</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ArrayList</span><span class="cm-operator">&lt;&gt;</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è£…è½½äº›æ•°æ®è¿›æ•°æ®åº“</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">static</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span class="cm-keyword">new</span> <span class="cm-variable">User</span>(<span class="cm-string">"aaa"</span>,<span class="cm-string">"111"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span class="cm-keyword">new</span> <span class="cm-variable">User</span>(<span class="cm-string">"bbb"</span>,<span class="cm-string">"222"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">list</span>.<span class="cm-variable">add</span>(<span class="cm-keyword">new</span> <span class="cm-variable">User</span>(<span class="cm-string">"ccc"</span>,<span class="cm-string">"333"</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šè¿‡ç”¨æˆ·åå’Œå¯†ç æŸ¥æ‰¾ç”¨æˆ·</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable">User</span> <span class="cm-def">find</span>(<span class="cm-variable-3">String</span> <span class="cm-variable">username</span>, <span class="cm-variable-3">String</span> <span class="cm-variable">password</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable">User</span> <span class="cm-variable">user</span> : <span class="cm-variable">list</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">if</span> (<span class="cm-variable">user</span>.<span class="cm-variable">getUsername</span>().<span class="cm-variable">equals</span>(<span class="cm-variable">username</span>) <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">user</span>.<span class="cm-variable">getPassword</span>().<span class="cm-variable">equals</span>(<span class="cm-variable">password</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">user</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 506px;"></div><div class="CodeMirror-gutters" style="display: none; height: 506px;"></div></div></div></pre><p><span>è¡¨å•æäº¤çš„å·¥ä½œæˆ‘å°±åœ¨jspå†™äº†ï¼Œå¦‚æœåœ¨Servletå†™å¤ªéº»çƒ¦äº†ï¼</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span> <span class="cm-attribute">action</span>=<span class="cm-string">"/ouzicheng/LoginServlet"</span> <span class="cm-attribute">method</span>=<span class="cm-string">"post"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ç”¨æˆ·åï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"username"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  å¯†ç ï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"password"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"password"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æäº¤"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><p><strong><span>è·å–åˆ°è¡¨å•æäº¤çš„æ•°æ®ï¼ŒæŸ¥æ‰¾æ•°æ®åº“æ˜¯å¦æœ‰ç›¸å¯¹åº”çš„ç”¨æˆ·åå’Œå¯†ç </span></strong><span>ã€‚å¦‚æœæ²¡æœ‰å°±æç¤ºç”¨æˆ·åæˆ–å¯†ç å‡ºé”™äº†ï¼Œå¦‚æœæœ‰å°±è·³è½¬åˆ°å¦å¤–ä¸€ä¸ªé¡µé¢</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">username</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"username"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">password</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"password"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">User</span> <span class="cm-variable">user</span> <span class="cm-operator">=</span> <span class="cm-variable">UserDB</span>.<span class="cm-variable">find</span>(<span class="cm-variable">username</span>, <span class="cm-variable">password</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±æ˜¯ç”¨æˆ·åæˆ–å¯†ç å‡ºé”™äº†ã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">user</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">response</span>.<span class="cm-variable">getWriter</span>().<span class="cm-variable">write</span>(<span class="cm-string">"you can't login"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ ‡è®°ç€è¯¥ç”¨æˆ·å·²ç»ç™»é™†äº†ï¼</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">HttpSession</span> <span class="cm-variable">httpSession</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">httpSession</span>.<span class="cm-variable">setAttribute</span>(<span class="cm-string">"user"</span>, <span class="cm-variable">user</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·³è½¬åˆ°å…¶ä»–é¡µé¢ï¼Œå‘Šè¯‰ç”¨æˆ·æˆåŠŸç™»é™†äº†ã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">sendRedirect</span>(<span class="cm-variable">response</span>.<span class="cm-variable">encodeURL</span>(<span class="cm-string">"index.jsp"</span>));</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 374px;"></div><div class="CodeMirror-gutters" style="display: none; height: 374px;"></div></div></div></pre><p><span>æˆ‘ä»¬æ¥è¯•è¯•ä¸‹æ•°æ®åº“æ²¡æœ‰çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæç¤ºæˆ‘ä¸èƒ½ç™»é™†ã€‚</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f21176b331c?w=1010&amp;h=322&amp;f=png&amp;s=18347" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f212adfe9ca?w=1010&amp;h=322&amp;f=png&amp;s=16794" referrerpolicy="no-referrer"></p><p><span>è¯•è¯•æ•°æ®åº“å­˜åœ¨çš„ç”¨æˆ·åå’Œå¯†ç </span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f213244e998?w=1010&amp;h=322&amp;f=png&amp;s=18219" referrerpolicy="no-referrer"></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f214c5634f2?w=1010&amp;h=695&amp;f=png&amp;s=22170" referrerpolicy="no-referrer"></p><hr /><h3><a name="102åˆ©ç”¨sessioné˜²æ­¢è¡¨å•é‡å¤æäº¤" class="md-header-anchor"></a><span>10.2åˆ©ç”¨Sessioné˜²æ­¢è¡¨å•é‡å¤æäº¤</span></h3><ul><li><p><span>é‡å¤æäº¤çš„å±å®³ï¼š</span></p><ul><li><span>åœ¨æŠ•ç¥¨çš„ç½‘é¡µä¸Šä¸åœåœ°æäº¤ï¼Œå®ç°äº†åˆ·ç¥¨çš„æ•ˆæœã€‚</span></li><li><span>æ³¨å†Œå¤šä¸ªç”¨æˆ·ï¼Œä¸æ–­å‘å¸–å­ï¼Œæ‰°ä¹±æ­£å¸¸å‘å¸–ç§©åºã€‚</span></li></ul></li><li><p><span>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¸¸è§çš„é‡å¤æäº¤ã€‚</span></p><ul><li><span>åœ¨å¤„ç†è¡¨å•çš„Servletä¸­åˆ·æ–°ã€‚</span></li><li><span>åé€€å†æäº¤</span></li><li><span>ç½‘ç»œå»¶è¿Ÿï¼Œå¤šæ¬¡ç‚¹å‡»æäº¤æŒ‰é’®</span></li></ul></li></ul><p><span>ä¸‹é¢çš„gifæ˜¯</span><strong><span>åé€€å†æäº¤</span></strong><span>ï¼Œ</span><strong><span>åœ¨å¤„ç†æäº¤è¯·æ±‚çš„Servletä¸­åˆ·æ–°</span></strong>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f2faadc4d90?w=1220&amp;h=814&amp;f=gif&amp;s=201492" referrerpolicy="no-referrer"></p><p><span>ä¸‹é¢çš„gifæ˜¯</span><strong><span>ç½‘ç»œå»¶è¿Ÿï¼Œå¤šæ¬¡ç‚¹å‡»æäº¤æŒ‰é’®</span></strong>
<img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f216b3bc059?w=1220&amp;h=814&amp;f=gif&amp;s=136754" referrerpolicy="no-referrer"></p><p><span>å¯¹äºç½‘ç»œå»¶è¿Ÿé€ æˆçš„å¤šæ¬¡æäº¤æ•°æ®ç»™æœåŠ¡å™¨ï¼Œå…¶å®æ˜¯å®¢æˆ·ç«¯çš„é—®é¢˜ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨javaScriptæ¥é˜²æ­¢è¿™ç§æƒ…å†µ</span></p><p><span>è¦åšçš„äº‹æƒ…ä¹Ÿéå¸¸ç®€å•ï¼š</span><strong><span>å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å‡»æäº¤æŒ‰é’®æ—¶ï¼ŒæŠŠæ•°æ®æäº¤ç»™æœåŠ¡å™¨ã€‚å½“ç”¨æˆ·å†æ¬¡ç‚¹å‡»æäº¤æŒ‰é’®æ—¶ï¼Œå°±ä¸æŠŠæ•°æ®æäº¤ç»™æœåŠ¡å™¨äº†ã€‚</span></strong></p><p>&nbsp;</p><p><span>ç›‘å¬ç”¨æˆ·æäº¤äº‹ä»¶ã€‚åªèƒ½è®©ç”¨æˆ·æäº¤ä¸€æ¬¡è¡¨å•ï¼</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="html" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">%@</span> <span class="cm-attribute">page</span> <span class="cm-attribute">contentType</span>=<span class="cm-string">"text/html;charset=UTF-8"</span> <span class="cm-attribute">language</span>=<span class="cm-string">"java"</span> <span class="cm-attribute">%</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span>è¡¨å•æäº¤<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">title</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text/javascript"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//å®šä¹‰ä¸€ä¸ªå…¨å±€æ ‡è¯†é‡ï¼šæ˜¯å¦å·²ç»æäº¤è¿‡è¡¨å•æ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">isCommitted</span> <span class="cm-operator">=</span> <span class="cm-atom">false</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">function</span> <span class="cm-def">doSubmit</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//falseè¡¨ç¤ºçš„æ˜¯æ²¡æœ‰æäº¤è¿‡ï¼Œäºæ˜¯å°±å¯ä»¥è®©è¡¨å•æäº¤ç»™Servlet</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">if</span>(<span class="cm-variable">isCommitted</span><span class="cm-operator">==</span><span class="cm-atom">false</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">isCommitted</span> <span class="cm-operator">=</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-atom">false</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">head</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span> <span class="cm-attribute">action</span>=<span class="cm-string">"/ouzicheng/Servlet7"</span> <span class="cm-attribute">onsubmit</span>=<span class="cm-string">"return doSubmit()"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ç”¨æˆ·åï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"username"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æäº¤"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">body</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">html</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 748px;"></div><div class="CodeMirror-gutters" style="display: none; height: 748px;"></div></div></div></pre><p><span>å¥½çš„ï¼Œæˆ‘ä»¬æ¥è¯•ä¸€ä¸‹æ˜¯ä¸æ˜¯çœŸçš„å¯ä»¥è§£å†³ç½‘ç»œå»¶è¿Ÿæ‰€é€ æˆçš„å¤šæ¬¡æäº¤è¡¨å•æ•°æ®ï¼Œæ³¨æ„é¼ æ ‡ï¼Œæˆ‘å·²ç»ç‚¹å‡»è¿‡å¾ˆå¤šæ¬¡çš„äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f21e9a00095?w=1220&amp;h=814&amp;f=gif&amp;s=102980" referrerpolicy="no-referrer"></p><p><span>ç”±äºç½‘ç»œå»¶è¿Ÿé€ æˆçš„å¤šæ¬¡æäº¤æ•°æ®ç»™æœåŠ¡å™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨javaScriptä»£ç è¿™æ ·è§£å†³ï¼š</span><strong><span>å½“æˆ‘ç‚¹å‡»è¿‡ä¸€æ¬¡æäº¤æŒ‰é’®æ—¶ï¼Œæˆ‘å°±æŠŠæäº¤çš„æŒ‰é’®éšè—èµ·æ¥ã€‚ä¸èƒ½è®©ç”¨æˆ·ç‚¹å‡»äº†</span></strong><span>ï¼</span></p><p><span>æƒ³è¦è®©æŒ‰é’®éšè—èµ·æ¥ï¼Œä¹Ÿå¾ˆç®€å•ã€‚</span><strong><span>åªè¦è·å–åˆ°æŒ‰é’®çš„èŠ‚ç‚¹ï¼Œå°±å¯ä»¥æ§åˆ¶æŒ‰é’®çš„éšè—æˆ–æ˜¾ç¤ºäº†ï¼</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="javascript"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="javascript"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-variable">script</span> <span class="cm-variable">type</span><span class="cm-operator">=</span><span class="cm-string">"text/javascript"</span><span class="cm-operator">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">function</span> <span class="cm-def">doSubmit</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">var</span> <span class="cm-def">button</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">getElementById</span>(<span class="cm-string">"button"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">button</span>.<span class="cm-property">disabled</span> <span class="cm-operator">=</span> <span class="cm-variable">disabled</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-atom">true</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-operator">&lt;</span><span class="cm-string-2">/script&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 198px;"></div><div class="CodeMirror-gutters" style="display: none; height: 198px;"></div></div></div></pre><p><span>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹æ•ˆæœ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f21f4c44539?w=1220&amp;h=814&amp;f=gif&amp;s=124766" referrerpolicy="no-referrer"></p><p><strong><span>åœ¨å¤„ç†è¡¨å•çš„Servletä¸­åˆ·æ–°</span></strong><span>å’Œ</span><strong><span>åé€€å†æäº¤</span></strong><span>è¿™ä¸¤ç§æ–¹å¼ä¸èƒ½åªé å®¢æˆ·ç«¯æ¥é™åˆ¶äº†ã€‚ä¹Ÿå°±æ˜¯è¯´javaScriptä»£ç æ— æ³•é˜»æ­¢è¿™ä¸¤ç§æƒ…å†µçš„å‘ç”Ÿã€‚</span></p><p><span>äºæ˜¯ä¹ï¼Œæˆ‘ä»¬å°±æƒ³å¾—ç”¨å…¶ä»–åŠæ³•æ¥é˜»æ­¢è¡¨å•æ•°æ®é‡å¤æäº¤äº†ã€‚æˆ‘ä»¬ç°åœ¨å­¦äº†Sessionï¼Œ</span><strong><span>Sessionå¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªç”¨æˆ·æ˜¯å¦ç™»é™†äº†</span></strong><span>ã€‚Sessionçš„åŸç†ä¹Ÿè¯´äº†ï¼š</span><strong><span>ä¸åŒçš„ç”¨æˆ·æµè§ˆå™¨ä¼šæ‹¥æœ‰ä¸åŒçš„Session</span></strong><span>ã€‚è€Œrequestå’ŒServletContextä¸ºä»€ä¹ˆå°±ä¸è¡Œå‘¢ï¼Ÿ</span><strong><span>requestçš„åŸŸå¯¹è±¡åªèƒ½æ˜¯ä¸€æ¬¡httpè¯·æ±‚</span></strong><span>ï¼Œ</span><strong><span>æäº¤è¡¨å•æ•°æ®çš„æ—¶å€™requeståŸŸå¯¹è±¡çš„æ•°æ®å–ä¸å‡ºæ¥</span></strong><span>ã€‚ServletContextä»£è¡¨æ•´ä¸ªwebåº”ç”¨ï¼Œ</span><strong><span>å¦‚æœæœ‰å‡ ä¸ªç”¨æˆ·æµè§ˆå™¨åŒæ—¶è®¿é—®</span></strong><span>ï¼Œ</span><strong><span>ServletContextåŸŸå¯¹è±¡çš„æ•°æ®ä¼šè¢«å¤šæ¬¡è¦†ç›–æ‰</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯è¯´åŸŸå¯¹è±¡çš„æ•°æ®å°±æ¯«æ— æ„ä¹‰äº†ã€‚</span></p><p><span>å¯èƒ½åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬ä¼šæƒ³åˆ°ï¼šåœ¨æäº¤æ•°æ®çš„æ—¶å€™ï¼Œå­˜è¿›SessionåŸŸå¯¹è±¡çš„æ•°æ®ï¼Œåœ¨å¤„ç†æäº¤æ•°æ®çš„Servletä¸­åˆ¤æ–­SessionåŸŸå¯¹è±¡æ•°æ®????ã€‚ç©¶ç«Ÿåˆ¤æ–­Sessionä»€ä¹ˆï¼Ÿåˆ¤æ–­SessionåŸŸå¯¹è±¡çš„æ•°æ®ä¸ä¸ºnullï¼Ÿ</span><strong><span>æ²¡ç”¨å‘€ï¼Œæ—¢ç„¶å·²ç»æäº¤è¿‡æ¥äº†ï¼Œé‚£è‚¯å®šä¸ä¸ºnullã€‚</span></strong></p><ul><li><p><span>æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±æƒ³åˆ°äº†ï¼Œåœ¨</span><strong><span>è¡¨å•ä¸­è¿˜æœ‰ä¸€ä¸ªéšè—åŸŸï¼Œå¯ä»¥é€šè¿‡éšè—åŸŸæŠŠæ•°æ®äº¤ç»™æœåŠ¡å™¨</span></strong><span>ã€‚</span></p><ul><li><strong><span>åˆ¤æ–­SessionåŸŸå¯¹è±¡çš„æ•°æ®å’Œjspéšè—åŸŸæäº¤çš„æ•°æ®æ˜¯å¦å¯¹åº”</span></strong><span>ã€‚</span></li><li><strong><span>åˆ¤æ–­éšè—åŸŸçš„æ•°æ®æ˜¯å¦ä¸ºç©º</span></strong><span>ã€å¦‚æœä¸ºç©ºï¼Œ</span><strong><span>å°±æ˜¯ç›´æ¥è®¿é—®è¡¨å•å¤„ç†é¡µé¢çš„Servlet</span></strong><span>ã€‘</span></li><li><strong><span>åˆ¤æ–­Sessionçš„æ•°æ®æ˜¯å¦ä¸ºç©º</span></strong><span>ã€servletåˆ¤æ–­å®Œæ˜¯å¦é‡å¤æäº¤ï¼Œ</span><strong><span>æœ€å¥½èƒ½ç«‹é©¬ç§»é™¤Sessionçš„æ•°æ®</span></strong><span>ï¼Œä¸ç„¶è¿˜æ²¡æœ‰ç§»é™¤çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯é‚£è¾¹å„¿çš„è¯·æ±‚åˆæ¥äº†ï¼Œå°±åˆèƒ½åŒ¹é…äº†ï¼Œäº§ç”Ÿäº†é‡å¤æäº¤ã€‚</span><strong><span>å¦‚æœSessionåŸŸå¯¹è±¡æ•°æ®ä¸ºç©ºï¼Œè¯æ˜å·²ç»æäº¤è¿‡æ•°æ®äº†ï¼</span></strong><span>ã€‘</span></li></ul></li></ul><p><span>æˆ‘ä»¬å‘SessionåŸŸå¯¹è±¡çš„å­˜å…¥æ•°æ®ç©¶ç«Ÿæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç®€å•çš„ä¸€ä¸ªæ•°å­—ï¼Ÿå¥½åƒä¹Ÿè¡Œå•Šã€‚å› ä¸º</span><strong><span>åªè¦SessionåŸŸå¯¹è±¡çš„æ•°æ®å’Œjspéšè—åŸŸå¸¦è¿‡å»çš„æ•°æ®å¯¹å¾—ä¸Šå·å°±è¡Œäº†å‘€ï¼Œåæ­£åœ¨Servletä¸Šåˆ¤æ–­å®Œæ˜¯å¦é‡å¤æäº¤ï¼Œä¼šç«‹é©¬æŠŠSessionçš„æ•°æ®ç§»é™¤æ‰çš„</span></strong><span>ã€‚æ›´ä¸“ä¸šçš„åšæ³•æ˜¯ï¼š</span><strong><span>å‘SessionåŸŸå¯¹è±¡å­˜å…¥çš„æ•°æ®æ˜¯ä¸€ä¸ªéšæœºæ•°ã€Token--ä»¤ç‰Œ</span></strong><span>ã€‘ã€‚</span></p><p><strong><span>ç”Ÿæˆä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„éšæœºæ•°</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">/*</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* äº§ç”Ÿéšæœºæ•°å°±åº”è¯¥ç”¨ä¸€ä¸ªå¯¹è±¡æ¥ç”Ÿæˆï¼Œè¿™æ ·å¯ä»¥é¿å…éšæœºæ•°çš„é‡å¤ã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* æ‰€ä»¥è®¾è®¡æˆå•ä¾‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">* */</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span> <span class="cm-keyword">class</span> <span class="cm-def">TokenProcessor</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-variable">TokenProcessor</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">private</span> <span class="cm-keyword">final</span> <span class="cm-keyword">static</span> <span class="cm-variable">TokenProcessor</span> <span class="cm-variable">TOKEN_PROCESSOR</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">TokenProcessor</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable">TokenProcessor</span> <span class="cm-variable">getInstance</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">TOKEN_PROCESSOR</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">public</span> <span class="cm-keyword">static</span> <span class="cm-variable-3">String</span> <span class="cm-variable">makeToken</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//è¿™ä¸ªéšæœºç”Ÿæˆå‡ºæ¥çš„Tokençš„é•¿åº¦æ˜¯ä¸ç¡®å®šçš„</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">token</span> <span class="cm-operator">=</span> <span class="cm-variable-3">String</span>.<span class="cm-variable">valueOf</span>(<span class="cm-variable">System</span>.<span class="cm-variable">currentTimeMillis</span>() <span class="cm-operator">+</span> <span class="cm-keyword">new</span> <span class="cm-variable">Random</span>().<span class="cm-variable">nextInt</span>(<span class="cm-number">99999999</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">try</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//æˆ‘ä»¬æƒ³è¦éšæœºæ•°çš„é•¿åº¦ä¸€è‡´ï¼Œå°±è¦è·å–åˆ°æ•°æ®æŒ‡çº¹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">MessageDigest</span> <span class="cm-variable">messageDigest</span> <span class="cm-operator">=</span> <span class="cm-variable">MessageDigest</span>.<span class="cm-variable">getInstance</span>(<span class="cm-string">"md5"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">byte</span>[] <span class="cm-variable">md5</span> <span class="cm-operator">=</span> <span class="cm-variable">messageDigest</span>.<span class="cm-variable">digest</span>(<span class="cm-variable">token</span>.<span class="cm-variable">getBytes</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//å¦‚æœæˆ‘ä»¬ç›´æ¥ return  new String(md5)å‡ºå»ï¼Œå¾—åˆ°çš„éšæœºæ•°ä¼šä¹±ç ã€‚</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//å› ä¸ºéšæœºæ•°æ˜¯ä»»æ„çš„01010101010ï¼Œåœ¨è½¬æ¢æˆå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä¼šæŸ¥gb2312çš„ç è¡¨ï¼Œgb2312ç è¡¨ä¸ä¸€å®šæ”¯æŒè¯¥äºŒè¿›åˆ¶æ•°æ®ï¼Œå¾—åˆ°çš„å°±æ˜¯ä¹±ç </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//äºæ˜¯ä¹ç»è¿‡base64ç¼–ç æˆäº†æ˜æ–‡çš„æ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">BASE64Encoder</span> <span class="cm-variable">base64Encoder</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">BASE64Encoder</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">base64Encoder</span>.<span class="cm-variable">encode</span>(<span class="cm-variable">md5</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  } <span class="cm-keyword">catch</span> (<span class="cm-variable">NoSuchAlgorithmException</span> <span class="cm-variable">e</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">e</span>.<span class="cm-variable">printStackTrace</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-atom">null</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1056px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1056px;"></div></div></div></pre><p><strong><span>åˆ›å»ºTokenéšæœºæ•°ï¼Œå¹¶è·³è½¬åˆ°jspé¡µé¢</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//ç”Ÿå‡ºéšæœºæ•°</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">TokenProcessor</span> <span class="cm-variable">tokenProcessor</span> <span class="cm-operator">=</span> <span class="cm-variable">TokenProcessor</span>.<span class="cm-variable">getInstance</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">token</span> <span class="cm-operator">=</span> <span class="cm-variable">tokenProcessor</span>.<span class="cm-variable">makeToken</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//å°†éšæœºæ•°å­˜è¿›Sessionä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>().<span class="cm-variable">setAttribute</span>(<span class="cm-string">"token"</span>, <span class="cm-variable">token</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">//è·³è½¬åˆ°æ˜¾ç¤ºé¡µé¢</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">request</span>.<span class="cm-variable">getRequestDispatcher</span>(<span class="cm-string">"/login.jsp"</span>).<span class="cm-variable">forward</span>(<span class="cm-variable">request</span>, <span class="cm-variable">response</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 242px;"></div><div class="CodeMirror-gutters" style="display: none; height: 242px;"></div></div></div></pre><p><strong><span>jspéšè—åŸŸè·å–åˆ°Sessionçš„å€¼</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span> <span class="cm-attribute">action</span>=<span class="cm-string">"/ouzicheng/Servlet7"</span> <span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ç”¨æˆ·åï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"username"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æäº¤"</span> <span class="cm-attribute">id</span>=<span class="cm-string">"button"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">%--ä½¿ç”¨ELè¡¨è¾¾å¼å–å‡ºsessionä¸­çš„Token--%</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"hidden"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"token"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"${token}"</span> <span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">form</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 264px;"></div><div class="CodeMirror-gutters" style="display: none; height: 264px;"></div></div></div></pre><p><span>åœ¨å¤„ç†è¡¨å•æäº¤é¡µé¢ä¸­åˆ¤æ–­ï¼š</span><strong><span>jspéšè—åŸŸæ˜¯å¦æœ‰å€¼å¸¦è¿‡æ¥ï¼ŒSessionä¸­çš„å€¼æ˜¯å¦ä¸ºç©ºï¼ŒSessionä¸­çš„å€¼å’Œjspéšè—åŸŸå¸¦è¿‡æ¥çš„å€¼æ˜¯å¦ç›¸ç­‰</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">serverValue</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">String</span>) <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>().<span class="cm-variable">getAttribute</span>(<span class="cm-string">"token"</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">clientValue</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"token"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">serverValue</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">clientValue</span> <span class="cm-operator">!=</span> <span class="cm-atom">null</span> <span class="cm-operator">&amp;&amp;</span> <span class="cm-variable">serverValue</span>.<span class="cm-variable">equals</span>(<span class="cm-variable">clientValue</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"å¤„ç†è¯·æ±‚"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//æ¸…é™¤SessionåŸŸå¯¹è±¡æ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>().<span class="cm-variable">removeAttribute</span>(<span class="cm-string">"token"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}<span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"è¯·ä¸è¦é‡å¤æäº¤æ•°æ®ï¼"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 330px;"></div><div class="CodeMirror-gutters" style="display: none; height: 330px;"></div></div></div></pre><p><span>ä¸‹é¢æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹,å·²ç»å¯ä»¥è§£å†³è¡¨å•é‡å¤æäº¤çš„é—®é¢˜äº†ï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f223b0ef833?w=1220&amp;h=814&amp;f=gif&amp;s=206379" referrerpolicy="no-referrer"></p><p><span>å®ç°åŸç†æ˜¯éå¸¸ç®€å•çš„ï¼š</span></p><ul><li><span>åœ¨sessionåŸŸä¸­å­˜å‚¨ä¸€ä¸ªtoken</span></li><li><span>ç„¶åå‰å°é¡µé¢çš„éšè—åŸŸè·å–å¾—åˆ°è¿™ä¸ªtoken</span></li><li><span>åœ¨ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±åˆ¤æ–­seesionæœ‰æ²¡æœ‰å€¼ï¼Œå¦‚æœæœ‰å°±æ¯”å¯¹ã€‚å¯¹æ¯”æ­£ç¡®åæˆ‘ä»¬å°±å¤„ç†è¯·æ±‚ï¼Œæ¥ç€å°±æŠŠsessionå­˜å‚¨çš„æ•°æ®ç»™åˆ é™¤äº†</span></li><li><span>ç­‰åˆ°å†æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œæˆ‘ä»¬sessionå°±æ²¡æœ‰å€¼äº†ï¼Œå°±ä¸å—ç†å‰å°çš„è¯·æ±‚äº†ï¼</span></li></ul><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz11wqoaj3073073t8l.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h3><a name="103ä¸€æ¬¡æ€§æ ¡éªŒç " class="md-header-anchor"></a><span>10.3ä¸€æ¬¡æ€§æ ¡éªŒç </span></h3><p><span>ä¸€æ¬¡æ€§æ ¡éªŒç å…¶å®å°±æ˜¯ä¸ºäº†</span><strong><span>é˜²æ­¢æš´åŠ›çŒœæµ‹å¯†ç </span></strong><span>ï¼Œåœ¨è®²responseå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½¿ç”¨responseå¯¹è±¡è¾“å‡ºè¿‡éªŒè¯ç ï¼Œä½†æ˜¯æ²¡æœ‰å»éªŒè¯ï¼</span></p><p>&nbsp;</p><p><span>éªŒè¯çš„åŸç†ä¹Ÿéå¸¸ç®€å•ï¼š</span><strong><span>ç”ŸæˆéªŒè¯ç åï¼ŒæŠŠéªŒè¯ç çš„æ•°æ®å­˜è¿›SessionåŸŸå¯¹è±¡ä¸­ï¼Œåˆ¤æ–­ç”¨æˆ·è¾“å…¥éªŒè¯ç æ˜¯å¦å’ŒSessionåŸŸå¯¹è±¡çš„æ•°æ®ä¸€è‡´</span></strong><span>ã€‚</span></p><p>&nbsp;</p><p><strong><span>ç”ŸæˆéªŒè¯ç å›¾ç‰‡ï¼Œå¹¶å°†éªŒè¯ç å­˜è¿›SessionåŸŸä¸­</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åœ¨å†…å­˜ä¸­ç”Ÿæˆå›¾ç‰‡</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">BufferedImage</span> <span class="cm-variable">bufferedImage</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">BufferedImage</span>(<span class="cm-number">80</span>, <span class="cm-number">20</span>, <span class="cm-variable">BufferedImage</span>.<span class="cm-variable">TYPE_INT_RGB</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–åˆ°è¿™å¼ å›¾ç‰‡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Graphics2D</span> <span class="cm-variable">graphics2D</span> <span class="cm-operator">=</span> (<span class="cm-variable">Graphics2D</span>) <span class="cm-variable">bufferedImage</span>.<span class="cm-variable">getGraphics</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®èƒŒæ™¯è‰²ä¸ºç™½è‰²</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics2D</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">Color</span>.<span class="cm-variable">white</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics2D</span>.<span class="cm-variable">fillRect</span>(<span class="cm-number">0</span>, <span class="cm-number">0</span>, <span class="cm-number">80</span>, <span class="cm-number">20</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è®¾ç½®å›¾ç‰‡çš„å­—ä½“å’Œé¢œè‰²</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics2D</span>.<span class="cm-variable">setFont</span>(<span class="cm-keyword">new</span> <span class="cm-variable">Font</span>(<span class="cm-atom">null</span>, <span class="cm-variable">Font</span>.<span class="cm-variable">BOLD</span>, <span class="cm-number">20</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics2D</span>.<span class="cm-variable">setColor</span>(<span class="cm-variable">Color</span>.<span class="cm-variable">BLUE</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ç”Ÿæˆéšæœºæ•°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">randomNum</span> <span class="cm-operator">=</span> <span class="cm-variable">makeNum</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å¾€è¿™å¼ å›¾ç‰‡ä¸Šå†™æ•°æ®,æ¨ªåæ ‡æ˜¯0ï¼Œçºµåæ ‡æ˜¯20</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">graphics2D</span>.<span class="cm-variable">drawString</span>(<span class="cm-variable">randomNum</span>, <span class="cm-number">0</span>, <span class="cm-number">20</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//å°†éšæœºæ•°å­˜è¿›SessionåŸŸä¸­</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>().<span class="cm-variable">setAttribute</span>(<span class="cm-string">"randomNum"</span>, <span class="cm-variable">randomNum</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æ§åˆ¶æµè§ˆå™¨ä¸ç¼“å­˜è¯¥å›¾ç‰‡</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Expires"</span>, <span class="cm-string">"-1"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Cache-Control"</span>, <span class="cm-string">"no-cache"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Pragma"</span>, <span class="cm-string">"no-cache"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//é€šçŸ¥æµè§ˆå™¨ä»¥å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">response</span>.<span class="cm-variable">setHeader</span>(<span class="cm-string">"Content-type"</span>, <span class="cm-string">"image/jpeg"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ImageIO</span>.<span class="cm-variable">write</span>(<span class="cm-variable">bufferedImage</span>, <span class="cm-string">"jpg"</span>, <span class="cm-variable">response</span>.<span class="cm-variable">getOutputStream</span>());</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 748px;"></div><div class="CodeMirror-gutters" style="display: none; height: 748px;"></div></div></div></pre><p><span>ç”Ÿæˆéšæœºæ•°çš„æ–¹æ³•ï¼š</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">private</span> <span class="cm-variable-3">String</span> <span class="cm-def">makeNum</span>() {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">Random</span> <span class="cm-variable">random</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Random</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//ç”Ÿæˆ0-6ä½çš„éšæœºæ•°</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">int</span> <span class="cm-variable">num</span> <span class="cm-operator">=</span> <span class="cm-variable">random</span>.<span class="cm-variable">nextInt</span>(<span class="cm-number">999999</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//éªŒè¯ç çš„æ•°ä½å…¨éƒ½è¦6ä½æ•°ï¼Œäºæ˜¯å°†è¯¥éšæœºæ•°è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œä¸å¤Ÿä½æ•°å°±æ·»åŠ </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">String</span> <span class="cm-variable">randomNum</span> <span class="cm-operator">=</span> <span class="cm-variable-3">String</span>.<span class="cm-variable">valueOf</span>(<span class="cm-variable">num</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment">//ä½¿ç”¨StringBufferæ¥æ‹¼å‡‘å­—ç¬¦ä¸²</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-3">StringBuffer</span> <span class="cm-variable">stringBuffer</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable-3">StringBuffer</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">for</span> (<span class="cm-variable-3">int</span> <span class="cm-variable">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable">i</span> <span class="cm-operator">&lt;</span> <span class="cm-number">6</span> <span class="cm-operator">-</span> <span class="cm-variable">randomNum</span>.<span class="cm-variable">length</span>(); <span class="cm-variable">i</span><span class="cm-operator">++</span>) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">stringBuffer</span>.<span class="cm-variable">append</span>(<span class="cm-string">"0"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">stringBuffer</span>.<span class="cm-variable">append</span>(<span class="cm-variable">randomNum</span>).<span class="cm-variable">toString</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 462px;"></div><div class="CodeMirror-gutters" style="display: none; height: 462px;"></div></div></div></pre><p><span>jspæ˜¾ç¤ºé¡µé¢</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="html"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="html"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">form</span> <span class="cm-attribute">action</span>=<span class="cm-string">"/ouzicheng/Login2Servlet"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  ç”¨æˆ·åï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"username"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  å¯†ç ï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"password"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"password"</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  éªŒè¯ç ï¼š<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"text"</span> <span class="cm-attribute">name</span>=<span class="cm-string">"randomNum"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">img</span> <span class="cm-attribute">src</span>=<span class="cm-string">"/ouzicheng/ImageServlet"</span> <span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">&gt;&lt;</span><span class="cm-tag">br</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">type</span>=<span class="cm-string">"submit"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"æäº¤"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">form</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 242px;"></div><div class="CodeMirror-gutters" style="display: none; height: 242px;"></div></div></div></pre><p><span>å¤„ç†æäº¤è¡¨å•æ•°æ®çš„Servletï¼Œ</span><strong><span>åˆ¤æ–­ç”¨æˆ·å¸¦è¿‡æ¥éªŒè¯ç çš„æ•°æ®æ˜¯å¦å’ŒSessionçš„æ•°æ®ç›¸åŒã€‚</span></strong></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–ç”¨æˆ·è¾“å…¥éªŒè¯ç çš„æ•°æ®</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">client_randomNum</span> <span class="cm-operator">=</span> <span class="cm-variable">request</span>.<span class="cm-variable">getParameter</span>(<span class="cm-string">"randomNum"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//è·å–Sessionä¸­çš„æ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">String</span> <span class="cm-variable">session_randomNum</span> <span class="cm-operator">=</span> (<span class="cm-variable-3">String</span>) <span class="cm-variable">request</span>.<span class="cm-variable">getSession</span>().<span class="cm-variable">getAttribute</span>(<span class="cm-string">"randomNum"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//åˆ¤æ–­ä»–ä¿©æ•°æ®æ˜¯å¦ç›¸ç­‰ï¼Œç”¨æˆ·æ˜¯å¦æœ‰è¾“å…¥éªŒè¯ç ï¼ŒSessionä¸­æ˜¯å¦ä¸ºç©º</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> (<span class="cm-variable">client_randomNum</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span> <span class="cm-operator">||</span> <span class="cm-variable">session_randomNum</span> <span class="cm-operator">==</span> <span class="cm-atom">null</span> <span class="cm-operator">||</span> <span class="cm-operator">!</span><span class="cm-variable">client_randomNum</span>.<span class="cm-variable">equals</span>(<span class="cm-variable">session_randomNum</span>)) {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">System</span>.<span class="cm-variable">out</span>.<span class="cm-variable">println</span>(<span class="cm-string">"éªŒè¯ç é”™è¯¯äº†ï¼ï¼ï¼"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> ;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">//ä¸‹é¢å°±æ˜¯éªŒè¯ç”¨æˆ·åå’Œå¯†ç ...................</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 330px;"></div><div class="CodeMirror-gutters" style="display: none; height: 330px;"></div></div></div></pre><p>&nbsp;</p><p><span>æ˜¾ç¤ºé¡µé¢æ˜¯è¿™æ ·å­çš„</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f22873227a9?w=1045&amp;h=392&amp;f=png&amp;s=27202" referrerpolicy="no-referrer"></p><p><span>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•ˆæœï¼</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f228c490ad4?w=1220&amp;h=814&amp;f=gif&amp;s=204697" referrerpolicy="no-referrer"></p><p><span>å¯¹äºæ ¡éªŒç å®ç°æ€è·¯æ˜¯è¿™æ ·å­çš„ï¼š</span></p><ul><li><span>ä½¿ç”¨awtè¯­æ³•æ¥æå†™ä¸€å¼ éªŒè¯ç ï¼Œç”Ÿæˆéšæœºæ•°ä¿å­˜åœ¨seesionåŸŸä¸­ï¼Œæˆ‘ä»¬è®©éªŒè¯ç ä¸èƒ½ç¼“å­˜èµ·æ¥ã€åšåˆ°éªŒè¯ç éƒ½ä¸ä¸€æ ·ã€‘</span></li><li><span>é¡µé¢ç›´æ¥è®¿é—®Servletæ¥è·å–æˆ‘ä»¬çš„éªŒè¯ç ï¼Œäºæ˜¯æˆ‘ä»¬éªŒè¯ç çš„å€¼å°±ä¼šæ”¹å˜ã€åŒæ—¶sessionçš„å€¼ä¹Ÿä¼šè¢«æ”¹å˜ã€‘</span></li><li><span>å½“ç”¨æˆ·éªŒè¯çš„æ—¶å€™ï¼Œå°±æ˜¯sessionå†…çš„å€¼çš„éªŒè¯äº†ã€‚</span></li></ul><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz1m5s4ag303k03k74o.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h2><a name="11-sessionå’Œcookieçš„åŒºåˆ«" class="md-header-anchor"></a><span>11. Sessionå’ŒCookieçš„åŒºåˆ«</span></h2><ul><li><p><strong><span>ä»å­˜å‚¨æ–¹å¼ä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>Cookieåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œå¦‚æœè¦å­˜å‚¨éASCIIå­—ç¬¦ä¸²è¿˜è¦å¯¹å…¶ç¼–ç ã€‚</span></li><li><span>Sessionå¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥æŠŠSessionçœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨</span></li></ul></li><li><p><strong><span>ä»éšç§å®‰å…¨ä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><strong><span>Cookieå­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯å¯è§çš„</span></strong><span>ã€‚ä¿¡æ¯å®¹æ˜“æ³„éœ²å‡ºå»ã€‚å¦‚æœä½¿ç”¨Cookieï¼Œæœ€å¥½å°†CookieåŠ å¯†</span></li><li><strong><span>Sessionå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯é€æ˜çš„</span></strong><span>ã€‚ä¸å­˜åœ¨æ•æ„Ÿä¿¡æ¯æ³„éœ²é—®é¢˜ã€‚</span></li></ul></li><li><p><strong><span>ä»æœ‰æ•ˆæœŸä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>Cookieä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œåªéœ€è¦è®¾ç½®maxAgeå±æ€§ä¸ºæ¯”è¾ƒå¤§çš„æ­£æ•´æ•°ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨ï¼ŒCookieè¿˜æ˜¯å­˜åœ¨çš„</span></li><li><strong><span>Sessionçš„ä¿å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œè®¾ç½®maxInactiveIntervalå±æ€§å€¼æ¥ç¡®å®šSessionçš„æœ‰æ•ˆæœŸã€‚å¹¶ä¸”Sessionä¾èµ–äºåä¸ºJSESSIONIDçš„Cookieï¼Œè¯¥Cookieé»˜è®¤çš„maxAgeå±æ€§ä¸º-1ã€‚å¦‚æœå…³é—­äº†æµè§ˆå™¨ï¼Œè¯¥Sessionè™½ç„¶æ²¡æœ‰ä»æœåŠ¡å™¨ä¸­æ¶ˆäº¡ï¼Œä½†ä¹Ÿå°±å¤±æ•ˆäº†ã€‚</span></strong></li></ul></li><li><p><strong><span>ä»å¯¹æœåŠ¡å™¨çš„è´Ÿæ‹…æ¯”è¾ƒ</span></strong></p><ul><li><span>Sessionæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨çš„ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªSessionï¼Œå¦‚æœæ˜¯å¹¶å‘è®¿é—®çš„ç”¨æˆ·éå¸¸å¤šï¼Œæ˜¯ä¸èƒ½ä½¿ç”¨Sessionçš„ï¼ŒSessionä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ã€‚</span></li><li><span>Cookieæ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ã€‚ä¸å ç”¨æœåŠ¡å™¨çš„èµ„æºã€‚åƒbaiduã€Sinaè¿™æ ·çš„å¤§å‹ç½‘ç«™ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨Cookieæ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªã€‚</span></li></ul></li><li><p><strong><span>ä»æµè§ˆå™¨çš„æ”¯æŒä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>å¦‚æœæµè§ˆå™¨ç¦ç”¨äº†Cookieï¼Œé‚£ä¹ˆCookieæ˜¯æ— ç”¨çš„äº†ï¼</span></li><li><span>å¦‚æœæµè§ˆå™¨ç¦ç”¨äº†Cookieï¼ŒSessionå¯ä»¥é€šè¿‡URLåœ°å€é‡å†™æ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªã€‚</span></li></ul></li></ul><ul><li><p><strong><span>ä»è·¨åŸŸåä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>Cookieå¯ä»¥è®¾ç½®domainå±æ€§æ¥å®ç°è·¨åŸŸå</span></li><li><span>Sessionåªåœ¨å½“å‰çš„åŸŸåå†…æœ‰æ•ˆï¼Œä¸å¯å¤¸åŸŸå</span></li></ul></li></ul><hr /><h2><a name="12-cookieå’Œsessionå…±åŒä½¿ç”¨" class="md-header-anchor"></a><span>12. Cookieå’ŒSessionå…±åŒä½¿ç”¨</span></h2><p><strong><span>å¦‚æœä»…ä»…ä½¿ç”¨Cookieæˆ–ä»…ä»…ä½¿ç”¨Sessionå¯èƒ½è¾¾ä¸åˆ°ç†æƒ³çš„æ•ˆæœ</span></strong><span>ã€‚è¿™æ—¶åº”è¯¥å°è¯•ä¸€ä¸‹åŒæ—¶ä½¿ç”¨Sessionå’ŒCookieã€‚é‚£ä¹ˆï¼Œä»€ä¹ˆæ—¶å€™æ‰éœ€è¦åŒæ—¶ä½¿ç”¨Cookieå’ŒSessionå‘¢ï¼Ÿ</span></p><p>&nbsp;</p><p><span>åœ¨ä¸Šä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Sessionæ¥è¿›è¡Œç®€å•çš„è´­ç‰©ï¼ŒåŠŸèƒ½ä¹Ÿçš„ç¡®å®ç°äº†ã€‚ç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜ï¼š</span><strong><span>æˆ‘åœ¨è´­ç‰©çš„é€”ä¸­ï¼Œä¸å°å¿ƒå…³é—­äº†æµè§ˆå™¨ã€‚å½“æˆ‘å†è¿”å›è¿›å»æµè§ˆå™¨çš„æ—¶å€™ï¼Œå‘ç°æˆ‘è´­ä¹°è¿‡çš„å•†å“è®°å½•éƒ½æ²¡äº†ï¼ï¼ä¸ºä»€ä¹ˆä¼šæ²¡äº†å‘¢ï¼ŸåŸå› ä¹Ÿéå¸¸ç®€å•ï¼šæœåŠ¡å™¨ä¸ºSessionè‡ªåŠ¨ç»´æŠ¤çš„Cookieçš„maxAgeå±æ€§é»˜è®¤æ˜¯-1çš„ï¼Œå½“æµè§ˆå™¨å…³é—­æ‰äº†ï¼Œè¯¥Cookieå°±è‡ªåŠ¨æ¶ˆäº¡äº†ã€‚å½“ç”¨æˆ·å†æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œå·²ç»ä¸æ˜¯åŸæ¥çš„Cookieäº†ã€‚</span></strong></p><p>&nbsp;</p><p><span>æˆ‘ä»¬ç°åœ¨æƒ³çš„æ˜¯ï¼š</span><strong><span>å³ä½¿æˆ‘ä¸å°å¿ƒå…³é—­äº†æµè§ˆå™¨äº†ï¼Œæˆ‘é‡æ–°è¿›å»ç½‘ç«™ï¼Œæˆ‘è¿˜èƒ½æ‰¾åˆ°æˆ‘çš„è´­ä¹°è®°å½•</span></strong><span>ã€‚</span></p><p><span>è¦å®ç°è¯¥åŠŸèƒ½ä¹Ÿååˆ†ç®€å•ï¼Œé—®é¢˜å…¶å®å°±åœ¨ï¼šæœåŠ¡å™¨ä¸ºSessionè‡ªåŠ¨ç»´æŠ¤çš„Cookieçš„maxAgeå±æ€§æ˜¯-1ï¼ŒCookieæ²¡æœ‰ä¿å­˜åœ¨ç¡¬ç›˜ä¸­ã€‚æˆ‘ç°åœ¨è¦åšçš„å°±æ˜¯ï¼š</span><strong><span>æŠŠCookieä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œå³ä½¿æˆ‘å…³é—­äº†æµè§ˆå™¨ï¼Œæµè§ˆå™¨å†æ¬¡è®¿é—®é¡µé¢çš„æ—¶å€™ï¼Œå¯ä»¥å¸¦ä¸ŠCookieï¼Œä»è€ŒæœåŠ¡å™¨è¯†åˆ«å‡ºSessionã€‚</span></strong></p><p>&nbsp;</p><p><strong><span>ç¬¬ä¸€ç§æ–¹å¼ï¼š</span></strong><span>åªéœ€è¦åœ¨å¤„ç†è´­ä¹°é¡µé¢ä¸Šåˆ›å»ºCookieï¼ŒCookieçš„å€¼æ˜¯Sessionçš„idè¿”å›ç»™æµè§ˆå™¨å³å¯</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="java"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="java"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">Cookie</span> <span class="cm-variable">cookie</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Cookie</span>(<span class="cm-string">"JSESSIONID"</span>,<span class="cm-variable">session</span>.<span class="cm-variable">getId</span>());</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">cookie</span>.<span class="cm-variable">setMaxAge</span>(<span class="cm-number">30</span><span class="cm-operator">*</span><span class="cm-number">60</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">cookie</span>.<span class="cm-variable">setPath</span>(<span class="cm-string">"/ouzicheng/"</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">response</span>.<span class="cm-variable">addCookie</span>(<span class="cm-variable">cookie</span>);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 110px;"></div><div class="CodeMirror-gutters" style="display: none; height: 110px;"></div></div></div></pre><p><strong><span>ç¬¬äºŒç§æ–¹å¼ï¼š</span></strong><span> </span><strong><span>åœ¨server.xmlæ–‡ä»¶ä¸­é…ç½®ï¼Œå°†æ¯ä¸ªç”¨æˆ·çš„Sessionåœ¨æœåŠ¡å™¨å…³é—­çš„æ—¶å€™åºåˆ—åŒ–åˆ°ç¡¬ç›˜æˆ–æ•°æ®åº“ä¸Šä¿å­˜</span></strong><span>ã€‚ä½†æ­¤æ–¹æ³•ä¸å¸¸ç”¨ï¼ŒçŸ¥é“å³å¯ï¼</span></p><p>&nbsp;</p><p><span>ä¸‹é¢çœ‹ä¸€ä¸‹æ•ˆæœ</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/4/16160f2faad988f7?w=1900&amp;h=897&amp;f=gif&amp;s=2371567" referrerpolicy="no-referrer"></p><p>&nbsp;</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz20pp88g306o06oabm.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><h1><a name="servleté¢è¯•é¢˜" class="md-header-anchor"></a><span>Servleté¢è¯•é¢˜</span></h1><p>&nbsp;</p><p><span>ä¸‹é¢æ˜¯æˆ‘æ•´ç†ä¸‹æ¥çš„ServletçŸ¥è¯†ç‚¹:</span></p><p>&nbsp;</p><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba61c25bbcc9?w=4531&amp;h=2453&amp;f=png&amp;s=791844" referrerpolicy="no-referrer"></p><p><strong><span>å›¾ä¸Šçš„çŸ¥è¯†ç‚¹éƒ½å¯ä»¥åœ¨æˆ‘å…¶ä»–çš„æ–‡ç« å†…æ‰¾åˆ°ç›¸åº”å†…å®¹ã€‚</span></strong></p><h2><a name="1-tomcatå¸¸è§é¢è¯•é¢˜" class="md-header-anchor"></a><span>1. Tomcatå¸¸è§é¢è¯•é¢˜</span></h2><h3><a name="11tomcatçš„ç¼ºçœç«¯å£æ˜¯å¤šå°‘æ€ä¹ˆä¿®æ”¹" class="md-header-anchor"></a><span>1.1Tomcatçš„ç¼ºçœç«¯å£æ˜¯å¤šå°‘ï¼Œæ€ä¹ˆä¿®æ”¹</span></h3><blockquote><p><span>Tomcatçš„ç¼ºçœç«¯å£æ˜¯å¤šå°‘ï¼Œæ€ä¹ˆä¿®æ”¹</span></p></blockquote><ol start='' ><li><span>æ‰¾åˆ°Tomcatç›®å½•ä¸‹çš„confæ–‡ä»¶å¤¹</span></li><li><span>è¿›å…¥confæ–‡ä»¶å¤¹é‡Œé¢æ‰¾åˆ°server.xmlæ–‡ä»¶</span></li><li><span>æ‰“å¼€server.xmlæ–‡ä»¶</span></li><li><span>åœ¨server.xmlæ–‡ä»¶é‡Œé¢æ‰¾åˆ°ä¸‹åˆ—ä¿¡æ¯</span></li></ol><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Service</span> <span class="cm-attribute">name</span>=<span class="cm-string">"Catalina"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Connector</span> <span class="cm-attribute">port</span>=<span class="cm-string">"8080"</span> <span class="cm-attribute">protocol</span>=<span class="cm-string">"HTTP/1.1"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-attribute">connectionTimeout</span>=<span class="cm-string">"20000"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-attribute">redirectPort</span>=<span class="cm-string">"8443"</span> <span class="cm-tag cm-bracket">/&gt;</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><ol start='5' ><li><span>æŠŠport=â€8080â€³æ”¹æˆport=â€8888â€³ï¼Œå¹¶ä¸”ä¿å­˜</span></li><li><span>å¯åŠ¨Tomcatï¼Œå¹¶ä¸”åœ¨IEæµè§ˆå™¨é‡Œé¢çš„åœ°å€æ è¾“å…¥</span><a href='http://127.0.0.1:8888/' target='_blank' class='url'>http://127.0.0.1:8888/</a></li></ol><p><strong><span>åˆ°tomcatä¸»ç›®å½•ä¸‹çš„conf/server.xmlæ–‡ä»¶ä¸­ä¿®æ”¹</span></strong><span>,æŠŠ8080ç«¯å£æ”¹æˆæ˜¯8088æˆ–è€…æ˜¯å…¶ä»–çš„</span>
<img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba4fdb1dd132?w=855&amp;h=318&amp;f=png&amp;s=26183" referrerpolicy="no-referrer"></p><h3><a name="12tomcat-æœ‰å“ªå‡ ç§connector-è¿è¡Œæ¨¡å¼ä¼˜åŒ–" class="md-header-anchor"></a><span>1.2Tomcat æœ‰å“ªå‡ ç§Connector è¿è¡Œæ¨¡å¼(ä¼˜åŒ–)ï¼Ÿ</span></h3><blockquote><p><span>tomcat æœ‰å“ªå‡ ç§Connector è¿è¡Œæ¨¡å¼(ä¼˜åŒ–)ï¼Ÿ</span></p></blockquote><ol start='' ><li><span>bio(blocking I/O)</span></li><li><span>nio(non-blocking I/O)</span></li><li><span>apr(Apache Portable Runtime/Apacheå¯ç§»æ¤è¿è¡Œåº“)</span></li></ol><p><span>ç›¸å…³è§£é‡Š:</span></p><ul><li><span>bio: </span><strong><span>ä¼ ç»Ÿçš„Java I/Oæ“ä½œï¼ŒåŒæ­¥ä¸”é˜»å¡IOã€‚</span></strong></li><li><span>nio: </span><strong><span>JDK1.4å¼€å§‹æ”¯æŒï¼ŒåŒæ­¥é˜»å¡æˆ–åŒæ­¥éé˜»å¡IO</span></strong></li><li><span>aio(nio.2): </span><strong><span>JDK7å¼€å§‹æ”¯æŒï¼Œå¼‚æ­¥éé˜»å¡IO</span></strong></li><li><span>apr: Tomcatå°†ä»¥JNIçš„å½¢å¼è°ƒç”¨Apache HTTPæœåŠ¡å™¨çš„æ ¸å¿ƒåŠ¨æ€é“¾æ¥åº“æ¥å¤„ç†æ–‡ä»¶è¯»å–æˆ–ç½‘ç»œä¼ è¾“æ“ä½œï¼Œä»è€Œå¤§å¤§åœ° </span><strong><span>æé«˜Tomcatå¯¹é™æ€æ–‡ä»¶çš„å¤„ç†æ€§èƒ½</span></strong></li></ul><p><span>ä¸‹é¢æ˜¯</span><strong><span>é…ç½®Tomcatè¿è¡Œæ¨¡å¼æ”¹æˆæ˜¯NIOæ¨¡å¼ï¼Œå¹¶é…ç½®è¿æ¥æ± ç›¸å…³å‚æ•°æ¥è¿›è¡Œä¼˜åŒ–</span></strong><span>:</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="xml" style="break-inside: unset;"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="xml"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;!--</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;Connector port="8080" protocol="HTTP/1.1"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">connectionTimeout="20000"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-comment">redirectPort="8443" /&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">--&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;!-- protocol å¯ç”¨ nioæ¨¡å¼ï¼Œ(tomcat8é»˜è®¤ä½¿ç”¨çš„æ˜¯nio)(apræ¨¡å¼åˆ©ç”¨ç³»ç»Ÿçº§å¼‚æ­¥io) --&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;!-- minProcessorsæœ€å°ç©ºé—²è¿æ¥çº¿ç¨‹æ•°--&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;!-- maxProcessorsæœ€å¤§è¿æ¥çº¿ç¨‹æ•°--&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;!-- acceptCountå…è®¸çš„æœ€å¤§è¿æ¥æ•°ï¼Œåº”å¤§äºç­‰äºmaxProcessors--&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">&lt;!-- enableLookups å¦‚æœä¸ºtrue,requst.getRemoteHostä¼šæ‰§è¡ŒDNSæŸ¥æ‰¾ï¼Œåå‘è§£æipå¯¹åº”åŸŸåæˆ–ä¸»æœºå--&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">Connector</span> <span class="cm-attribute">port</span>=<span class="cm-string">"8080"</span> <span class="cm-attribute">protocol</span>=<span class="cm-string">"org.apache.coyote.http11.Http11NioProtocol"</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-attribute">connectionTimeout</span>=<span class="cm-string">"20000"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-attribute">redirectPort</span>=<span class="cm-string">"8443</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">maxThreads=â€œ500â€ </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">minSpareThreads=â€œ100â€ </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">maxSpareThreads=â€œ200â€</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">acceptCount="</span><span class="cm-attribute">200</span><span class="cm-string cm-error">"</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string cm-error">enableLookups="</span><span class="cm-attribute">false</span><span class="cm-string cm-error">" &nbsp; &nbsp; &nbsp; </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-string cm-error">/&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="">â€‹</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 462px;"></div><div class="CodeMirror-gutters" style="display: none; height: 462px;"></div></div></div></pre><p><span>apræ¨¡å¼å¯åŠ¨èµ·æ¥æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œè¯¦æƒ…å¯å‚è€ƒ:</span><a href='http://blog.csdn.net/wanglei_storage/article/details/50225779'><span>http://blog.csdn.net/wanglei_storage/article/details/50225779</span></a></p><p><span>å¯¹äºbio,nio,nio.2çš„ç†è§£å¯å‚è€ƒ:</span><a href='http://blog.csdn.net/itismelzp/article/details/50886009'><span>http://blog.csdn.net/itismelzp/article/details/50886009</span></a></p><h2><a name="2servleté¢è¯•é¢˜" class="md-header-anchor"></a><span>2.Servleté¢è¯•é¢˜</span></h2><h3><a name="21servletç”Ÿå‘½å‘¨æœŸ" class="md-header-anchor"></a><span>2.1Servletç”Ÿå‘½å‘¨æœŸ</span></h3><blockquote><p><span>Servletç”Ÿå‘½å‘¨æœŸ?</span></p></blockquote><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba5017b08de8?w=1920&amp;h=1040&amp;f=png&amp;s=88055" referrerpolicy="no-referrer"></p><p><strong><span>ç¬¬ä¸€æ¬¡è®¿é—®</span></strong><span>Servletï¼Œæˆ‘ä»¬å‘ç°</span><strong><span>init()å’Œservice()éƒ½è¢«è°ƒç”¨äº†</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba501d733248?w=400&amp;h=300&amp;f=png&amp;s=4528" referrerpolicy="no-referrer"></p><p><strong><span>ç¬¬äºŒæ¬¡è®¿é—®</span></strong><span>Servletï¼Œ</span><strong><span>service()è¢«è°ƒç”¨äº†</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba502595cde9?w=400&amp;h=300&amp;f=png&amp;s=5783" referrerpolicy="no-referrer"></p><p><span>ç¬¬ä¸‰æ¬¡è®¿é—®Servletï¼Œ</span><strong><span>è¿˜æ˜¯service()è¢«è°ƒç”¨äº†</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba502595cde9?w=400&amp;h=300&amp;f=png&amp;s=5783" referrerpolicy="no-referrer"></p><p><span>å½“æˆ‘ä»¬</span><strong><span>å…³é—­TomcatæœåŠ¡å™¨</span></strong><span>çš„æ—¶å€™ï¼Œ</span><strong><span>destroy()è¢«è°ƒç”¨äº†ï¼</span></strong></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba5051d778ed?w=400&amp;h=300&amp;f=png&amp;s=18790" referrerpolicy="no-referrer"></p><p><span> Servletç”Ÿå‘½å‘¨æœŸå¯åˆ†ä¸º5ä¸ªæ­¥éª¤</span></p><ol start='' ><li><strong><span>åŠ è½½Servlet</span></strong><span>ã€‚å½“Tomcatç¬¬ä¸€æ¬¡è®¿é—®Servletçš„æ—¶å€™ï¼Œ</span><strong><span>Tomcatä¼šè´Ÿè´£åˆ›å»ºServletçš„å®ä¾‹</span></strong></li><li><strong><span>åˆå§‹åŒ–</span></strong><span>ã€‚å½“Servletè¢«å®ä¾‹åŒ–åï¼ŒTomcatä¼š</span><strong><span>è°ƒç”¨init()æ–¹æ³•åˆå§‹åŒ–è¿™ä¸ªå¯¹è±¡</span></strong></li><li><strong><span>å¤„ç†æœåŠ¡</span></strong><span>ã€‚å½“æµè§ˆå™¨</span><strong><span>è®¿é—®Servlet</span></strong><span>çš„æ—¶å€™ï¼ŒServlet </span><strong><span>ä¼šè°ƒç”¨service()æ–¹æ³•å¤„ç†è¯·æ±‚</span></strong></li><li><strong><span>é”€æ¯</span></strong><span>ã€‚å½“Tomcatå…³é—­æ—¶æˆ–è€…æ£€æµ‹åˆ°Servletè¦ä»Tomcatåˆ é™¤çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨destroy()æ–¹æ³•ï¼Œ</span><strong><span>è®©è¯¥å®ä¾‹é‡Šæ”¾æ‰æ‰€å çš„èµ„æº</span></strong><span>ã€‚ä¸€ä¸ªServletå¦‚æœé•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„è¯ï¼Œä¹Ÿä¼šè¢«Tomcatè‡ªåŠ¨é”€æ¯</span></li><li><strong><span>å¸è½½</span></strong><span>ã€‚å½“Servletè°ƒç”¨å®Œdestroy()æ–¹æ³•åï¼Œç­‰å¾…åƒåœ¾å›æ”¶ã€‚å¦‚æœ</span><strong><span>æœ‰éœ€è¦å†æ¬¡ä½¿ç”¨è¿™ä¸ªServletï¼Œä¼šé‡æ–°è°ƒç”¨init()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–æ“ä½œ</span></strong><span>ã€‚</span></li></ol><p>&nbsp;</p><p><span>ç®€å•æ€»ç»“ï¼š</span><strong><span>åªè¦è®¿é—®Servletï¼Œservice()å°±ä¼šè¢«è°ƒç”¨ã€‚init()åªæœ‰ç¬¬ä¸€æ¬¡è®¿é—®Servletçš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚destroy()åªæœ‰åœ¨Tomcatå…³é—­çš„æ—¶å€™æ‰ä¼šè¢«è°ƒç”¨ã€‚</span></strong></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz2dvm1xg3073073q65.gif" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHub</span></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p><h3><a name="22getæ–¹å¼å’Œpostæ–¹å¼æœ‰ä½•åŒºåˆ«" class="md-header-anchor"></a><span>2.2getæ–¹å¼å’Œpostæ–¹å¼æœ‰ä½•åŒºåˆ«</span></h3><blockquote><p><span>getæ–¹å¼å’Œpostæ–¹å¼æœ‰ä½•åŒºåˆ«</span></p></blockquote><p><span>æ•°æ®æºå¸¦ä¸Š:</span></p><ul><li><span>GETæ–¹å¼ï¼šåœ¨URLåœ°å€åé™„å¸¦çš„å‚æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œå…¶æ•°æ®å®¹é‡é€šå¸¸ä¸èƒ½è¶…è¿‡1Kã€‚</span></li><li><span>POSTæ–¹å¼ï¼šå¯ä»¥åœ¨è¯·æ±‚çš„å®ä½“å†…å®¹ä¸­å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œä¼ é€çš„æ•°æ®é‡æ— é™åˆ¶ã€‚</span></li></ul><p><span>è¯·æ±‚å‚æ•°çš„ä½ç½®ä¸Š:</span></p><ul><li><span>GETæ–¹å¼ï¼šè¯·æ±‚å‚æ•°æ”¾åœ¨URLåœ°å€åé¢ï¼Œä»¥?çš„æ–¹å¼æ¥è¿›è¡Œæ‹¼æ¥</span></li><li><span>POSTæ–¹å¼:è¯·æ±‚å‚æ•°æ”¾åœ¨HTTPè¯·æ±‚åŒ…ä¸­</span></li></ul><p><span>ç”¨é€”ä¸Š:</span></p><ul><li><p><span>GETæ–¹å¼ä¸€èˆ¬ç”¨æ¥è·å–æ•°æ®</span></p></li><li><p><span>POSTæ–¹å¼ä¸€èˆ¬ç”¨æ¥æäº¤æ•°æ®</span></p><ul><li><p><span>åŸå› :</span></p><ul><li><span>é¦–å…ˆæ˜¯å› ä¸ºGETæ–¹å¼æºå¸¦çš„æ•°æ®é‡æ¯”è¾ƒå°ï¼Œæ— æ³•å¸¦è¿‡å»å¾ˆå¤§çš„æ•°é‡</span></li><li><span>POSTæ–¹å¼æäº¤çš„å‚æ•°åå°æ›´åŠ å®¹æ˜“è§£æ(ä½¿ç”¨POSTæ–¹å¼æäº¤çš„ä¸­æ–‡æ•°æ®ï¼Œåå°ä¹Ÿæ›´åŠ å®¹æ˜“è§£å†³)</span></li><li><span>GETæ–¹å¼æ¯”POSTæ–¹å¼è¦å¿«</span>
<span>GETæ–¹å¼æ¯”POSTæ–¹å¼è¦å¿«ï¼Œè¯¦æƒ…å¯çœ‹:</span><a href='https://www.cnblogs.com/strayling/p/3580048.html'><span>https://www.cnblogs.com/strayling/p/3580048.html</span></a></li></ul></li></ul></li></ul><h3><a name="23forwardå’Œredirectçš„åŒºåˆ«" class="md-header-anchor"></a><span>2.3forwardå’Œredirectçš„åŒºåˆ«</span></h3><blockquote><p><span>forwardå’Œredirectçš„åŒºåˆ«</span></p></blockquote><ul><li><p><strong><span>å®é™…å‘ç”Ÿä½ç½®ä¸åŒï¼Œåœ°å€æ ä¸åŒ</span></strong></p><ul><li><p><span>è½¬å‘æ˜¯å‘ç”Ÿåœ¨æœåŠ¡å™¨çš„</span></p><ul><li><strong><span>è½¬å‘æ˜¯ç”±æœåŠ¡å™¨è¿›è¡Œè·³è½¬çš„</span></strong><span>ï¼Œç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ï¼Œåœ¨è½¬å‘çš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨çš„åœ°å€æ æ˜¯æ²¡æœ‰å‘ç”Ÿå˜åŒ–çš„</span></strong><span>ï¼Œåœ¨æˆ‘è®¿é—®Servlet111çš„æ—¶å€™ï¼Œå³ä½¿è·³è½¬åˆ°äº†Servlet222çš„é¡µé¢ï¼Œæµè§ˆå™¨çš„åœ°å€è¿˜æ˜¯Servlet111çš„ã€‚ä¹Ÿå°±æ˜¯è¯´</span><strong><span>æµè§ˆå™¨æ˜¯ä¸çŸ¥é“è¯¥è·³è½¬çš„åŠ¨ä½œï¼Œè½¬å‘æ˜¯å¯¹æµè§ˆå™¨é€æ˜çš„</span></strong><span>ã€‚é€šè¿‡ä¸Šé¢çš„è½¬å‘æ—¶åºå›¾æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘ç°ï¼Œ</span><strong><span>å®ç°è½¬å‘åªæ˜¯ä¸€æ¬¡çš„httpè¯·æ±‚</span></strong><span>ï¼Œ</span><strong><span>ä¸€æ¬¡è½¬å‘ä¸­requestå’Œresponseå¯¹è±¡éƒ½æ˜¯åŒä¸€ä¸ª</span></strong><span>ã€‚è¿™ä¹Ÿè§£é‡Šäº†ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ä½¿ç”¨</span><strong><span>requestä½œä¸ºåŸŸå¯¹è±¡è¿›è¡ŒServletä¹‹é—´çš„é€šè®¯ã€‚</span></strong></li></ul></li><li><p><span>é‡å®šå‘æ˜¯å‘ç”Ÿåœ¨æµè§ˆå™¨çš„</span></p><ul><li><strong><span>é‡å®šå‘æ˜¯ç”±æµè§ˆå™¨è¿›è¡Œè·³è½¬çš„</span></strong><span>ï¼Œè¿›è¡Œé‡å®šå‘è·³è½¬çš„æ—¶å€™ï¼Œ</span><strong><span>æµè§ˆå™¨çš„åœ°å€ä¼šå‘ç”Ÿå˜åŒ–çš„</span></strong><span>ã€‚æ›¾ç»ä»‹ç»è¿‡ï¼šå®ç°é‡å®šå‘çš„åŸç†æ˜¯ç”±responseçš„çŠ¶æ€ç å’ŒLocationå¤´ç»„åˆè€Œå®ç°çš„ã€‚</span><strong><span>è¿™æ˜¯ç”±æµè§ˆå™¨è¿›è¡Œçš„é¡µé¢è·³è½¬</span></strong><span>å®ç°é‡å®šå‘</span><strong><span>ä¼šå‘å‡ºä¸¤ä¸ªhttpè¯·æ±‚</span></strong><span>ï¼Œ</span><strong><span>requeståŸŸå¯¹è±¡æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºå®ƒä¸æ˜¯åŒä¸€ä¸ªrequestå¯¹è±¡</span></strong></li></ul></li></ul></li><li><p><strong><span>ç”¨æ³•ä¸åŒ:</span></strong></p><ul><li><p><span>å¾ˆå¤šäººéƒ½æä¸æ¸…æ¥šè½¬å‘å’Œé‡å®šå‘çš„æ—¶å€™ï¼Œ</span><strong><span>èµ„æºåœ°å€ç©¶ç«Ÿæ€ä¹ˆå†™</span></strong><span>ã€‚æœ‰çš„æ—¶å€™è¦æŠŠåº”ç”¨åå†™ä¸Šï¼Œæœ‰çš„æ—¶å€™ä¸ç”¨æŠŠåº”ç”¨åå†™ä¸Šã€‚å¾ˆå®¹æ˜“æŠŠäººææ™•ã€‚è®°ä½ä¸€ä¸ªåŸåˆ™ï¼š </span><strong><span>ç»™æœåŠ¡å™¨ç”¨çš„ç›´æ¥ä»èµ„æºåå¼€å§‹å†™ï¼Œç»™æµè§ˆå™¨ç”¨çš„è¦æŠŠåº”ç”¨åå†™ä¸Š</span></strong></p><ul><li><p><span>request.getRequestDispatcher(&quot;/èµ„æºå URI&quot;).forward(request,response)</span></p><ul><li><strong><span>è½¬å‘æ—¶&quot;/&quot;ä»£è¡¨çš„æ˜¯æœ¬åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•ã€zhongfuchengã€‘</span></strong></li></ul></li><li><p><span>response.send(&quot;/webåº”ç”¨/èµ„æºå URI&quot;);</span></p><ul><li><strong><span>é‡å®šå‘æ—¶&quot;/&quot;ä»£è¡¨çš„æ˜¯webappsç›®å½•</span></strong></li></ul></li></ul></li></ul></li><li><p><strong><span>èƒ½å¤Ÿå»å¾€çš„URLçš„èŒƒå›´ä¸ä¸€æ ·:</span></strong></p><ul><li><strong><span>è½¬å‘æ˜¯æœåŠ¡å™¨è·³è½¬åªèƒ½å»å¾€å½“å‰webåº”ç”¨çš„èµ„æº</span></strong></li><li><strong><span>é‡å®šå‘æ˜¯æœåŠ¡å™¨è·³è½¬ï¼Œå¯ä»¥å»å¾€ä»»ä½•çš„èµ„æº</span></strong></li></ul></li><li><p><strong><span>ä¼ é€’æ•°æ®çš„ç±»å‹ä¸åŒ</span></strong></p><ul><li><strong><span>è½¬å‘çš„requestå¯¹è±¡å¯ä»¥ä¼ é€’å„ç§ç±»å‹çš„æ•°æ®ï¼ŒåŒ…æ‹¬å¯¹è±¡</span></strong></li><li><strong><span>é‡å®šå‘åªèƒ½ä¼ é€’å­—ç¬¦ä¸²</span></strong></li></ul></li><li><p><strong><span>è·³è½¬çš„æ—¶é—´ä¸åŒ</span></strong></p><ul><li><strong><span>è½¬å‘æ—¶ï¼šæ‰§è¡Œåˆ°è·³è½¬è¯­å¥æ—¶å°±ä¼šç«‹åˆ»è·³è½¬</span></strong></li><li><strong><span>é‡å®šå‘ï¼šæ•´ä¸ªé¡µé¢æ‰§è¡Œå®Œä¹‹åæ‰æ‰§è¡Œè·³è½¬</span></strong></li></ul></li></ul><p><span>é‚£ä¹ˆè½¬å‘(forward)å’Œé‡å®šå‘(redirect)ä½¿ç”¨å“ªä¸€ä¸ªï¼Ÿ</span></p><ul><li><span>æ ¹æ®ä¸Šé¢è¯´æ˜äº†è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“æ¦‚æ‹¬å‡ºæ¥ã€‚</span><strong><span>è½¬å‘æ˜¯å¸¦ç€è½¬å‘å‰çš„è¯·æ±‚çš„å‚æ•°çš„ã€‚é‡å®šå‘æ˜¯æ–°çš„è¯·æ±‚</span></strong><span>ã€‚</span></li></ul><p><span>å…¸å‹çš„åº”ç”¨åœºæ™¯ï¼š</span></p><ol start='' ><li><span>è½¬å‘: è®¿é—® Servlet å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œç„¶å forward åˆ° jsp æ˜¾ç¤ºå¤„ç†ç»“æœï¼Œæµè§ˆå™¨é‡Œ URL ä¸å˜</span></li><li><span>é‡å®šå‘: æäº¤è¡¨å•ï¼Œå¤„ç†æˆåŠŸå redirect åˆ°å¦ä¸€ä¸ª jspï¼Œé˜²æ­¢è¡¨å•é‡å¤æäº¤ï¼Œæµè§ˆå™¨é‡Œ URL å˜äº†</span></li></ol><h3><a name="24-tomcatå®¹å™¨æ˜¯å¦‚ä½•åˆ›å»ºservletç±»å®ä¾‹ç”¨åˆ°äº†ä»€ä¹ˆåŸç†" class="md-header-anchor"></a><span>2.4 tomcatå®¹å™¨æ˜¯å¦‚ä½•åˆ›å»ºservletç±»å®ä¾‹ï¼Ÿç”¨åˆ°äº†ä»€ä¹ˆåŸç†ï¼Ÿ</span></h3><blockquote><p><span>tomcatå®¹å™¨æ˜¯å¦‚ä½•åˆ›å»ºservletç±»å®ä¾‹ï¼Ÿç”¨åˆ°äº†ä»€ä¹ˆåŸç†</span></p></blockquote><ol start='' ><li><span>å½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¼šè¯»å–åœ¨webappsç›®å½•ä¸‹æ‰€æœ‰çš„webåº”ç”¨ä¸­çš„web.xmlæ–‡ä»¶ï¼Œç„¶åå¯¹ </span><strong><span>xmlæ–‡ä»¶è¿›è¡Œè§£æï¼Œå¹¶è¯»å–servletæ³¨å†Œä¿¡æ¯</span></strong><span>ã€‚ç„¶åï¼Œå°†æ¯ä¸ªåº”ç”¨ä¸­æ³¨å†Œçš„servletç±»éƒ½è¿›è¡ŒåŠ è½½ï¼Œå¹¶é€šè¿‡ </span><strong><span>åå°„çš„æ–¹å¼å®ä¾‹åŒ–</span></strong><span>ã€‚ï¼ˆæœ‰æ—¶å€™ä¹Ÿæ˜¯åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶å®ä¾‹åŒ–ï¼‰</span></li><li><span>åœ¨servletæ³¨å†Œæ—¶åŠ ä¸Š</span><code>&lt;load-on-startup&gt;</code><span>1</span><code>&lt;/load-on-startup&gt;</code><span>å¦‚æœä¸ºæ­£æ•°ï¼Œåˆ™åœ¨ä¸€å¼€å§‹å°±å®ä¾‹åŒ–ï¼Œå¦‚æœä¸å†™æˆ–ä¸ºè´Ÿæ•°ï¼Œåˆ™ç¬¬ä¸€æ¬¡è¯·æ±‚å®ä¾‹åŒ–ã€‚</span></li></ol><h3><a name="25ä»€ä¹ˆæ˜¯cookiesessionå’Œcookieæœ‰ä»€ä¹ˆåŒºåˆ«-" class="md-header-anchor"></a><span>2.5ä»€ä¹ˆæ˜¯cookieï¼ŸSessionå’Œcookieæœ‰ä»€ä¹ˆåŒºåˆ« ï¼Ÿ</span></h3><blockquote><p><span>ä»€ä¹ˆæ˜¯cookieï¼Ÿ</span></p></blockquote><p><span> Cookieæ˜¯ç”±W3Cç»„ç»‡æå‡ºï¼Œæœ€æ—©ç”±netscapeç¤¾åŒºå‘å±•çš„ä¸€ç§æœºåˆ¶</span></p><p><span>ç½‘é¡µä¹‹é—´çš„</span><strong><span>äº¤äº’æ˜¯é€šè¿‡HTTPåè®®ä¼ è¾“æ•°æ®çš„ï¼Œ</span></strong><span>è€ŒHttpåè®®æ˜¯</span><strong><span>æ— çŠ¶æ€çš„åè®®</span></strong><span>ã€‚æ— çŠ¶æ€çš„åè®®æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</span><strong><span>ä¸€æ—¦æ•°æ®æäº¤å®Œåï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„è¿æ¥å°±ä¼šå…³é—­ï¼Œå†æ¬¡äº¤äº’çš„æ—¶å€™éœ€è¦é‡æ–°å»ºç«‹æ–°çš„è¿æ¥</span></strong><span>ã€‚</span></p><p><span>æœåŠ¡å™¨æ— æ³•ç¡®è®¤ç”¨æˆ·çš„ä¿¡æ¯ï¼Œäºæ˜¯ä¹ï¼ŒW3Cå°±æå‡ºäº†ï¼š</span><strong><span>ç»™æ¯ä¸€ä¸ªç”¨æˆ·éƒ½å‘ä¸€ä¸ªé€šè¡Œè¯ï¼Œæ— è®ºè°è®¿é—®çš„æ—¶å€™éƒ½éœ€è¦æºå¸¦é€šè¡Œè¯ï¼Œè¿™æ ·æœåŠ¡å™¨å°±å¯ä»¥ä»é€šè¡Œè¯ä¸Šç¡®è®¤ç”¨æˆ·çš„ä¿¡æ¯</span></strong><span>ã€‚é€šè¡Œè¯å°±æ˜¯Cookie</span></p><p><img src="https://user-gold-cdn.xitu.io/2018/2/3/1615ba505779d02b?w=842&amp;h=390&amp;f=png&amp;s=20785" referrerpolicy="no-referrer"></p><blockquote><p><span>Sessionå’Œcookieæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></p></blockquote><ul><li><p><strong><span>ä»å­˜å‚¨æ–¹å¼ä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>Cookieåªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œå¦‚æœè¦å­˜å‚¨éASCIIå­—ç¬¦ä¸²è¿˜è¦å¯¹å…¶ç¼–ç ã€‚</span></li><li><span>Sessionå¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå¯ä»¥æŠŠSessionçœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨</span></li></ul></li><li><p><strong><span>ä»éšç§å®‰å…¨ä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><strong><span>Cookieå­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯å¯è§çš„</span></strong><span>ã€‚ä¿¡æ¯å®¹æ˜“æ³„éœ²å‡ºå»ã€‚å¦‚æœä½¿ç”¨Cookieï¼Œæœ€å¥½å°†CookieåŠ å¯†</span></li><li><strong><span>Sessionå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¯¹å®¢æˆ·ç«¯æ˜¯é€æ˜çš„</span></strong><span>ã€‚ä¸å­˜åœ¨æ•æ„Ÿä¿¡æ¯æ³„éœ²é—®é¢˜ã€‚</span></li></ul></li><li><p><strong><span>ä»æœ‰æ•ˆæœŸä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>Cookieä¿å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œåªéœ€è¦è®¾ç½®maxAgeå±æ€§ä¸ºæ¯”è¾ƒå¤§çš„æ­£æ•´æ•°ï¼Œå³ä½¿å…³é—­æµè§ˆå™¨ï¼ŒCookieè¿˜æ˜¯å­˜åœ¨çš„</span></li><li><strong><span>Sessionçš„ä¿å­˜åœ¨æœåŠ¡å™¨ä¸­ï¼Œè®¾ç½®maxInactiveIntervalå±æ€§å€¼æ¥ç¡®å®šSessionçš„æœ‰æ•ˆæœŸã€‚å¹¶ä¸”Sessionä¾èµ–äºåä¸ºJSESSIONIDçš„Cookieï¼Œè¯¥Cookieé»˜è®¤çš„maxAgeå±æ€§ä¸º-1ã€‚å¦‚æœå…³é—­äº†æµè§ˆå™¨ï¼Œè¯¥Sessionè™½ç„¶æ²¡æœ‰ä»æœåŠ¡å™¨ä¸­æ¶ˆäº¡ï¼Œä½†ä¹Ÿå°±å¤±æ•ˆäº†ã€‚</span></strong></li></ul></li><li><p><strong><span>ä»å¯¹æœåŠ¡å™¨çš„è´Ÿæ‹…æ¯”è¾ƒ</span></strong></p><ul><li><span>Sessionæ˜¯ä¿å­˜åœ¨æœåŠ¡å™¨çš„ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªSessionï¼Œå¦‚æœæ˜¯å¹¶å‘è®¿é—®çš„ç”¨æˆ·éå¸¸å¤šï¼Œæ˜¯ä¸èƒ½ä½¿ç”¨Sessionçš„ï¼ŒSessionä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜ã€‚</span></li><li><span>Cookieæ˜¯ä¿å­˜åœ¨å®¢æˆ·ç«¯çš„ã€‚ä¸å ç”¨æœåŠ¡å™¨çš„èµ„æºã€‚åƒbaiduã€Sinaè¿™æ ·çš„å¤§å‹ç½‘ç«™ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨Cookieæ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªã€‚</span></li></ul></li><li><p><strong><span>ä»æµè§ˆå™¨çš„æ”¯æŒä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>å¦‚æœæµè§ˆå™¨ç¦ç”¨äº†Cookieï¼Œé‚£ä¹ˆCookieæ˜¯æ— ç”¨çš„äº†ï¼</span></li><li><span>å¦‚æœæµè§ˆå™¨ç¦ç”¨äº†Cookieï¼ŒSessionå¯ä»¥é€šè¿‡URLåœ°å€é‡å†™æ¥è¿›è¡Œä¼šè¯è·Ÿè¸ªã€‚</span></li></ul></li></ul><ul><li><p><strong><span>ä»è·¨åŸŸåä¸Šæ¯”è¾ƒ</span></strong></p><ul><li><span>Cookieå¯ä»¥è®¾ç½®domainå±æ€§æ¥å®ç°è·¨åŸŸå</span></li><li><span>Sessionåªåœ¨å½“å‰çš„åŸŸåå†…æœ‰æ•ˆï¼Œä¸å¯å¤¸åŸŸå</span></li></ul></li></ul><h3><a name="26-servletå®‰å…¨æ€§é—®é¢˜" class="md-header-anchor"></a><span>2.6 Servletå®‰å…¨æ€§é—®é¢˜</span></h3><p><span>ç”±äºServletæ˜¯å•ä¾‹çš„ï¼Œå½“å¤šä¸ªç”¨æˆ·è®¿é—®Servletçš„æ—¶å€™ï¼Œ</span><strong><span>æœåŠ¡å™¨ä¼šä¸ºæ¯ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªçº¿ç¨‹</span></strong><span>ã€‚</span><strong><span>å½“å¤šä¸ªç”¨æˆ·å¹¶å‘è®¿é—®Servletå…±äº«èµ„æºçš„æ—¶å€™å°±ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜</span></strong><span>ã€‚</span></p><p><span>åŸåˆ™ï¼š</span></p><ol start='' ><li><span>å¦‚æœä¸€ä¸ª</span><strong><span>å˜é‡éœ€è¦å¤šä¸ªç”¨æˆ·å…±äº«</span></strong><span>ï¼Œåˆ™åº”å½“åœ¨è®¿é—®è¯¥å˜é‡çš„æ—¶å€™ï¼Œ</span><strong><span>åŠ åŒæ­¥æœºåˆ¶synchronized (å¯¹è±¡){}</span></strong></li><li><span>å¦‚æœä¸€ä¸ªå˜é‡</span><strong><span>ä¸éœ€è¦å…±äº«</span></strong><span>ï¼Œåˆ™</span><strong><span>ç›´æ¥åœ¨ doGet() æˆ–è€… doPost()å®šä¹‰</span></strong><span>.è¿™æ ·ä¸ä¼šå­˜åœ¨çº¿ç¨‹å®‰å…¨é—®é¢˜</span></li></ol><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnz2wwo0lj30730743ye.jpg" referrerpolicy="no-referrer"></p><p><span>å¦‚æœæ–‡æ¡£ä¸­æœ‰ä»»ä½•çš„ä¸æ‡‚çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥ç›´æ¥æ¥æ‰¾æˆ‘è¯¢é—®ï¼Œæˆ‘ä¹æ„å¸®åŠ©ä½ ä»¬ï¼å¾®ä¿¡æœ</span><strong><span>Java3y</span></strong><span>å…¬ä¼—å·æœ‰æˆ‘çš„</span><strong><span>è”ç³»æ–¹å¼</span></strong><span>ã€‚æ›´å¤šåŸåˆ›æŠ€æœ¯æ–‡ç« å¯å…³æ³¨æˆ‘çš„GitHubï¼š</span><a href='https://github.com/ZhongFuCheng3y/3y' target='_blank' class='url'>https://github.com/ZhongFuCheng3y/3y</a></p><p><img src="https://tva1.sinaimg.cn/large/00831rSTly1gcnyqyo2bnj3076076dga.jpg" referrerpolicy="no-referrer"></p></div>
</body>
</html>