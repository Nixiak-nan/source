



## å‰è¨€

> åªæœ‰å…‰å¤´æ‰èƒ½å˜å¼ºã€‚

> **æ–‡æœ¬å·²æ”¶å½•è‡³æˆ‘çš„GitHubç²¾é€‰æ–‡ç« ï¼Œæ¬¢è¿Star**ï¼š[https://github.com/ZhongFuCheng3y/3y](https://github.com/ZhongFuCheng3y/3y)



ä»Šå¤©æ¥ç®€å•å†™ä¸€ä¸‹Javaçš„åå°„ã€‚æœ¬æ¥æ²¡æ‰“ç®—å†™åå°„è¿™ä¸ªçŸ¥è¯†ç‚¹çš„ï¼Œåªæ˜¯ä¸å°‘çš„è¯»è€…éƒ½é—®è¿‡æˆ‘ï¼šâ€œä½ çš„çŸ¥è¯†ç‚¹å¥½åƒç¼ºäº†åå°„é˜¿ã€‚èƒ½ä¸èƒ½è¡¥ä¸€ä¸‹ï¼Ÿâ€



![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371c3ce4096?w=2056&h=776&f=jpeg&s=80553)



è¿™å‘¨æœ«ä¹Ÿæœ‰ç‚¹ç©ºäº†ï¼Œæ‰€ä»¥æ¥å†™å†™æˆ‘å¯¹åå°„çš„ç®€å•ç†è§£ã€‚è¿™ç¯‡æ˜¯å…¥é—¨æ–‡ç« ï¼Œæ²¡æœ‰é«˜æ·±çš„çŸ¥è¯†ç‚¹ï¼Œå¸Œæœ›èƒ½å¯¹æ–°äººæœ‰å¸®åŠ©ã€‚å¦‚æœæ–‡ç« æœ‰é”™çš„åœ°æ–¹ï¼Œéº»çƒ¦åœ¨è¯„è®ºåŒºå‹å–„è¯„è®ºæŒ‡å‡º~



Javaå¸¸ç”¨å’Œé‡è¦çš„çŸ¥è¯†ç‚¹æˆ‘éƒ½å†™è¿‡ï¼ˆ**ç°åœ¨å·²æœ‰200+ç¯‡æŠ€æœ¯åŸåˆ›**ï¼‰ï¼Œå¦‚æœæƒ³çœ‹çš„åŒå­¦ï¼Œä¸å¦¨å…³æ³¨æˆ‘çš„[GitHub](https://github.com/ZhongFuCheng3y/3y)ï¼Œå³å¯è·å–æˆ‘çš„æ‰€æœ‰åŸåˆ›æ–‡ç« ã€‚



## ä¸€ã€åºè¨€

åœ¨å­¦ä¹ JavaåŸºç¡€çš„æ—¶å€™ï¼Œä¸€èˆ¬éƒ½ä¼šå­¦è¿‡åå°„ã€‚æˆ‘åœ¨åˆå­¦åå°„çš„æ—¶å€™ï¼Œå¹¶ä¸èƒ½ç†è§£åå°„æ˜¯ç”¨æ¥å¹²å˜›çš„ã€‚å­¦äº†ä¸€äº›APIå‘ç°ï¼šâ€œ**æ˜æ˜æˆ‘è‡ªå·±èƒ½ç›´æ¥newä¸€ä¸ªå¯¹è±¡ï¼Œä¸ºä»€ä¹ˆå®ƒè¦ç»•ä¸€ä¸ªåœˆå­ï¼Œå…ˆæ‹¿åˆ°Classå¯¹è±¡ï¼Œå†è°ƒç”¨Classå¯¹è±¡çš„æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡å‘¢ï¼Œè¿™ä¸æ˜¯å¤šä½™å—ï¼Ÿ**â€



ç›¸ä¿¡å¾ˆå¤šäººåœ¨åˆå­¦åå°„çš„æ—¶å€™ä¹Ÿéƒ½ä¼šæœ‰è¿™ä¸ªæƒ³æ³•ï¼ˆæˆ‘å°±ä¸ç›¸ä¿¡å°±åªæœ‰æˆ‘ä¸€ä¸ªäººè¿™ä¹ˆè ¢ï¼ï¼ï¼‰



è€Œä¸”åœ¨æœç´¢ç›¸å…³èµ„æ–™çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¹Ÿä»…ä»…æ˜¯è®²è§£åå°„çš„ä¸€ç³»åˆ—APIï¼Œå§‹ç»ˆæ˜¯ä¸äº†è§£åå°„ç©¶ç«Ÿæ˜¯æœ‰ä»€ä¹ˆç”¨ï¼Œè¿™ç¯‡æ–‡ç« æ¥å‘Šè¯‰ä½ å§ã€‚**è§‰å¾—ä¸é”™ï¼Œç»™æˆ‘ç‚¹ä¸ªèµå‘—**



![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371c841e7cb?w=300&h=300&f=gif&s=36864)

## äºŒã€å¼•å‡ºClasså¯¹è±¡

é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€æ®µä»£ç ï¼š

```java
public class Demo {
    // è‡ªå»ºäº†ä¸€ä¸ªStudentç±»
    class Student{
    }
    public static void main(String[] args) {
        // å°†Object å¼ºè½¬æˆStudentç±»
        Object o = new Object();
        Student s = (Student) o;
    }
}
```

æˆ‘ä»¬åœ¨IDEç¼–å†™è¿™ä¸€æ®µä»£ç çš„æ—¶å€™ï¼Œä¸ä¼šå‡ºç°ä»»ä½•çš„é”™è¯¯ã€‚ä½†æ˜¯ç­‰æˆ‘ä»¬æ‰§è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“è¿™è‚¯å®š**å¼ºè½¬å¤±è´¥äº†**ã€‚

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371cb371a7f?w=3522&h=1054&f=jpeg&s=297657)



é‚£ä¹ˆâ€œJavaâ€ï¼ˆå®è´¨ä¸ŠJVMï¼‰æ˜¯æ€ä¹ˆçŸ¥é“æˆ‘ä»¬å†™çš„**å¼ºè½¬**æœ‰æ²¡æœ‰é—®é¢˜çš„å‘¢ï¼Ÿå¯ä»¥ä¾èµ–`Class`å¯¹è±¡æ¥ååŠ©åˆ¤æ–­ã€‚



å¦‚æœçœ‹è¿‡æˆ‘å†™`JVM`çš„é‚£ç¯‡æ–‡ç« çš„åŒå­¦åº”è¯¥éƒ½çŸ¥é“ä¸€ä¸ªå¯¹è±¡çš„åŠ è½½è¿‡ç¨‹ï¼Œå¦‚æœæ²¡çœ‹è¿‡çš„åŒå­¦å¯ä»¥å†å»çœ‹çœ‹ï¼Œé¡ºä¾¿åœ¨è¿™é‡Œç»™å¤§å®¶å¤ä¹ ä¸€ä¸‹ï¼š

- ä¸€ä¸ª`.java`çš„æ–‡ä»¶ç»è¿‡`javac`å‘½ä»¤ç¼–è¯‘æˆåŠŸåï¼Œå¾—åˆ°ä¸€ä¸ª`.classçš„æ–‡ä»¶`
- å½“æˆ‘ä»¬æ‰§è¡Œäº†åˆå§‹åŒ–æ“ä½œ(æœ‰å¯èƒ½æ˜¯newã€æœ‰å¯èƒ½æ˜¯å­ç±»åˆå§‹åŒ– çˆ¶ç±»ä¹Ÿä¸€åŒè¢«åˆå§‹åŒ–ã€ä¹Ÿæœ‰å¯èƒ½æ˜¯åå°„...ç­‰)ï¼Œä¼šå°†`.class`æ–‡ä»¶é€šè¿‡**ç±»åŠ è½½å™¨**è£…è½½åˆ°`jvm`ä¸­
- å°†`.class`æ–‡ä»¶åŠ è½½å™¨åŠ è½½åˆ°jvmä¸­ï¼Œåˆåˆ†äº†**å¥½å‡ ä¸ªæ­¥éª¤**ï¼Œå…¶ä¸­åŒ…æ‹¬ **åŠ è½½ã€è¿æ¥å’Œåˆå§‹åŒ–**

- å…¶ä¸­åœ¨åŠ è½½çš„æ—¶å€™ï¼Œä¼šåœ¨Javaå †ä¸­**åˆ›å»ºä¸€ä¸ªjava.lang.Classç±»çš„å¯¹è±¡**ï¼Œè¿™ä¸ªClasså¯¹è±¡ä»£è¡¨ç€**ç±»ç›¸å…³çš„ä¿¡æ¯**ã€‚



æ—¢ç„¶è¯´ï¼ŒClasså¯¹è±¡ä»£è¡¨ç€ç±»ç›¸å…³çš„ä¿¡æ¯ï¼Œé‚£è¯´æ˜åªè¦ç±»æœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œåœ¨Classå¯¹è±¡æˆ‘éƒ½èƒ½æ‰¾å¾—åˆ°ã€‚æˆ‘ä»¬æ‰“å¼€IDEçœ‹çœ‹é‡Œè¾¹çš„æ–¹æ³•ï¼š

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371cad494a6?w=1080&h=1750&f=jpeg&s=306099)



äºæ˜¯æˆ‘ä»¬å¯ä»¥**é€šè¿‡Classå¯¹è±¡æ¥åˆ¤æ–­å¯¹è±¡çš„çœŸæ­£ç±»å‹**ã€‚

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371cb5fad6c?w=255&h=255&f=jpeg&s=8267)

## ä¸‰ã€åå°„ä»‹ç»

å…¶å®åå°„å°±æ˜¯å›´ç»•ç€`Class`å¯¹è±¡å’Œ`java.lang.reflect`ç±»åº“æ¥å­¦ä¹ ï¼Œå°±æ˜¯å„ç§çš„API



æ¯”å¦‚ä¸Šé¢æˆªå›¾çš„`Method`/`Field`/`Constructor`è¿™äº›éƒ½æ˜¯åœ¨`java.lang.reflect`ç±»åº“ä¸‹ï¼Œæ­£æ˜¯å› ä¸ºè¿™äº›ç±»åº“çš„å­¦ä¹ å¹¶ä¸éš¾ï¼Œæ‰€ä»¥æˆ‘æ‰ä¸€ç›´æ²¡å†™åå°„çš„æ–‡ç« ã€‚

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371cb80e85f?w=1080&h=1230&f=jpeg&s=111384)



æˆ‘å¹¶ä¸æ˜¯è¯´è¿™äº›APIæˆ‘éƒ½èƒ½è®°ä½ï¼Œåªæ˜¯è¿™äº›APIæ•™ç¨‹åœ¨ç½‘ä¸Šæœ‰éå¸¸éå¸¸å¤šï¼Œä¹Ÿè¶³å¤Ÿé€šä¿—æ˜“æ‡‚äº†ã€‚åœ¨å…¥é—¨çš„æ—¶å€™ï¼Œå…¶å®æŒæ¡ä»¥ä¸‹å‡ ç§ä¹Ÿå·®ä¸å¤šäº†ï¼š

- çŸ¥é“è·å–Classå¯¹è±¡çš„å‡ ç§é€”å¾„
- é€šè¿‡Classå¯¹è±¡åˆ›å»ºå‡ºå¯¹è±¡ï¼Œè·å–å‡ºæ„é€ å™¨ï¼Œæˆå‘˜å˜é‡ï¼Œæ–¹æ³•
- é€šè¿‡åå°„çš„APIä¿®æ”¹æˆå‘˜å˜é‡çš„å€¼ï¼Œè°ƒç”¨æ–¹æ³•

```java
/*
	ä¸‹é¢æ˜¯æˆ‘åˆå­¦åå°„æ—¶åšçš„ç¬”è®°ï¼Œåº”è¯¥å¯ä»¥å¸®åˆ°å¤§å®¶ï¼Œä»£ç æˆ‘å°±ä¸è´´äº†ã€‚ï¼ˆJava3yä½ å€¼å¾—å…³æ³¨ï¼‰
*/
æƒ³è¦ä½¿ç”¨åå°„ï¼Œæˆ‘å…ˆè¦å¾—åˆ°classæ–‡ä»¶å¯¹è±¡ï¼Œå…¶å®ä¹Ÿå°±æ˜¯å¾—åˆ°Classç±»çš„å¯¹è±¡
Classç±»ä¸»è¦APIï¼š
        æˆå‘˜å˜é‡  - Field
        æˆå‘˜æ–¹æ³•  - Constructor
        æ„é€ æ–¹æ³•  - Method
è·å–classæ–‡ä»¶å¯¹è±¡çš„æ–¹å¼ï¼š
        1ï¼šObjectç±»çš„getClass()æ–¹æ³•
        2ï¼šæ•°æ®ç±»å‹çš„é™æ€å±æ€§class
        3ï¼šClassç±»ä¸­çš„é™æ€æ–¹æ³•ï¼špublic static Class ForName(String className)
--------------------------------  
è·å–æˆå‘˜å˜é‡å¹¶ä½¿ç”¨
        1: è·å–Classå¯¹è±¡
        2ï¼šé€šè¿‡Classå¯¹è±¡è·å–Constructorå¯¹è±¡
        3ï¼šObject obj = Constructor.newInstance()åˆ›å»ºå¯¹è±¡
        4ï¼šField field = Class.getField("æŒ‡å®šå˜é‡å")è·å–å•ä¸ªæˆå‘˜å˜é‡å¯¹è±¡
        5ï¼šfield.set(obj,"") ä¸ºobjå¯¹è±¡çš„fieldå­—æ®µèµ‹å€¼
å¦‚æœéœ€è¦è®¿é—®ç§æœ‰æˆ–è€…é»˜è®¤ä¿®é¥°çš„æˆå‘˜å˜é‡
        1:Class.getDeclaredField()è·å–è¯¥æˆå‘˜å˜é‡å¯¹è±¡
        2:setAccessible() æš´åŠ›è®¿é—®  
---------------------------------          
é€šè¿‡åå°„è°ƒç”¨æˆå‘˜æ–¹æ³•
        1ï¼šè·å–Classå¯¹è±¡
        2ï¼šé€šè¿‡Classå¯¹è±¡è·å–Constructorå¯¹è±¡
        3ï¼šConstructor.newInstance()åˆ›å»ºå¯¹è±¡
        4ï¼šé€šè¿‡Classå¯¹è±¡è·å–Methodå¯¹è±¡  ------getMethod("æ–¹æ³•å");
        5: Methodå¯¹è±¡è°ƒç”¨invokeæ–¹æ³•å®ç°åŠŸèƒ½
å¦‚æœè°ƒç”¨çš„æ˜¯ç§æœ‰æ–¹æ³•é‚£ä¹ˆéœ€è¦æš´åŠ›è®¿é—®
        1: getDeclaredMethod()
        2: setAccessiable();          
```



ç›¸ä¿¡æˆ‘ï¼Œå»æœç´¢å¼•æ“çœ‹ä¸€ä¼šï¼Œä½ å°±å­¦ä¼šäº†ã€‚åå°„çš„APIå¹¶ä¸éš¾å­¦ï¼Œä¸€èˆ¬äººå­¦ä¸æ‡‚åå°„å› ä¸ºä¸çŸ¥é“åå°„ç©¶ç«Ÿèƒ½å¹²ä»€ä¹ˆï¼Œä¸‹é¢æˆ‘æ¥è®²è®²æˆ‘çš„è®²è§£ã€‚

## å››ã€ä¸ºä»€ä¹ˆéœ€è¦åå°„

åœ¨åˆå­¦Javaçš„æ—¶å€™å…¶å®æˆ‘ä¸ªäººè®¤ä¸ºè¿˜æ˜¯æ¯”è¾ƒéš¾ç†è§£ä¸ºä»€ä¹ˆéœ€è¦åå°„çš„ï¼Œå› ä¸ºæ²¡æœ‰ä¸€å®šçš„ä»£ç é‡ä¸‹ï¼Œå¾ˆéš¾ç†è§£ä¸ºä»€ä¹ˆæˆ‘è¦ç»•ä¸€ä¸ªåœˆå­å»æåå°„è¿™ä¸€å¥—ã€‚



æˆ‘ç°åœ¨è®¤ä¸ºç”¨åå°„ä¸»è¦æœ‰ä¸¤ä¸ªåŸå› ï¼š

- æé«˜ç¨‹åºçš„çµæ´»æ€§
- å±è”½æ‰å®ç°çš„ç»†èŠ‚ï¼Œè®©ä½¿ç”¨è€…æ›´åŠ æ–¹ä¾¿å¥½ç”¨



æˆ‘ä¸€ç›´åœ¨æ–‡ç« ä¸­éƒ½åœ¨å¼ºè°ƒï¼Œå­¦æŸä¸€é¡¹æŠ€æœ¯ä¹‹å‰ï¼Œä¸€å®šè¦ç†è§£ä¸ºä»€ä¹ˆè¦å­¦è¿™é¡¹æŠ€æœ¯ï¼Œæ‰€ä»¥æˆ‘çš„æ–‡ç« ä¸€èˆ¬ä¼šèŠ±æ¯”è¾ƒé•¿çš„å¹…åº¦ä¸Šè®²ä¸ºä»€ä¹ˆã€‚



ä¸‹é¢æˆ‘æ¥ä¸¾å‡ ä¸ªä¾‹å­æ¥å¸®åŠ©å¤§å®¶ç†è§£

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371f6d627d4?w=255&h=255&f=jpeg&s=12776)



### 4.1 æ¡ˆä¾‹ä¸€ï¼ˆJDBCï¼‰

ç›¸ä¿¡å¤§å®¶éƒ½å†™è¿‡`jdbc`çš„ä»£ç ï¼Œæˆ‘è´´ä¸€å°æ®µï¼Œå¤§å®¶å›é¡¾ä¸€ä¸‹ï¼š

```java
Class.forName("com.mysql.jdbc.Driver");

//è·å–ä¸æ•°æ®åº“è¿æ¥çš„å¯¹è±¡-Connetcion
connection = DriverManager.getConnection("jdbc:mysql://localhost:3306/java3y", "root", "root");

//è·å–æ‰§è¡Œsqlè¯­å¥çš„statementå¯¹è±¡
statement = connection.createStatement();

//æ‰§è¡Œsqlè¯­å¥,æ‹¿åˆ°ç»“æœé›†
resultSet = statement.executeQuery("SELECT * FROM users");
```

åæ¥ä¸ºä»€ä¹ˆè¦å˜æˆä¸‹é¢è¿™ç§å½¢å¼å‘¢ï¼Ÿ

```java
//è·å–é…ç½®æ–‡ä»¶çš„è¯»å…¥æµ
InputStream inputStream = UtilsDemo.class.getClassLoader().getResourceAsStream("db.properties");

Properties properties = new Properties();
properties.load(inputStream);

//è·å–é…ç½®æ–‡ä»¶çš„ä¿¡æ¯
driver = properties.getProperty("driver");
url = properties.getProperty("url");
username = properties.getProperty("username");
password = properties.getProperty("password");

//åŠ è½½é©±åŠ¨ç±»
Class.forName(driver);
```

ç†ç”±å¾ˆç®€å•ï¼Œ**äººä»¬ä¸æƒ³ä¿®æ”¹ä»£ç **ã€‚åªè¦å­˜åœ¨æœ‰å˜åŠ¨çš„åœ°æ–¹ï¼Œæˆ‘å†™åœ¨é…ç½®é‡Œè¾¹ï¼Œä¸é¦™å—ï¼Ÿä½†å‡¡æœ‰ä¸€å¤©ï¼Œæˆ‘çš„usernameï¼Œpasswordï¼Œurlç”šè‡³æ˜¯æ•°æ®åº“éƒ½æ”¹äº†ï¼Œæˆ‘éƒ½èƒ½å¤Ÿé€šè¿‡ä¿®æ”¹é…ç½®çš„æ–¹å¼å»å®ç°ã€‚



**ä¸éœ€è¦åŠ¨æˆ‘ä¸æ¯«çš„ä»£ç ï¼Œæ”¹ä¸‹é…ç½®å°±å®Œäº‹äº†**ï¼Œè¿™å°±èƒ½æä¾›ç¨‹åºçš„çµæ´»æ€§ã€‚



æœ‰äººå¯èƒ½ä¼šé—®ï¼šâ€œé‚£è¿˜æ˜¯è¦æ”¹å•Šï¼Œæˆ‘æ”¹ä»£ç ä¹Ÿå¾ˆå¿«å•Šï¼Œä½ æ”¹é…ç½®ä¸ä¹Ÿæ˜¯è¦æ”¹å—â€ã€‚



å…¶å®ä¸ä¸€æ ·çš„ï¼Œæˆ‘ä¸¾ä¸ªä¾‹å­ï¼š

- ä¸‰æ­ªå†™äº†ä¸€ä¸ªJDBCç»„ä»¶ï¼ŒæŠŠå„ç§é…ç½®éƒ½å†™æ­»åœ¨ä»£ç ä¸Šï¼Œæ¯”å¦‚ä¸Šé¢çš„driver/username/æ•°æ®åº“è¿æ¥æ•°ç­‰ç­‰ã€‚ç°åœ¨ä¸‰æ­ªä¸å¹²äº†ï¼Œè¦è·‘è·¯äº†ã€‚
- æ•–ä¸™æ¥æ¥æ‰‹ä¸‰æ­ªçš„ä»£ç ï¼Œæ•–ä¸™åˆšå¼€å§‹æ¥æ‰‹é¡¹ç›®ï¼Œå…¬å¸è¯´è¦æ¢æ•°æ®åº“ã€‚æ•–ä¸™ç»™é¢†å¯¼è¯´ï¼šè¿™ç©æ„ï¼Œæˆ‘æ”¹æ”¹é…ç½®å°±å¥½äº†ï¼Œå‡ åˆ†é’Ÿå®Œäº‹ã€‚
- æ•–ä¸™æ‰¾äº†åŠå¤©éƒ½æ²¡æ‰¾åˆ°é…ç½®çš„åœ°æ–¹ï¼Œç”±äºä¸‰æ­ªå†™çš„ä»£ç åˆè‡­åˆçƒ‚ï¼Œæ‰¾äº†åŠå¤©æ‰æ‰¾åˆ°å…¥å£å’Œå¯¹åº”çš„ä½ç½®ã€‚



æ”¹ä»£ç çš„é£é™©è¦æ¯”æ”¹é…ç½®å¤§ï¼Œ**å³ä¾¿ä¸çŸ¥é“ä»£ç çš„å®ç°**éƒ½èƒ½é€šè¿‡æ”¹é…ç½®æ¥å®Œæˆè¦åšçš„äº‹ã€‚



è¿™ç§å°±**èƒ½é€šè¿‡å¯é…**çš„ï¼Œå…¶å†…éƒ¨å¾ˆå¯èƒ½å°±æ˜¯é€šè¿‡åå°„æ¥åšçš„ã€‚

> è¿™é‡Œåªæ˜¯è¯´å¯èƒ½ï¼Œä½†ä¸å…¨æ˜¯ã€‚æœ‰çš„å¯é…çš„å‚æ•°å¯èƒ½å°±ä»…ä»…åªæ˜¯é…ç½®ï¼Œè·Ÿåå°„æ— å…³ã€‚ä½†ä¸Šé¢jdbcçš„ä¾‹å­ï¼Œå°±æ˜¯é€šè¿‡åå°„æ¥åŠ è½½é©±åŠ¨çš„ã€‚



![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371fd6a0b47?w=240&h=240&f=jpeg&s=11913)

### 4.2 æ¡ˆä¾‹äºŒï¼ˆSpringMVCï¼‰

ç›¸ä¿¡å¤§å®¶å­¦SpringMVCä¹‹å‰éƒ½å­¦è¿‡Servletçš„å§ï¼Œå¦‚æœæ²¡å­¦è¿‡ï¼Œå»ºè®®çœ‹æˆ‘çš„æ–‡ç« å†å¤å¤ä¹ ã€‚



æˆ‘å½“æ—¶å­¦MVCæ¡†æ¶çš„æ—¶å€™ç»™æˆ‘å¸¦æ¥å°è±¡æœ€æ·±çš„æ˜¯ä»€ä¹ˆï¼Œæœ¬æ¥éœ€è¦å„ç§`getParameter()`ï¼Œç°åœ¨åªè¦é€šè¿‡çº¦å®šå¥½`JavaBean`çš„å­—æ®µåï¼Œå°±èƒ½æŠŠå€¼å¡«å……è¿›å»äº†ã€‚



è¿˜æ˜¯ä¸Šä»£ç å§ï¼Œè¿™æ˜¯æˆ‘ä»¬å½“æ—¶å­¦Servletçš„ç°çŠ¶ï¼š

```java
//é€šè¿‡htmlçš„nameå±æ€§ï¼Œè·å–åˆ°å€¼
String username = request.getParameter("username");
String password = request.getParameter("password");
String gender = request.getParameter("gender");

//å¤é€‰æ¡†å’Œä¸‹æ‹‰æ¡†æœ‰å¤šä¸ªå€¼ï¼Œè·å–åˆ°å¤šä¸ªå€¼
String[] hobbies = request.getParameterValues("hobbies");
String[] address = request.getParameterValues("address");

//è·å–åˆ°æ–‡æœ¬åŸŸçš„å€¼
String description = request.getParameter("textarea");

//å¾—åˆ°éšè—åŸŸçš„å€¼
String hiddenValue = request.getParameter("aaa");
```

æˆ‘ä»¬å­¦åˆ°SpringMVCçš„æ—¶å€™æ˜¯æ€ä¹ˆæ ·çš„ï¼š

```java
@RequestMapping(value = "/save")
@ResponseBody
public String taskSave(PushConfig pushConfig) {
     // ç›´æ¥ä½¿ç”¨  
	   String name= pushConfig.getName();
}
```

ä¸ºä»€ä¹ˆSpringMVCèƒ½åšåˆ°ï¼Ÿå…¶å®å°±æ˜¯é€šè¿‡**åå°„**æ¥åšçš„ã€‚



ç›¸ä¿¡ä½ ä¹Ÿæœ‰è¿‡çš„ç»å†ï¼š

- å¦‚æœä½ çš„JavaBeançš„å±æ€§åè·Ÿä¼ é€’è¿‡æ¥çš„å‚æ•°åä¸ä¸€è‡´ï¼Œé‚£å°±â€œè‡ªåŠ¨ç»„è£…â€å¤±è´¥äº†ã€‚å› ä¸ºåå°„åªèƒ½æ ¹æ®å‚æ•°åå»æ‰¾å­—æ®µåï¼Œå¦‚æœä¸ä¸€è‡´ï¼Œé‚£è‚¯å®š`set`ä¸è¿›å»äº†ã€‚æ‰€ä»¥å°±ç»„è£…å¤±è´¥äº†å‘€~



å¦‚æœåœ¨ä½¿ç”¨æ¡†æ¶çš„æ—¶å€™ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬å¾€å¾€å†™ä¸ŠJavaBeanï¼Œä¿æŒå­—æ®µåä¸å‚æ•°åç›¸åŒï¼Œå°±èƒ½â€œè‡ªåŠ¨â€å¾—åˆ°å¯¹åº”çš„å€¼å‘¢ã€‚è¿™å°±æ˜¯åå°„çš„å¥½å¤„ã€‚



**å±è”½æ‰å®ç°çš„ç»†èŠ‚ï¼Œè®©ä½¿ç”¨è€…æ›´åŠ æ–¹ä¾¿å¥½ç”¨**

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e371cb5fad6c?w=255&h=255&f=jpeg&s=8267)

## äº”ã€æˆ‘ä»¬å†™åå°„çš„ä»£ç å¤šå—ï¼Ÿ

å¤§éƒ¨åˆ†ç¨‹åºå‘˜éƒ½æ˜¯å†™ä¸šåŠ¡ä»£ç çš„ï¼Œå¤§éƒ¨åˆ†ç¨‹åºå‘˜éƒ½æ˜¯ç»´æŠ¤è€ç³»ç»Ÿçš„ï¼Œå…¶å®è¦æˆ‘ä»¬è‡ªå·±å†™åå°„çš„ä»£ç çš„æ—¶å€™ï¼ŒçœŸçš„ä¸å¤šã€‚



ä»ä¸Šé¢ä¹Ÿçœ‹å‡ºï¼Œä»€ä¹ˆæ—¶å€™ä¼šå†™åå°„ï¼Ÿå†™æˆ‘ä»¬è‡ªå·±**ç»„ä»¶/æ¡†æ¶**çš„æ—¶å€™ã€‚å¦‚æœæƒ³æ‰¾ä¸ªåœ°ç»ƒæ‰‹ä¸€ä¸‹åå°„ï¼Œæˆ‘è§‰å¾—**è‡ªå®šä¹‰æ³¨è§£**æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚



å› ä¸ºç°åœ¨ç”¨æ³¨è§£çš„åœ°æ–¹å¾ˆå¤šï¼Œä¸»è¦æ˜¯å¤Ÿæ¸…æ™°ç®€å•ï¼ˆå†ä¹Ÿä¸ç”¨å¯¹ç€ä¸€å †çš„XMLæ–‡ä»¶äº†ï¼Œå“ˆå“ˆå“ˆå“ˆ~ï¼‰ã€‚



æˆ‘åˆå­¦çš„æ—¶å€™å†™è¿‡ä¸€æ®µï¼Œå¯ä»¥ç®€å•å‚è€ƒä¸€ä¸‹ï¼Œæ€è·¯éƒ½å·®ä¸å¤šçš„å“ˆã€‚ä¸‹é¢æ˜¯ä½¿ç”¨çš„æ•ˆæœï¼ˆä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£ç»™ä¸åŒçš„æ¥å£å¢åŠ æƒé™ï¼‰

```java
@permission("æ·»åŠ åˆ†ç±»")
/*æ·»åŠ åˆ†ç±»*/ void addCategory(Category category);

/*æŸ¥æ‰¾åˆ†ç±»*/
void findCategory(String id);

@permission("æŸ¥æ‰¾åˆ†ç±»")
/*æŸ¥çœ‹åˆ†ç±»*/ List<Category> getAllCategory();
```

è¿”å›ä¸€ä¸ª**ä»£ç†**çš„Serviceå¯¹è±¡æ¥å¤„ç†è‡ªå®šä¹‰æ³¨è§£ï¼š

```java
public class ServiceDaoFactory {

    private static final ServiceDaoFactory factory = new ServiceDaoFactory();

    private ServiceDaoFactory() {
    }

    public static ServiceDaoFactory getInstance() {
        return factory;
    }


    //éœ€è¦åˆ¤æ–­è¯¥ç”¨æˆ·æ˜¯å¦æœ‰æƒé™
    public <T> T createDao(String className, Class<T> clazz, final User user) {

        System.out.println("æ·»åŠ åˆ†ç±»è¿›æ¥äº†ï¼");

        try {
            //å¾—åˆ°è¯¥ç±»çš„ç±»å‹
            final T t = (T) Class.forName(className).newInstance();
            //è¿”å›ä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡å‡ºå»
            return (T) Proxy.newProxyInstance(ServiceDaoFactory.class.getClassLoader(), t.getClass().getInterfaces(), new InvocationHandler() {

                @Override
                public Object invoke(Object proxy, Method method, Object[] args) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException, PrivilegeException {
                    //åˆ¤æ–­ç”¨æˆ·è°ƒç”¨çš„æ˜¯ä»€ä¹ˆæ–¹æ³•
                    String methodName = method.getName();
                    System.out.println(methodName);

                    //å¾—åˆ°ç”¨æˆ·è°ƒç”¨çš„çœŸå®æ–¹æ³•ï¼Œæ³¨æ„å‚æ•°ï¼ï¼ï¼
                    Method method1 = t.getClass().getMethod(methodName,method.getParameterTypes());

                    //æŸ¥çœ‹æ–¹æ³•ä¸Šæœ‰æ²¡æœ‰æ³¨è§£
                    permission permis = method1.getAnnotation(permission.class);

                    //å¦‚æœæ³¨è§£ä¸ºç©ºï¼Œé‚£ä¹ˆè¡¨ç¤ºè¯¥æ–¹æ³•å¹¶ä¸éœ€è¦æƒé™ï¼Œç›´æ¥è°ƒç”¨æ–¹æ³•å³å¯
                    if (permis == null) {
                        return method.invoke(t, args);
                    }

                    //å¦‚æœæ³¨è§£ä¸ä¸ºç©ºï¼Œå¾—åˆ°æ³¨è§£ä¸Šçš„æƒé™
                    String privilege = permis.value();

                    //è®¾ç½®æƒé™ã€åé¢é€šè¿‡å®ƒæ¥åˆ¤æ–­ç”¨æˆ·çš„æƒé™æœ‰æ²¡æœ‰è‡ªå·±ã€‘
                    Privilege p = new Privilege();
                    p.setName(privilege);

                    //åˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œå·²ç»æ˜¯éœ€è¦æƒé™äº†ï¼Œé‚£ä¹ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†äº†
                    if (user == null) {

                        //è¿™é‡ŒæŠ›å‡ºçš„å¼‚å¸¸æ˜¯ä»£ç†å¯¹è±¡æŠ›å‡ºçš„ï¼Œsunå…¬å¸ä¼šè‡ªåŠ¨è½¬æ¢æˆè¿è¡ŒæœŸå¼‚å¸¸æŠ›å‡ºï¼Œäºæ˜¯åœ¨Servletä¸Šæˆ‘ä»¬æ ¹æ®getCause()æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯è¯¥å¼‚å¸¸ï¼Œä»è€Œåšå‡ºç›¸å¯¹åº”çš„æç¤ºã€‚
                        throw new PrivilegeException("å¯¹ä¸èµ·è¯·å…ˆç™»é™†");
                    }

                    //æ‰§è¡Œåˆ°è¿™é‡Œç”¨æˆ·å·²ç»ç™»é™†äº†ï¼Œåˆ¤æ–­ç”¨æˆ·æœ‰æ²¡æœ‰æƒé™
                    Method m = t.getClass().getMethod("findUserPrivilege", String.class);
                    List<Privilege> list = (List<Privilege>) m.invoke(t, user.getId());

                    //çœ‹ä¸‹æƒé™é›†åˆä¸­æœ‰æ²¡æœ‰åŒ…å«æ–¹æ³•éœ€è¦çš„æƒé™ã€‚ä½¿ç”¨containsæ–¹æ³•ï¼Œåœ¨Privilegeå¯¹è±¡ä¸­éœ€è¦é‡å†™hashCodeå’Œequals()
                    if (!list.contains(p)) {
                        //è¿™é‡ŒæŠ›å‡ºçš„å¼‚å¸¸æ˜¯ä»£ç†å¯¹è±¡æŠ›å‡ºçš„ï¼Œsunå…¬å¸ä¼šè‡ªåŠ¨è½¬æ¢æˆè¿è¡ŒæœŸå¼‚å¸¸æŠ›å‡ºï¼Œäºæ˜¯åœ¨Servletä¸Šæˆ‘ä»¬æ ¹æ®getCause()æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯è¯¥å¼‚å¸¸ï¼Œä»è€Œåšå‡ºç›¸å¯¹åº”çš„æç¤ºã€‚
                        throw new PrivilegeException("æ‚¨æ²¡æœ‰æƒé™ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ï¼");
                    }

                    //æ‰§è¡Œåˆ°è¿™é‡Œçš„æ—¶å€™ï¼Œå·²ç»æœ‰æƒé™äº†ï¼Œæ‰€ä»¥å¯ä»¥æ”¾è¡Œäº†
                    return method.invoke(t, args);
                }
            });

        } catch (Exception e) {
            new RuntimeException(e);
        }
        return null;
    }
}
```

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e37207cd6741?w=255&h=255&f=jpeg&s=6435)

## æœ€å

è¿™ç¯‡åå°„è·Ÿç½‘ä¸Šçš„æ–‡ç« ä¸å¤ªä¸€æ ·ï¼Œç½‘ä¸Šçš„åå°„ä¸€èˆ¬éƒ½æ˜¯ä»‹ç»åå°„çš„APIå¦‚ä½•ä½¿ç”¨ã€‚å¦‚æœä½ è§‰å¾—è¿˜ä¸é”™ï¼Œç»™æˆ‘ç‚¹èµå§ğŸ‘ã€‚æƒ³è¦çœ‹å…¶ä»–çŸ¥è¯†ç‚¹çš„åŒå­¦ï¼Œå¯ä»¥ç»™æˆ‘ç•™è¨€ï¼Œæˆ‘å¯ä»¥é…Œæƒ…è€ƒè™‘å†™ä¸€ä¸‹ï¼ˆå“ˆå“ˆå“ˆå“ˆï¼Œçªç„¶å˜å¤§ç‰Œäº†ï¼‰



è¿™ç¯‡æ–‡ç« æ¶‰åŠåˆ°çš„å…¶ä»–çŸ¥è¯†ç‚¹ï¼šJVMç±»çš„åŠ è½½è¿‡ç¨‹ã€æ³¨è§£ã€åŠ¨æ€ä»£ç†ã€SpringMVCã€JDBCæˆ‘éƒ½å·²ç»å†™è¿‡æ–‡ç« äº†ï¼Œæƒ³è¦é˜…è¯»çš„åŒå­¦å¯ä»¥å…³æ³¨æˆ‘çš„[GitHub](https://github.com/ZhongFuCheng3y/3y)æœç´¢ç›¸å…³å…³é”®å­—å³å¯ã€‚



![](https://user-gold-cdn.xitu.io/2020/2/16/1704e3720ce8671b?w=255&h=255&f=jpeg&s=12944)



å¦‚æœå¤§å®¶æƒ³è¦**å®æ—¶**å…³æ³¨æˆ‘æ›´æ–°çš„æ–‡ç« ä»¥åŠåˆ†äº«çš„å¹²è´§çš„è¯ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Œ**Java3y**ã€ã€‚


- ğŸ”¥**Javaç²¾ç¾è„‘å›¾**
- ğŸ”¥**Javaå­¦ä¹ è·¯çº¿**
- ğŸ”¥**å¼€å‘å¸¸ç”¨å·¥å…·**


åœ¨å…¬ä¼—å·ä¸‹å›å¤ã€Œ**888**ã€å³å¯è·å–ï¼ï¼

![](https://user-gold-cdn.xitu.io/2020/2/16/1704e37221dc917d?w=600&h=600&f=gif&s=759369)



> **æœ¬å·²æ”¶å½•è‡³æˆ‘çš„GitHubç²¾é€‰æ–‡ç« ï¼Œæ¬¢è¿Star**ï¼š[https://github.com/ZhongFuCheng3y/3y](https://github.com/ZhongFuCheng3y/3y)
>
> **æ±‚ç‚¹èµ** **æ±‚å…³æ³¨ï¸**  **æ±‚åˆ†äº«ğŸ‘¥** **æ±‚ç•™è¨€ğŸ’¬** å¯¹æˆ‘æ¥è¯´çœŸçš„ **éå¸¸æœ‰ç”¨**ï¼ï¼ï¼



[https://www.zeng.dev/post/2019-java-generic/#heading5](https://www.zeng.dev/post/2019-java-generic/#heading5)

[https://segmentfault.com/q/1010000003004720](https://segmentfault.com/q/1010000003004720)

[https://blog.csdn.net/f641385712/article/details/88789847](https://blog.csdn.net/f641385712/article/details/88789847)





